/*! For license information please see main.416dc9e6.js.LICENSE.txt */
(()=>{"use strict";var e={144:(e,t,n)=>{var r=n(60),i=n(724);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ce=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function xe(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function De(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ce)&&(De(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Ae=!1}function Me(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Fe=null,je=!1,Ue=null,Be={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,o,s,a,l){Le=!1,Fe=null,Me.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,Ct,kt,xt=!1,Tt=[],It=null,Dt=null,Nt=null,Ot=new Map,Pt=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Bt(){xt=!1,null!==It&&jt(It)&&(It=null),null!==Dt&&jt(Dt)&&(Dt=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Dt&&Vt(Dt,e),null!==Nt&&Vt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var zt=_.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Kt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Dt=Lt(Dt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=F({},un,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),yn=on(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),_n=on(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Cn}var xn=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(xn),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=on(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(On),An=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,Fn=c&&(!Rn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){xe(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(_i(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Cr={};function kr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=kr("animationend"),Tr=kr("animationiteration"),Ir=kr("animationstart"),Dr=kr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Rr=Or[Ar];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Dr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Fe;Le=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,u),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=o,i=we(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case xr:case Tr:case Ir:l=yn;break;case Dr:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&c.push(Hr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:_i(l),f=null==u?a:_i(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Qr(s,a,l,c,!1),null!==u&&null!==h&&Qr(s,h,u,c,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Wn(a))if(Xn)g=sr;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?_i(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(s,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,b)).length&&(b=new _n(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pe(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Ei=[],Si=-1;function Ci(e){return{current:e}}function ki(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function xi(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ti={},Ii=Ci(Ti),Di=Ci(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){ki(Di),ki(Ii)}function Ri(e,t,n){if(Ii.current!==Ti)throw Error(o(168));xi(Ii,t),xi(Di,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,xi(Ii,e),xi(Di,Di.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Di),ki(Ii),xi(Ii,e)):ki(Di),xi(Di,n)}var ji=null,Ui=!1,Bi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,qi),i}finally{bt=t,Bi=!1}}return null}var zi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Wi++]=Ki,zi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Xi=o+e}else $i=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Ki=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Ci(null),bo=null,_o=null,wo=null;function Eo(){wo=_o=bo=null}function So(e){var t=vo.current;ki(vo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function xo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var To=null;function Io(e){null===To?To=[e]:To.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,c=u=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Ro(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(ru(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Ro(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(ru(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Ro(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(ru(t,e,r,n),Lo(t,e,r))}};function zo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Pi(t)?Ni:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Pi(t)?Ni:Ii.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case E:return(t=Uu(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lu(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),io&&Ji(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return io&&Ji(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function g(i,a,l,u){var c=M(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return io&&Ji(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Yo(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Go(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===S?((o=Lu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mu(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uu(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(M(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=ju(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=$o(!0),Jo=$o(!1),Zo={},es=Ci(Zo),ts=Ci(Zo),ns=Ci(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(xi(ns,t),xi(ts,e),xi(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),xi(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(xi(ts,e),xi(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Ci(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function hs(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var ds=_.ReactCurrentDispatcher,fs=_.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,ys=null,vs=!1,bs=!1,_s=0,ws=0;function Es(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Cs(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,_s=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,ds.current=ua,e=n(r,i)}while(bs)}if(ds.current=sa,t=null!==gs&&null!==gs.next,ps=0,ys=gs=ms=null,vs=!1,t)throw Error(o(300));return e}function ks(){var e=0!==_s;return _s=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function Ts(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function Is(e,t){return"function"===typeof t?t(e):t}function Ds(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var h=c.lane;if((ps&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,ms.lanes|=h,Fl|=h}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=Ts(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function Ps(e,t){var n=ms,r=Ts(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,_a=!0),r=r.queue,Ws(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,Us(9,Rs.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&ps)||As(n,t,i)}return i}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Fs(e)}function Ms(e,t,n){return n((function(){Ls(t)&&Fs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=No(e,1);null!==t&&ru(t,e,1,-1)}function js(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bs(){return Ts().memoizedState}function Vs(e,t,n,r){var i=xs();ms.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===r?null:r)}function qs(e,t,n,r){var i=Ts();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=Us(t,n,o,r))}ms.flags|=e,i.memoizedState=Us(1|t,n,o,r)}function zs(e,t){return Vs(8390656,8,e,t)}function Ws(e,t){return qs(2048,8,e,t)}function Hs(e,t){return qs(4,2,e,t)}function Ks(e,t){return qs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qs(4,4,Gs.bind(null,t,e),n)}function Ys(){}function $s(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Ts();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Ts().memoizedState}function ta(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Do(e,t,n,r))){ru(n,e,r,tu()),oa(n,t,r)}}function na(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Do(e,t,i,r))&&(ru(n,e,r,i=tu()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var sa={readContext:xo,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},aa={readContext:xo,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:xo,useEffect:zs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=xs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:js,useDebugValue:Ys,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=xs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&ps)||As(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zs(Ms.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,Rs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=xs(),t=Nl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=_s++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:xo,useCallback:$s,useContext:xo,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Ds,useRef:Bs,useState:function(){return Ds(Is)},useDebugValue:Ys,useDeferredValue:function(e){return Js(Ts(),gs.memoizedState,e)},useTransition:function(){return[Ds(Is)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1},ua={readContext:xo,useCallback:$s,useContext:xo,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Ns,useRef:Bs,useState:function(){return Ns(Is)},useDebugValue:Ys,useDeferredValue:function(e){var t=Ts();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Ns(Is)[0],Ts().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xu.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=_.ReactCurrentOwner,_a=!1;function wa(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Cs(e,t,n,r,o,i),n=ks(),null===e||_a?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Au(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ca(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ru(o,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Rl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Rl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Rl,Al),Al|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Rl,Al),Al|=r;return wa(e,t,i,n),t.child}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Pi(n)?Ni:Ii.current;return o=Oi(t,o),ko(t,i),n=Cs(e,t,n,r,o,i),r=ks(),null===e||_a?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ia(e,t,n,r,i){if(Pi(n)){var o=!0;Li(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=xo(u):u=Oi(t,u=Pi(n)?Ni:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Ho(t,s,r,u),Oo=!1;var d=t.memoizedState;s.state=d,jo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Di.current||Oo?("function"===typeof c&&(Vo(t,n,c,r),l=t.memoizedState),(a=Oo||zo(t,n,a,r,d,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ao(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yo(t.type,a),s.props=u,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=xo(l):l=Oi(t,l=Pi(n)?Ni:Ii.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Ho(t,s,r,l),Oo=!1,d=t.memoizedState,s.state=d,jo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Di.current||Oo?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(u=Oo||zo(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Da(e,t,n,r,o,i)}function Da(e,t,n,r,i,o){xa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ha(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),is(e,t.containerInfo)}function Oa(e,t,n,r,i){return po(),mo(i),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Aa,Ra,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),xi(ls,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fu(l,i,0,null),e=Lu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(s=Lu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),ru(r,e,i,-1))}return gu(),Ba(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ru(r,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Ru(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pi(t.type)&&Ai(),Ga(t),null;case 3:return r=t.stateNode,os(),ki(Di),ki(Ii),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Aa(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ve(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Ur("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(au(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ml&&(Ml=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Aa(e,t),null===e&&qr(t.stateNode.containerInfo),Ga(t),null;case 10:return So(t.type._context),Ga(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>zl&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Xe()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,xi(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Di),ki(Ii),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return So(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){ku(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ku(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Du.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){ku(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){ku(e,e.return,g)}try{rl(5,e,e.return)}catch(g){ku(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){ku(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){ku(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){ku(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){ku(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||h,gl(t,e),Xa=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){ku(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){ku(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ku(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){ku(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=$a;var u=Xa;if($a=s,(Xa=l)&&!u)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Za=l):Sl(i);for(;null!==o;)Za=o,_l(o,t,n),o=o.sibling;Za=i,$a=a,Xa=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&ol(t)}catch(f){ku(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){ku(t,i,l)}}var o=t.return;try{ol(t)}catch(l){ku(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){ku(t,s,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Cl,kl=Math.ceil,xl=_.ReactCurrentDispatcher,Tl=_.ReactCurrentOwner,Il=_.ReactCurrentBatchConfig,Dl=0,Nl=null,Ol=null,Pl=0,Al=0,Rl=Ci(0),Ml=0,Ll=null,Fl=0,jl=0,Ul=0,Bl=null,Vl=null,ql=0,zl=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,eu=0;function tu(){return 0!==(6&Dl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function ru(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&Dl)&&e===Nl||(e===Nl&&(0===(2&Dl)&&(jl|=n),4===Ml&&lu(e,Pl)),iu(e,r),1===n&&0===Dl&&0===(1&t.mode)&&(zl=Xe()+500,Ui&&qi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Nl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(uu.bind(null,e)):Vi(uu.bind(null,e)),si((function(){0===(6&Dl)&&qi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Zl=-1,eu=0,0!==(6&Dl))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Dl;Dl|=2;var s=mu();for(Nl===e&&Pl===t||(Wl=null,zl=Xe()+500,fu(e,t));;)try{bu();break}catch(l){pu(e,l)}Eo(),xl.current=s,Dl=i,null!==Ol?t=0:(Nl=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ll,fu(e,0),lu(e,r),iu(e,Xe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(s=pt(e))&&(r=s,t=su(e,s))),1===t))throw n=Ll,fu(e,0),lu(e,r),iu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Eu(e,Vl,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=ql+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Vl,Wl),t);break}Eu(e,Vl,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Vl,Wl),r);break}Eu(e,Vl,Wl);break;default:throw Error(o(329))}}}return iu(e,Xe()),e.callbackNode===n?ou.bind(null,e):null}function su(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Vl,Vl=n,null!==t&&au(t)),e}function au(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lu(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Dl))throw Error(o(327));Su();var t=dt(e,0);if(0===(1&t))return iu(e,Xe()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ll,fu(e,0),lu(e,t),iu(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Vl,Wl),iu(e,Xe()),null}function cu(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&(zl=Xe()+500,Ui&&qi())}}function hu(e){null!==Yl&&0===Yl.tag&&0===(6&Dl)&&Su();var t=Dl;Dl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Dl=t))&&qi()}}function du(){Al=Rl.current,ki(Rl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:os(),ki(Di),ki(Ii),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:So(r.type._context);break;case 22:case 23:du()}n=n.return}if(Nl=e,Ol=e=Ru(e.current,null),Pl=Al=t,Ml=0,Ll=null,Ul=jl=Fl=0,Vl=Bl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return e}function pu(e,t){for(;;){var n=Ol;try{if(Eo(),ds.current=sa,vs){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vs=!1}if(ps=0,ys=gs=ms=null,bs=!1,_s=0,Tl.current=null,null===n||null===n.return){Ml=1,Ll=t,Ol=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ga(s,c,t),gu();break e}u=Error(o(426))}else if(io&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),mo(ca(u,l));break e}}s=u=ca(u,l),4!==Ml&&(Ml=2),null===Bl?Bl=[s]:Bl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,u,t));break e;case 1:l=u;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(_){t=_,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mu(){var e=xl.current;return xl.current=sa,null===e?sa:e}function gu(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Nl||0===(268435455&Fl)&&0===(268435455&jl)||lu(Nl,Pl)}function yu(e,t){var n=Dl;Dl|=2;var r=mu();for(Nl===e&&Pl===t||(Wl=null,fu(e,t));;)try{vu();break}catch(i){pu(e,i)}if(Eo(),Dl=n,xl.current=r,null!==Ol)throw Error(o(261));return Nl=null,Pl=0,Ml}function vu(){for(;null!==Ol;)_u(Ol)}function bu(){for(;null!==Ol&&!Ye();)_u(Ol)}function _u(e){var t=Cl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wu(e):Ol=t,Tl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Al)))return void(Ol=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ml=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ml&&(Ml=5)}function Eu(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Yl);if(0!==(6&Dl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nl&&(Ol=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nu(tt,(function(){return Su(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=bt;bt=1;var l=Dl;Dl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){ku(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Dl=l,bt=a,Il.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Su(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,qi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function Su(){if(null!==Yl){var e=_t($l),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Dl))throw Error(o(331));var i=Dl;for(Dl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Za=c;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(sl(h),h===c){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Za=v;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var _=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Za=_;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){ku(l,l.return,E)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Dl=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function Cu(e,t,n){e=Mo(e,t=pa(0,t=ca(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),iu(e,t))}function ku(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Mo(t,e=ma(t,e=ca(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),iu(t,e));break}}t=t.return}}function xu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Xe()-ql?fu(e,0):Ul|=n),iu(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=No(e,t))&&(yt(e,t,n),iu(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Du(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tu(e,n)}function Nu(e,t){return Ge(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Ou(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Au(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Lu(n.children,i,s,t);case C:a=8,i|=8;break;case k:return(e=Pu(12,n,t,2|i)).elementType=k,e.lanes=s,e;case D:return(e=Pu(13,n,t,i)).elementType=D,e.lanes=s,e;case N:return(e=Pu(19,n,t,i)).elementType=N,e.lanes=s,e;case A:return Fu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case T:a=9;break e;case I:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,o,s,a,l){return e=new Bu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function qu(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function zu(e,t,n,r,i,o,s,a,l){return(e=Vu(n,r,!0,e,0,o,0,a,l)).context=qu(null),n=e.current,(o=Ro(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,yt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,o=tu(),s=nu(i);return n=qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,s))&&(ru(e,i,s,o),Lo(e,i,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Na(t),po();break;case 5:ss(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(xi(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);xi(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,Ii.current);ko(t,n),i=Cs(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Da(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ao(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),xa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,xi(vo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Di.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Ro(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Co(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Co(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=xo(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Sa(e,t,r,i=yo(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,ko(t,n),Wo(t,r,i),Ko(t,r,i,n),Da(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hu(s);a.call(e)}}Wu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hu(s);o.call(e)}}var s=zu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),hu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),hu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(s)}$u.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},$u.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Wu(null,e,null,null)})),t[pi]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),iu(t,Xe()),0===(6&Dl)&&(zl=Xe()+500,qi()))}break;case 13:hu((function(){var t=No(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Gu(e,1)}},Et=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)ru(t,e,134217728,tu());Gu(e,134217728)}},St=function(e){if(13===e.tag){var t=nu(e),n=No(e,t);if(null!==n)ru(n,e,t,tu());Gu(e,t)}},Ct=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cu,De=hu;var tc={usingClientEntryPoint:!1,Events:[bi,_i,wi,xe,Te,cu]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",i=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $u(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},180:(e,t,n)=>{var r=n(292);t.C=r.createRoot,r.hydrateRoot},292:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(144)},36:(e,t,n)=>{var r=n(60),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},564:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,m(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),D(s,t,i,"",(function(e){return e}))):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+I(a=e[u],u);l+=D(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=D(a=a.value,t,i,c=o+I(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},60:(e,t,n)=>{e.exports=n(564)},496:(e,t,n)=>{e.exports=n(36)},692:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,_(e),!m)if(null!==r(u))m=!0,A(E);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(x),x=-1),p=!0;var o=f;try{for(_(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!D());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),_(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&R(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,k=null,x=-1,T=5,I=-1;function D(){return!(t.unstable_now()-I<T)}function N(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?S():(C=!1,k=null)}}else C=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function A(e){k=e,C||(C=!0,S())}function R(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(v(x),x=-1):g=!0,R(w,o-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,A(E))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},724:(e,t,n)=>{e.exports=n(692)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/TaskProject/",(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>T,SDK_VERSION:()=>Ue,_DEFAULT_ENTRY_NAME:()=>Te,_addComponent:()=>Oe,_addOrOverwriteComponent:()=>Pe,_apps:()=>De,_clearComponents:()=>Le,_components:()=>Ne,_getProvider:()=>Re,_registerComponent:()=>Ae,_removeServiceInstance:()=>Me,deleteApp:()=>ze,getApp:()=>Ve,getApps:()=>qe,initializeApp:()=>Be,onLog:()=>He,registerVersion:()=>We,setLogLevel:()=>Ke});var t=n(60),r=n.t(t,2),i=n(180);const o=!1,s=!1,a="${JSCORE_VERSION}",l=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},c=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new d;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){const t=c(e);return h.encodeByteArray(t,!0)},p=function(e){return f(e).replace(/\./g,"")},m=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=g(e[n],t[n]));return e}const y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,v=()=>{try{return y()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/TaskProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&m(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},b=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config};class _{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function w(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(o)),""].join(".")}function E(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(E())}function C(){return!0===o||!0===s}function k(){return!function(){var e;const t=null===(e=v())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){try{return"object"===typeof indexedDB}catch(e){return!1}}class T extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(D,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new T(n,o,t)}}const D=/\{\$([^}]+)}/g;function N(e){return JSON.parse(e)}function O(e){return JSON.stringify(e)}const P=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=N(m(o[0])||""),n=N(m(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(j(n)&&j(o)){if(!F(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j(e){return null!==e&&"object"===typeof e}class U{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):c<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[c]&4294967295;u=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function B(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function q(){}const z=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function W(e,t){return"".concat(e," failed: ").concat(t," argument ")}function H(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(W(e,t)+"must be a valid function.")}function K(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(W(e,t)+"must be a valid context object.")}const G=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Q(e){return e&&e._delegate?e._delegate:e}class Y{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $="[DEFAULT]";class X{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new _;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===$?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;return this.component?this.component.multipleInstances?e:$:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new X(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Z=[];var ee;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ee||(ee={}));const te={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ne=ee.INFO,re={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=re[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class oe{constructor(e){this.name=e,this._logLevel=ne,this._logHandler=ie,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?te[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const se=(e,t)=>t.some((t=>e instanceof t));let ae,le;const ue=new WeakMap,ce=new WeakMap,he=new WeakMap,de=new WeakMap,fe=new WeakMap;let pe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ce.get(e);if("objectStoreNames"===t)return e.objectStoreNames||he.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ye(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function me(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ve(this),n),ye(ue.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(e.apply(ve(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ve(this),t,...r);return he.set(o,t.sort?t.sort():[t]),ye(o)}}function ge(e){return"function"===typeof e?me(e):(e instanceof IDBTransaction&&function(e){if(ce.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ce.set(e,t)}(e),se(e,ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,pe):e)}function ye(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ye(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ue.set(t,e)})).catch((()=>{})),fe.set(t,e),t}(e);if(de.has(e))return de.get(e);const t=ge(e);return t!==e&&(de.set(e,t),fe.set(t,e)),t}const ve=e=>fe.get(e);const be=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],we=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(we.get(t))return we.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!be.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return we.set(t,o),o}pe=(e=>({...e,get:(t,n,r)=>Ee(t,n)||e.get(t,n,r),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}))(pe);class Se{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ce="@firebase/app",ke="0.9.29",xe=new oe("@firebase/app"),Te="[DEFAULT]",Ie={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},De=new Map,Ne=new Map;function Oe(e,t){try{e.container.addComponent(t)}catch(n){xe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pe(e,t){e.container.addOrOverwriteComponent(t)}function Ae(e){const t=e.name;if(Ne.has(t))return xe.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ne.set(t,e);for(const n of De.values())Oe(n,e);return!0}function Re(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Me(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te;Re(e,t).clearInstance(n)}function Le(){Ne.clear()}const Fe=new I("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class je{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Y("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fe.create("app-deleted",{appName:this._name})}}const Ue="10.9.0";function Be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Te,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Fe.create("bad-app-name",{appName:String(i)});if(n||(n=b()),!n)throw Fe.create("no-options");const o=De.get(i);if(o){if(F(n,o.options)&&F(r,o.config))return o;throw Fe.create("duplicate-app",{appName:i})}const s=new J(i);for(const l of Ne.values())s.addComponent(l);const a=new je(n,r,s);return De.set(i,a),a}function Ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;const t=De.get(e);if(!t&&e===Te&&b())return Be();if(!t)throw Fe.create("no-app",{appName:e});return t}function qe(){return Array.from(De.values())}async function ze(e){const t=e.name;De.has(t)&&(De.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function We(e,t,n){var r;let i=null!==(r=Ie[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xe.warn(e.join(" "))}Ae(new Y("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function He(e,t){if(null!==e&&"function"!==typeof e)throw Fe.create("invalid-log-argument");!function(e,t){for(const n of Z){let r=null;t&&t.level&&(r=te[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ee[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Ke(e){var t;t=e,Z.forEach((e=>{e.setLogLevel(t)}))}const Ge="firebase-heartbeat-database",Qe=1,Ye="firebase-heartbeat-store";let $e=null;function Xe(){return $e||($e=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ye(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ye(s.result),e.oldVersion,e.newVersion,ye(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ge,Qe,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ye)}catch(n){console.warn(n)}}}).catch((e=>{throw Fe.create("idb-open",{originalErrorMessage:e.message})}))),$e}async function Je(e,t){try{const n=(await Xe()).transaction(Ye,"readwrite"),r=n.objectStore(Ye);await r.put(t,Ze(e)),await n.done}catch(n){if(n instanceof T)xe.warn(n.message);else{const e=Fe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});xe.warn(e.message)}}}function Ze(e){return"".concat(e.name,"!").concat(e.options.appId)}class et{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tt();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=tt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),rt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function tt(){return(new Date).toISOString().substring(0,10)}class nt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!x()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(It){t(It)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Xe()).transaction(Ye),n=await t.objectStore(Ye).get(Ze(e));return await t.done,n}catch(t){if(t instanceof T)xe.warn(t.message);else{const e=Fe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});xe.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Je(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Je(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function rt(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var it;it="",Ae(new Y("platform-logger",(e=>new Se(e)),"PRIVATE")),Ae(new Y("heartbeat",(e=>new et(e)),"PRIVATE")),We(Ce,ke,it),We(Ce,ke,"esm2017"),We("fire-js","");class ot{constructor(e,t){this._delegate=e,this.firebase=t,Oe(e,new Y("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ze(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Oe(this._delegate,e)}_addOrOverwriteComponent(e){Pe(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const st=new I("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const at=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Be(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(A(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:We,setLogLevel:Ke,onLog:He,apps:null,SDK_VERSION:Ue,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Ae(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw st.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&g(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!A(n,e=e||Te))throw st.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(ot);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){g(n,e)},createSubscribe:B,ErrorFactory:I,deepExtend:g}),n}(),lt=new oe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){lt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&lt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=at;!function(e){We("@firebase/app-compat","0.2.29",e)}();ut.registerVersion("firebase","10.9.0","app-compat");const ct="@firebase/database",ht="1.0.3";let dt="";function ft(e){dt=e}class pt{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),O(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:N(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class mt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return A(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const gt=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new pt(t)}}catch(t){}return new mt},yt=gt("localStorage"),vt=gt("sessionStorage"),bt=new oe("@firebase/database"),_t=function(){let e=1;return function(){return e++}}(),wt=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,l(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new U;n.update(t);const r=n.digest();return h.encodeByteArray(r)},Et=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Et.apply(null,n):e+="object"===typeof n?O(n):n,e+=" "}return e};let St=null,Ct=!0;const kt=function(e,t){l(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(bt.logLevel=ee.VERBOSE,St=bt.log.bind(bt),t&&vt.set("logging_enabled",!0)):"function"===typeof e?St=e:(St=null,vt.remove("logging_enabled"))},xt=function(){if(!0===Ct&&(Ct=!1,null===St&&!0===vt.get("logging_enabled")&&kt(!0)),St){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Et.apply(null,t);St(r)}},Tt=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];xt(e,...n)}},It=function(){const e="FIREBASE INTERNAL ERROR: "+Et(...arguments);bt.error(e)},Dt=function(){const e="FIREBASE FATAL ERROR: ".concat(Et(...arguments));throw bt.error(e),new Error(e)},Nt=function(){const e="FIREBASE WARNING: "+Et(...arguments);bt.warn(e)},Ot=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Pt="[MIN_NAME]",At="[MAX_NAME]",Rt=function(e,t){if(e===t)return 0;if(e===Pt||t===At)return-1;if(t===Pt||e===At)return 1;{const n=qt(e),r=qt(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Mt=function(e,t){return e===t?0:e<t?-1:1},Lt=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+O(t))},Ft=function(e){if("object"!==typeof e||null===e)return O(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=O(t[r]),n+=":",n+=Ft(e[t[r]]);return n+="}",n},jt=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ut(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Bt=function(e){l(!Ot(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const u=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(u.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Vt=new RegExp("^-?(0*)\\d{1,10}$"),qt=function(e){if(Vt.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},zt=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Nt("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Wt=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Ht{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Nt('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Kt{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(e)}}class Gt{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gt.OWNER="owner";const Qt="5",Yt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$t="ac",Xt="websocket",Jt="long_polling";class Zt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yt.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function en(e,t,n){let r;if(l("string"===typeof t,"typeof type must == string"),l("object"===typeof n,"typeof params must == object"),t===Xt)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Jt)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Ut(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class tn{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;A(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return g(void 0,this.counters_)}}const nn={},rn={};function on(e){const t=e.toString();return nn[t]||(nn[t]=new tn),nn[t]}class sn{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&zt((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const an="start";class ln{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tt(e),this.stats_=on(t),this.urlFn=e=>(this.appCheckToken&&(e[$t]=this.appCheckToken),en(t,Jt,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(C()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new un((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===an)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[an]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Qt,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[$t]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Yt.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ln.forceAllow_=!0}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){return!C()&&(!!ln.forceAllow_||!ln.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=O(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=f(t),r=jt(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(C())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=O(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class un{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,C())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=_t(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=un.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){xt("frame writing exception"),i.stack&&xt(i.stack),xt(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||xt("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){C()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let cn=null;"undefined"!==typeof MozWebSocket?cn=MozWebSocket:"undefined"!==typeof WebSocket&&(cn=WebSocket);class hn{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tt(this.connId),this.stats_=on(t),this.connURL=hn.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Qt,!C()&&"undefined"!==typeof location&&location.hostname&&Yt.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[$t]=r),i&&(o.p=i),en(e,Xt,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yt.set("previous_websocket_failure",!0);try{let e;if(C()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Qt,"/").concat(dt,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/TaskProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new cn(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==cn&&!hn.forceDisallow_}static previouslyFailed(){return yt.isInMemoryStorage||!0===yt.get("previous_websocket_failure")}markConnectionHealthy(){yt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=N(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(l(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=O(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=jt(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2,hn.healthyTimeout=3e4;class dn{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ln,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=hn&&hn.isAvailable();let n=t&&!hn.previouslyFailed();if(e.webSocketOnly&&(t||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[hn];else{const e=this.transports_=[];for(const t of dn.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);dn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dn.globalTransportInitialized_=!1;class fn{constructor(e,t,n,r,i,o,s,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tt("c:"+this.id+":"),this.transportManager_=new dn(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Wt((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Lt("t",e),n=Lt("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Lt("t",e),n=Lt("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Lt("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?It("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):It("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Qt!==n&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Wt((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wt((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pn{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class mn{constructor(e){this.allowedEvents_=e,this.listeners_={},l(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){l(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class gn extends mn{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||S()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new gn}getInitialEvent(e){return l("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const yn=32,vn=768;class bn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function _n(){return new bn("")}function wn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function En(e){return e.pieces_.length-e.pieceNum_}function Sn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new bn(e.pieces_,t)}function Cn(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function kn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function xn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new bn(t,0)}function Tn(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof bn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new bn(n,0)}function In(e){return e.pieceNum_>=e.pieces_.length}function Dn(e,t){const n=wn(e),r=wn(t);if(null===n)return t;if(n===r)return Dn(Sn(e),Sn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Nn(e,t){const n=kn(e,0),r=kn(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Rt(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function On(e,t){if(En(e)!==En(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Pn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(En(e)>En(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class An{constructor(e,t){this.errorPrefix_=t,this.parts_=kn(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=G(this.parts_[n]);Rn(this)}}function Rn(e){if(e.byteLength_>vn)throw new Error(e.errorPrefix_+"has a key path longer than "+vn+" bytes ("+e.byteLength_+").");if(e.parts_.length>yn)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yn+") or object contains a cycle "+Mn(e))}function Mn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ln extends mn{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Ln}getInitialEvent(e){return l("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Fn=1e3;class jn extends pn{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=jn.nextPersistentConnectionId_++,this.log_=Tt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!C())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ln.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&gn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(O(i)),l(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new _,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),l(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;jn.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&A(e,"w")){const n=R(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Nt("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=P(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=P(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+O(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):It("Unrecognized action received from server: "+O(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){l(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+jn.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},u=function(e){l(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new fn(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Nt(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(It){this.log_("Failed to get token: "+It),o||(this.repoInfo_.nodeAdmin&&Nt(It),a())}}}interrupt(e){xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],M(this.interruptReasons_)&&(this.reconnectDelay_=Fn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Ft(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new bn(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){xt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){xt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";C()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+dt.replace(/\./g,"-")]=1,S()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gn.getInstance().currentlyOnline();return M(this.interruptReasons_)&&e}}jn.nextPersistentConnectionId_=0,jn.nextConnectionId_=0;class Un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Un(e,t)}}class Bn{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Un(Pt,e),r=new Un(Pt,t);return 0!==this.compare(n,r)}minPost(){return Un.MIN}}let Vn;class qn extends Bn{static get __EMPTY_NODE(){return Vn}static set __EMPTY_NODE(e){Vn=e}compare(e,t){return Rt(e.name,t.name)}isDefinedOn(e){throw u("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Un.MIN}maxPost(){return new Un(At,Vn)}makePost(e,t){return l("string"===typeof e,"KeyIndex indexValue must always be a string."),new Un(e,Vn)}toString(){return".key"}}const zn=new qn;class Wn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Hn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Hn.RED,this.left=null!=r?r:Kn.EMPTY_NODE,this.right=null!=i?i:Kn.EMPTY_NODE}copy(e,t,n,r,i){return new Hn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Kn.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Kn.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Hn.RED=!0,Hn.BLACK=!1;class Kn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Kn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Kn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Hn.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wn(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Wn(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Wn(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Wn(this.root_,null,this.comparator_,!0,e)}}function Gn(e,t){return Rt(e.name,t.name)}function Qn(e,t){return Rt(e,t)}let Yn;Kn.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Hn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $n=function(e){return"number"===typeof e?"number:"+Bt(e):"string:"+e},Xn=function(e){if(e.isLeafNode()){const t=e.val();l("string"===typeof t||"number"===typeof t||"object"===typeof t&&A(t,".sv"),"Priority must be a string or number.")}else l(e===Yn||e.isEmpty(),"priority of unexpected type.");l(e===Yn||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Jn,Zn,er;class tr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,l(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xn(this.priorityNode_)}static set __childrenNodeConstructor(e){Jn=e}static get __childrenNodeConstructor(){return Jn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tr(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:tr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return In(e)?this:".priority"===wn(e)?this.priorityNode_:tr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:tr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=wn(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(l(".priority"!==n||1===En(e),".priority must be the last token in a path"),this.updateImmediateChild(n,tr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$n(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Bt(this.value_):this.value_,this.lazyHash_=wt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tr.__childrenNodeConstructor?-1:(l(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=tr.VALUE_TYPE_ORDER.indexOf(t),i=tr.VALUE_TYPE_ORDER.indexOf(n);return l(r>=0,"Unknown leaf type: "+t),l(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}tr.VALUE_TYPE_ORDER=["object","boolean","number","string"];const nr=new class extends Bn{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Rt(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Un.MIN}maxPost(){return new Un(At,new tr("[PRIORITY-POST]",er))}makePost(e,t){const n=Zn(e);return new Un(t,new tr("[PRIORITY-POST]",n))}toString(){return".priority"}},rr=Math.log(2);class ir{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/rr,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const or=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Hn(a,s.node,Hn.BLACK,null,null);{const l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,r);return s=e[l],a=n?n(s):s,new Hn(a,s.node,Hn.BLACK,u,c)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const u=i(o+1,a),c=e[o],h=n?n(c):c;l(new Hn(h,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Hn.BLACK):(a(r,Hn.BLACK),a(r,Hn.RED))}return o}(new ir(e.length));return new Kn(r||t,o)};let sr;const ar={};class lr{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return l(ar&&nr,"ChildrenNode.ts has not been loaded"),sr=sr||new lr({".priority":ar},{".priority":nr}),sr}get(e){const t=R(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Kn?t:null}hasIndex(e){return A(this.indexSet_,e.toString())}addIndex(e,t){l(e!==zn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Un.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?or(n,e.getCompare()):ar;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new lr(c,u)}addToIndexes(e,t){const n=L(this.indexes_,((n,r)=>{const i=R(this.indexSet_,r);if(l(i,"Missing index implementation for "+r),n===ar){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Un.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),or(n,i.getCompare())}return ar}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Un(e.name,r))),i.insert(e,e.node)}}));return new lr(n,this.indexSet_)}removeFromIndexes(e,t){const n=L(this.indexes_,(n=>{if(n===ar)return n;{const r=t.get(e.name);return r?n.remove(new Un(e.name,r)):n}}));return new lr(n,this.indexSet_)}}let ur;class cr{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xn(this.priorityNode_),this.children_.isEmpty()&&l(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ur||(ur=new cr(new Kn(Qn),null,lr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ur}updatePriority(e){return this.children_.isEmpty()?this:new cr(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?ur:t}}getChild(e){const t=wn(e);return null===t?this:this.getImmediateChild(t).getChild(Sn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(l(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Un(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?ur:this.priorityNode_;return new cr(r,o,i)}}updateChild(e,t){const n=wn(e);if(null===n)return t;{l(".priority"!==wn(e)||1===En(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Sn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(nr,((o,s)=>{t[o]=s.val(e),n++,i&&cr.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+$n(this.getPriority().val())+":"),this.forEachChild(nr,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":wt(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Un(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Un(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Un(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Un.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Un.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hr?-1:0}withIndex(e){if(e===zn||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new cr(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===zn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(nr),n=t.getIterator(nr);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===zn?null:this.indexMap_.get(e.toString())}}cr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const hr=new class extends cr{constructor(){super(new Kn(Qn),cr.EMPTY_NODE,lr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return cr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Un,{MIN:{value:new Un(Pt,cr.EMPTY_NODE)},MAX:{value:new Un(At,hr)}}),qn.__EMPTY_NODE=cr.EMPTY_NODE,tr.__childrenNodeConstructor=cr,Yn=hr,function(e){er=e}(hr);const dr=!0;function fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return cr.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),l(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new tr(e,fr(t))}if(e instanceof Array||!dr){let n=cr.EMPTY_NODE;return Ut(e,((t,r)=>{if(A(e,t)&&"."!==t.substring(0,1)){const e=fr(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(fr(t))}{const n=[];let r=!1;if(Ut(e,((e,t)=>{if("."!==e.substring(0,1)){const i=fr(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Un(e,i)))}})),0===n.length)return cr.EMPTY_NODE;const i=or(n,Gn,(e=>e.name),Qn);if(r){const e=or(n,nr.getCompare());return new cr(i,fr(t),new lr({".priority":e},{".priority":nr}))}return new cr(i,fr(t),lr.Default)}}!function(e){Zn=e}(fr);class pr extends Bn{constructor(e){super(),this.indexPath_=e,l(!In(e)&&".priority"!==wn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Rt(e.name,t.name):i}makePost(e,t){const n=fr(e),r=cr.EMPTY_NODE.updateChild(this.indexPath_,n);return new Un(t,r)}maxPost(){const e=cr.EMPTY_NODE.updateChild(this.indexPath_,hr);return new Un(At,e)}toString(){return kn(this.indexPath_,0).join("/")}}const mr=new class extends Bn{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Rt(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Un.MIN}maxPost(){return Un.MAX}makePost(e,t){const n=fr(e);return new Un(t,n)}toString(){return".value"}};function gr(e){return{type:"value",snapshotNode:e}}function yr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vr(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function br(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class _r{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){l(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(vr(t,s)):l(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(yr(t,n)):o.trackChildChange(br(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(nr,((e,r)=>{t.hasChild(e)||n.trackChildChange(vr(e,r))})),t.isLeafNode()||t.forEachChild(nr,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(br(t,r,i))}else n.trackChildChange(yr(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?cr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wr{constructor(e){this.indexedFilter_=new _r(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wr.getStartPost_(e),this.endPost_=wr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Un(t,n))||(n=cr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=cr.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(cr.EMPTY_NODE);const i=this;return t.forEachChild(nr,((e,t)=>{i.matches(new Un(e,t))||(r=r.updateImmediateChild(e,cr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Er{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new wr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Un(t,n))||(n=cr.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=cr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=cr.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(cr.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,cr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;l(s.numChildren()===this.limit_,"");const a=new Un(t,n),u=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let l=r.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=l&&(l.name===t||s.hasChild(l.name));)l=r.getChildAfterChild(this.index_,l,this.reverse_);const h=null==l?1:o(l,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(br(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(vr(t,e));const n=s.updateImmediateChild(t,cr.EMPTY_NODE);return null!=l&&this.rangedFilter_.matches(l)?(null!=i&&i.trackChildChange(yr(l.name,l.node)),n.updateImmediateChild(l.name,l.node)):n}}return n.isEmpty()?e:c&&o(u,a)>=0?(null!=i&&(i.trackChildChange(vr(u.name,u.node)),i.trackChildChange(yr(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(u.name,cr.EMPTY_NODE)):e}}class Sr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return l(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return l(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pt}hasEnd(){return this.endSet_}getIndexEndValue(){return l(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return l(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:At}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return l(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nr}copy(){const e=new Sr;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Cr(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kr(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function xr(e,t){const n=e.copy();return n.index_=t,n}function Tr(e){const t={};if(e.isDefault())return t;let n;if(e.index_===nr?n="$priority":e.index_===mr?n="$value":e.index_===zn?n="$key":(l(e.index_ instanceof pr,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=O(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=O(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+O(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=O(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+O(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ir(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==nr&&(t.i=e.index_.toString()),t}class Dr extends pn{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Tt("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(l(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Dr.getListenId_(e,n),s={};this.listens_[o]=s;const a=Tr(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),R(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Dr.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Tr(e._queryParams),n=e._path.toString(),r=new _;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=N(a.responseText)}catch(e){Nt("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Nt("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class Nr{constructor(){this.rootNode_=cr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Or(){return{value:null,children:new Map}}function Pr(e,t,n){if(In(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=wn(t);e.children.has(r)||e.children.set(r,Or());Pr(e.children.get(r),t=Sn(t),n)}}function Ar(e,t){if(In(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(nr,((t,n)=>{Pr(e,new bn(t),n)})),Ar(e,t)}}if(e.children.size>0){const n=wn(t);if(t=Sn(t),e.children.has(n)){Ar(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function Rr(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Rr(r,new bn(t.toString()+"/"+e),n)}))}class Mr{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ut(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Lr{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Mr(e);const n=1e4+2e4*Math.random();Wt(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Ut(e,((e,r)=>{r>0&&A(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Wt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fr;function jr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fr||(Fr={}));class Ur{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Fr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(In(this.path)){if(null!=this.affectedTree.value)return l(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new bn(e));return new Ur(_n(),t,this.revert)}}return l(wn(this.path)===e,"operationForChild called for unrelated child."),new Ur(Sn(this.path),this.affectedTree,this.revert)}}class Br{constructor(e,t){this.source=e,this.path=t,this.type=Fr.LISTEN_COMPLETE}operationForChild(e){return In(this.path)?new Br(this.source,_n()):new Br(this.source,Sn(this.path))}}class Vr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Fr.OVERWRITE}operationForChild(e){return In(this.path)?new Vr(this.source,_n(),this.snap.getImmediateChild(e)):new Vr(this.source,Sn(this.path),this.snap)}}class qr{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Fr.MERGE}operationForChild(e){if(In(this.path)){const t=this.children.subtree(new bn(e));return t.isEmpty()?null:t.value?new Vr(this.source,_n(),t.value):new qr(this.source,_n(),t)}return l(wn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qr(this.source,Sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zr{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(In(e))return this.isFullyInitialized()&&!this.filtered_;const t=wn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Wr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Hr(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw u("Should only compare child_ events.");const r=new Un(t.childName,t.snapshotNode),i=new Un(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Kr(e,t){return{eventCache:e,serverCache:t}}function Gr(e,t,n,r){return Kr(new zr(t,n,r),e.serverCache)}function Qr(e,t,n,r){return Kr(e.eventCache,new zr(t,n,r))}function Yr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $r(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Xr;class Jr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Xr||(Xr=new Kn(Mt)),Xr);this.value=e,this.children=t}static fromObject(e){let t=new Jr(null);return Ut(e,((e,n)=>{t=t.set(new bn(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:_n(),value:this.value};if(In(e))return null;{const n=wn(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Sn(e),t);if(null!=i){return{path:Tn(new bn(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(In(e))return this;{const t=wn(e),n=this.children.get(t);return null!==n?n.subtree(Sn(e)):new Jr(null)}}set(e,t){if(In(e))return new Jr(t,this.children);{const n=wn(e),r=(this.children.get(n)||new Jr(null)).set(Sn(e),t),i=this.children.insert(n,r);return new Jr(this.value,i)}}remove(e){if(In(e))return this.children.isEmpty()?new Jr(null):new Jr(null,this.children);{const t=wn(e),n=this.children.get(t);if(n){const r=n.remove(Sn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Jr(null):new Jr(this.value,i)}return this}}get(e){if(In(e))return this.value;{const t=wn(e),n=this.children.get(t);return n?n.get(Sn(e)):null}}setTree(e,t){if(In(e))return t;{const n=wn(e),r=(this.children.get(n)||new Jr(null)).setTree(Sn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Jr(this.value,i)}}fold(e){return this.fold_(_n(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Tn(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,_n(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(In(e))return null;{const r=wn(e),i=this.children.get(r);return i?i.findOnPath_(Sn(e),Tn(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,_n(),t)}foreachOnPath_(e,t,n){if(In(e))return this;{this.value&&n(t,this.value);const r=wn(e),i=this.children.get(r);return i?i.foreachOnPath_(Sn(e),Tn(t,r),n):new Jr(null)}}foreach(e){this.foreach_(_n(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Tn(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Zr{constructor(e){this.writeTree_=e}static empty(){return new Zr(new Jr(null))}}function ei(e,t,n){if(In(t))return new Zr(new Jr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Dn(i,t);return o=o.updateChild(s,n),new Zr(e.writeTree_.set(i,o))}{const r=new Jr(n),i=e.writeTree_.setTree(t,r);return new Zr(i)}}}function ti(e,t,n){let r=e;return Ut(n,((e,n)=>{r=ei(r,Tn(t,e),n)})),r}function ni(e,t){if(In(t))return Zr.empty();{const n=e.writeTree_.setTree(t,new Jr(null));return new Zr(n)}}function ri(e,t){return null!=ii(e,t)}function ii(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Dn(n.path,t)):null}function oi(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(nr,((e,n)=>{t.push(new Un(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Un(e,n.value))})),t}function si(e,t){if(In(t))return e;{const n=ii(e,t);return new Zr(null!=n?new Jr(n):e.writeTree_.subtree(t))}}function ai(e){return e.writeTree_.isEmpty()}function li(e,t){return ui(_n(),e.writeTree_,t)}function ui(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(l(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ui(Tn(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Tn(e,".priority"),r)),n}}function ci(e,t){return Si(t,e)}function hi(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));l(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&di(t,r.path)?i=!1:Pn(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=pi(e.allWrites,fi,_n()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ni(e.visibleWrites,r.path);else{Ut(r.children,(t=>{e.visibleWrites=ni(e.visibleWrites,Tn(r.path,t))}))}return!0}return!1}function di(e,t){if(e.snap)return Pn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Pn(Tn(e.path,n),t))return!0;return!1}function fi(e){return e.visible}function pi(e,t,n){let r=Zr.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Pn(n,e)?(t=Dn(n,e),r=ei(r,t,o.snap)):Pn(e,n)&&(t=Dn(e,n),r=ei(r,_n(),o.snap.getChild(t)));else{if(!o.children)throw u("WriteRecord should have .snap or .children");if(Pn(n,e))t=Dn(n,e),r=ti(r,t,o.children);else if(Pn(e,n))if(t=Dn(e,n),In(t))r=ti(r,_n(),o.children);else{const e=R(o.children,wn(t));if(e){const n=e.getChild(Sn(t));r=ei(r,_n(),n)}}}}}return r}function mi(e,t,n,r,i){if(r||i){const o=si(e.visibleWrites,t);if(!i&&ai(o))return n;if(i||null!=n||ri(o,_n())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Pn(e.path,t)||Pn(t,e.path))};return li(pi(e.allWrites,o,t),n||cr.EMPTY_NODE)}return null}{const r=ii(e.visibleWrites,t);if(null!=r)return r;{const r=si(e.visibleWrites,t);if(ai(r))return n;if(null!=n||ri(r,_n())){return li(r,n||cr.EMPTY_NODE)}return null}}}function gi(e,t,n,r){return mi(e.writeTree,e.treePath,t,n,r)}function yi(e,t){return function(e,t,n){let r=cr.EMPTY_NODE;const i=ii(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(nr,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=si(e.visibleWrites,t);return n.forEachChild(nr,((e,t)=>{const n=li(si(i,new bn(e)),t);r=r.updateImmediateChild(e,n)})),oi(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return oi(si(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function vi(e,t,n,r){return function(e,t,n,r,i){l(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Tn(t,n);if(ri(e.visibleWrites,o))return null;{const t=si(e.visibleWrites,o);return ai(t)?i.getChild(n):li(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function bi(e,t){return function(e,t){return ii(e.visibleWrites,t)}(e.writeTree,Tn(e.treePath,t))}function _i(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=si(e.visibleWrites,t),u=ii(l,_n());if(null!=u)a=u;else{if(null==n)return[];a=li(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function wi(e,t,n){return function(e,t,n,r){const i=Tn(t,n),o=ii(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return li(si(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ei(e,t){return Si(Tn(e.treePath,t),e.writeTree)}function Si(e,t){return{treePath:e,writeTree:t}}class Ci{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;l("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),l(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,br(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,vr(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yr(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw u("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,br(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ki=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class xi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wi(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$r(this.viewCache_),i=_i(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Ti(e,t,n,r,i){const o=new Ci;let s,a;if(n.type===Fr.OVERWRITE){const u=n;u.source.fromUser?s=Ni(e,t,u.path,u.snap,r,i,o):(l(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!In(u.path),s=Di(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===Fr.MERGE){const u=n;u.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const u=Tn(n,r);Oi(t,wn(u))&&(a=Ni(e,a,u,l,i,o,s))})),r.foreach(((r,l)=>{const u=Tn(n,r);Oi(t,wn(u))||(a=Ni(e,a,u,l,i,o,s))})),a}(e,t,u.path,u.children,r,i,o):(l(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=Ai(e,t,u.path,u.children,r,i,a,o))}else if(n.type===Fr.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=bi(r,n))return t;{const a=new xi(r,t,i),u=t.eventCache.getNode();let c;if(In(n)||".priority"===wn(n)){let n;if(t.serverCache.isFullyInitialized())n=gi(r,$r(t));else{const e=t.serverCache.getNode();l(e instanceof cr,"serverChildren would be complete if leaf node"),n=yi(r,e)}c=e.filter.updateFullNode(u,n,o)}else{const i=wn(n);let l=wi(r,i,t.serverCache);null==l&&t.serverCache.isCompleteForChild(i)&&(l=u.getImmediateChild(i)),c=null!=l?e.filter.updateChild(u,i,l,Sn(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,cr.EMPTY_NODE,Sn(n),a,o):u,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=gi(r,$r(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=bi(r,_n()),Gr(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=bi(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(In(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Di(e,t,n,l.getNode().getChild(n),i,o,a,s);if(In(n)){let r=new Jr(null);return l.getNode().forEachChild(zn,((e,t)=>{r=r.set(new bn(e),t)})),Ai(e,t,n,r,i,o,a,s)}return t}{let u=new Jr(null);return r.foreach(((e,t)=>{const r=Tn(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),Ai(e,t,n,u,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Fr.LISTEN_COMPLETE)throw u("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=Qr(t,o.getNode(),o.isFullyInitialized()||In(n),o.isFiltered());return Ii(e,s,n,r,ki,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Yr(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gr(Yr(t)))}}(t,s,c),{viewCache:s,changes:c}}function Ii(e,t,n,r,i,o){const s=t.eventCache;if(null!=bi(r,n))return t;{let a,u;if(In(n))if(l(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=$r(t),i=yi(r,n instanceof cr?n:cr.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=gi(r,$r(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=wn(n);if(".priority"===c){l(1===En(n),"Can't have a priority with additional path components");const i=s.getNode();u=t.serverCache.getNode();const o=vi(r,n,i,u);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const l=Sn(n);let h;if(s.isCompleteForChild(c)){u=t.serverCache.getNode();const e=vi(r,n,s.getNode(),u);h=null!=e?s.getNode().getImmediateChild(c).updateChild(l,e):s.getNode().getImmediateChild(c)}else h=wi(r,c,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),c,h,l,i,o):s.getNode()}}return Gr(t,a,s.isFullyInitialized()||In(n),e.filter.filtersNodes())}}function Di(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(In(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=wn(n);if(!l.isCompleteForPath(n)&&En(n)>1)return t;const i=Sn(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,ki,null)}const h=Qr(t,u,l.isFullyInitialized()||In(n),c.filtersNodes());return Ii(e,h,n,i,new xi(i,h,o),a)}function Ni(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new xi(i,t,o);if(In(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Gr(t,u,!0,e.filter.filtersNodes());else{const i=wn(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=Gr(t,u,a.isFullyInitialized(),a.isFiltered());else{const o=Sn(n),u=a.getNode().getImmediateChild(i);let h;if(In(o))h=r;else{const e=c.getCompleteChild(i);h=null!=e?".priority"===Cn(o)&&e.getChild(xn(o)).isEmpty()?e:e.updateChild(o,r):cr.EMPTY_NODE}if(u.equals(h))l=t;else{l=Gr(t,e.filter.updateChild(a.getNode(),i,h,o,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Oi(e,t){return e.eventCache.isCompleteForChild(t)}function Pi(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Ai(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=In(n)?r:new Jr(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=Pi(0,t.serverCache.getNode().getImmediateChild(n),r);u=Di(e,u,new bn(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=Pi(0,t.serverCache.getNode().getImmediateChild(n),r);u=Di(e,u,new bn(n),l,i,o,s,a)}})),u}class Ri{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new _r(n.getIndex()),i=(o=n).loadsAllData()?new _r(o.getIndex()):o.hasLimit()?new Er(o):new wr(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(cr.EMPTY_NODE,s.getNode(),null),u=i.updateFullNode(cr.EMPTY_NODE,a.getNode(),null),c=new zr(l,s.isFullyInitialized(),r.filtersNodes()),h=new zr(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Kr(h,c),this.eventGenerator_=new Wr(this.query_)}get query(){return this.query_}}function Mi(e,t){const n=$r(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!In(t)&&!n.getImmediateChild(wn(t)).isEmpty())?n.getChild(t):null}function Li(e){return 0===e.eventRegistrations_.length}function Fi(e,t,n){const r=[];if(n){l(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ji(e,t,n,r){t.type===Fr.MERGE&&null!==t.source.queryId&&(l($r(e.viewCache_),"We should always have a full cache before handling merges"),l(Yr(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Ti(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,l(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),l(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),l(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Ui(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Ui(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Hr(e,i,"child_removed",t,r,n),Hr(e,i,"child_added",t,r,n),Hr(e,i,"child_moved",o,r,n),Hr(e,i,"child_changed",t,r,n),Hr(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Bi,Vi;class qi{constructor(){this.views=new Map}}function zi(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return l(null!=o,"SyncTree gave us an op for an invalid query."),ji(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(ji(o,t,n,r));return i}}function Wi(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=gi(n,i?r:null),o=!1;e?o=!0:r instanceof cr?(e=yi(n,r),o=!1):(e=cr.EMPTY_NODE,o=!1);const s=Kr(new zr(e,o,!1),new zr(r,i,!1));return new Ri(t,s)}return s}function Hi(e,t,n,r,i,o){const s=Wi(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(nr,((e,t)=>{r.push(yr(e,t))}));return n.isFullyInitialized()&&r.push(gr(n.getNode())),Ui(e,r,n.getNode(),t)}(s,n)}function Ki(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Xi(e);if("default"===i)for(const[l,u]of e.views.entries())s=s.concat(Fi(u,n,r)),Li(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const t=e.views.get(i);t&&(s=s.concat(Fi(t,n,r)),Li(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Xi(e)&&o.push(new(l(Bi,"Reference.ts has not been loaded"),Bi)(t._repo,t._path)),{removed:o,events:s}}function Gi(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qi(e,t){let n=null;for(const r of e.views.values())n=n||Mi(r,t);return n}function Yi(e,t){if(t._queryParams.loadsAllData())return Ji(e);{const n=t._queryIdentifier;return e.views.get(n)}}function $i(e,t){return null!=Yi(e,t)}function Xi(e){return null!=Ji(e)}function Ji(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Zi=1;class eo{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Jr(null),this.pendingWriteTree_={visibleWrites:Zr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function to(e,t,n,r,i){return function(e,t,n,r,i){l(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ei(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?co(e,new Vr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function no(e,t,n,r){!function(e,t,n,r){l(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ti(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Jr.fromObject(n);return co(e,new qr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(hi(e.pendingWriteTree_,t)){let t=new Jr(null);return null!=r.snap?t=t.set(_n(),!0):Ut(r.children,(e=>{t=t.set(new bn(e),!0)})),co(e,new Ur(r.path,t,n))}return[]}function io(e,t,n){return co(e,new Vr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function oo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||$i(s,t))){const l=Ki(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Xi(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Xi(t)){return[Ji(t)]}{let e=[];return t&&(e=Gi(t)),Ut(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=po(e,r);e.listenProvider_.startListening(_o(i),mo(e,i),o.hashFn,o.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(_o(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(go(t));e.listenProvider_.stopListening(_o(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=go(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return a}function so(e,t,n,r){const i=yo(e,r);if(null!=i){const r=vo(i),o=r.path,s=r.queryId,a=Dn(o,t);return bo(e,o,new Vr(jr(s),a,n))}return[]}function ao(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Dn(e,i);o=o||Qi(t,n),s=s||Xi(t)}));let a,u=e.syncPointTree_.get(i);if(u?(s=s||Xi(u),o=o||Qi(u,_n())):(u=new qi,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=o)a=!0;else{a=!1,o=cr.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Qi(t,_n());n&&(o=o.updateImmediateChild(e,n))}))}const c=$i(u,t);if(!c&&!t._queryParams.loadsAllData()){const n=go(t);l(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Zi++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let h=Hi(u,t,n,ci(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=Yi(u,t);h=h.concat(function(e,t,n){const r=t._path,i=mo(e,t),o=po(e,n),s=e.listenProvider_.startListening(_o(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)l(!Xi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!In(e)&&t&&Xi(t))return[Ji(t).query];{let e=[];return t&&(e=e.concat(Gi(t).map((e=>e.query)))),Ut(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(_o(r),mo(e,r))}}return s}(e,t,n))}return h}function lo(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Qi(n,Dn(e,t));if(r)return r}));return mi(r,t,i,n,!0)}function uo(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Dn(e,n);r=r||Qi(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Qi(i,_n()):(i=new qi,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new zr(r,!0,!1):null;return function(e){return Yr(e.viewCache_)}(Wi(i,t,ci(e.pendingWriteTree_,t._path),o?s.getNode():cr.EMPTY_NODE,o))}function co(e,t){return ho(t,e.syncPointTree_,null,ci(e.pendingWriteTree_,_n()))}function ho(e,t,n,r){if(In(e.path))return fo(e,t,n,r);{const i=t.get(_n());null==n&&null!=i&&(n=Qi(i,_n()));let o=[];const s=wn(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Ei(r,s);o=o.concat(ho(a,l,e,t))}return i&&(o=o.concat(zi(i,e,r,n))),o}}function fo(e,t,n,r){const i=t.get(_n());null==n&&null!=i&&(n=Qi(i,_n()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=Ei(r,t),l=e.operationForChild(t);l&&(o=o.concat(fo(l,i,s,a)))})),i&&(o=o.concat(zi(i,e,r,n))),o}function po(e,t){const n=t.query,r=mo(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||cr.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=yo(e,n);if(r){const n=vo(r),i=n.path,o=n.queryId,s=Dn(i,t);return bo(e,i,new Br(jr(o),s))}return[]}(e,n._path,r):function(e,t){return co(e,new Br({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return oo(e,n,null,r)}}}}function mo(e,t){const n=go(t);return e.queryToTagMap.get(n)}function go(e){return e._path.toString()+"$"+e._queryIdentifier}function yo(e,t){return e.tagToQueryMap.get(t)}function vo(e){const t=e.indexOf("$");return l(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new bn(e.substr(0,t))}}function bo(e,t,n){const r=e.syncPointTree_.get(t);l(r,"Missing sync point for query tag that we're tracking");return zi(r,n,ci(e.pendingWriteTree_,t),null)}function _o(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(l(Vi,"Reference.ts has not been loaded"),Vi)(e._repo,e._path):e}class wo{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new wo(t)}node(){return this.node_}}class Eo{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Tn(this.path_,e);return new Eo(this.syncTree_,t)}node(){return lo(this.syncTree_,this.path_)}}const So=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Co=function(e,t,n){return e&&"object"===typeof e?(l(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ko(e[".sv"],t,n):"object"===typeof e[".sv"]?xo(e[".sv"],t):void l(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ko=function(e,t,n){if("timestamp"===e)return n.timestamp;l(!1,"Unexpected server value: "+e)},xo=function(e,t,n){e.hasOwnProperty("increment")||l(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&l(!1,"Unexpected increment value: "+r);const i=t.node();if(l(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},To=function(e,t,n,r){return Do(t,new Eo(n,e),r)},Io=function(e,t,n){return Do(e,new wo(t),n)};function Do(e,t,n){const r=e.getPriority().val(),i=Co(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Co(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new tr(o,fr(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new tr(i))),r.forEachChild(nr,((e,r)=>{const i=Do(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class No{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Oo(e,t){let n=t instanceof bn?t:new bn(t),r=e,i=wn(n);for(;null!==i;){const e=R(r.node.children,i)||{children:{},childCount:0};r=new No(i,r,e),n=Sn(n),i=wn(n)}return r}function Po(e){return e.node.value}function Ao(e,t){e.node.value=t,jo(e)}function Ro(e){return e.node.childCount>0}function Mo(e,t){Ut(e.node.children,((n,r)=>{t(new No(n,e,r))}))}function Lo(e,t,n,r){n&&!r&&t(e),Mo(e,(e=>{Lo(e,t,!0,r)})),n&&r&&t(e)}function Fo(e){return new bn(null===e.parent?e.name:Fo(e.parent)+"/"+e.name)}function jo(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Po(e)&&!Ro(e)}(n),i=A(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,jo(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,jo(e))}(e.parent,e.name,e)}const Uo=/[\[\].#$\/\u0000-\u001F\u007F]/,Bo=/[\[\].#$\u0000-\u001F\u007F]/,Vo=10485760,qo=function(e){return"string"===typeof e&&0!==e.length&&!Uo.test(e)},zo=function(e){return"string"===typeof e&&0!==e.length&&!Bo.test(e)},Wo=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Ot(e)||e&&"object"===typeof e&&A(e,".sv")},Ho=function(e,t,n,r){r&&void 0===t||Ko(W(e,"value"),t,n)},Ko=function(e,t,n){const r=n instanceof bn?new An(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Mn(r));if("function"===typeof t)throw new Error(e+"contains a function "+Mn(r)+" with contents = "+t.toString());if(Ot(t))throw new Error(e+"contains "+t.toString()+" "+Mn(r));if("string"===typeof t&&t.length>Vo/3&&G(t)>Vo)throw new Error(e+"contains a string greater than "+Vo+" utf8 bytes "+Mn(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Ut(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!qo(t)))throw new Error(e+" contains an invalid key ("+t+") "+Mn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=G(t),Rn(e)}(r,t),Ko(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=G(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Mn(r)+" in addition to actual children.")}},Go=function(e,t,n,r){if(r&&void 0===t)return;const i=W(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Ut(t,((e,t)=>{const r=new bn(e);if(Ko(i,t,Tn(n,r)),".priority"===Cn(r)&&!Wo(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=kn(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!qo(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Nn);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Pn(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Qo=function(e,t,n){if(!n||void 0!==t){if(Ot(t))throw new Error(W(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wo(t))throw new Error(W(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yo=function(e,t,n,r){if((!r||void 0!==n)&&!qo(n))throw new Error(W(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$o=function(e,t,n,r){if((!r||void 0!==n)&&!zo(n))throw new Error(W(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xo=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$o(e,t,n,r)},Jo=function(e,t){if(".info"===wn(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zo=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!qo(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zo(e)}(n))throw new Error(W(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class es{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ts(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||On(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ns(e,t,n){ts(e,n),is(e,(e=>On(e,t)))}function rs(e,t,n){ts(e,n),is(e,(e=>Pn(e,t)||Pn(t,e)))}function is(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(os(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function os(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();St&&xt("event: "+n.toString()),zt(r)}}}const ss="repo_interrupt",as=25;class ls{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new es,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Or(),this.transactionQueueTree_=new No,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function us(e,t,n){if(e.stats_=on(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Dr(e.repoInfo_,((t,n,r,i)=>{ds(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>fs(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{O(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new jn(e.repoInfo_,t,((t,n,r,i)=>{ds(e,t,n,r,i)}),(t=>{fs(e,t)}),(t=>{!function(e,t){Ut(t,((t,n)=>{ps(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return rn[n]||(rn[n]=t()),rn[n]}(e.repoInfo_,(()=>new Lr(e.stats_,e.server_))),e.infoData_=new Nr,e.infoSyncTree_=new eo({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=io(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),ps(e,"connected",!1),e.serverSyncTree_=new eo({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);rs(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function cs(e){const t=e.infoData_.getNode(new bn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hs(e){return So({timestamp:cs(e)})}function ds(e,t,n,r,i){e.dataUpdateCount++;const o=new bn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=L(n,(e=>fr(e)));s=function(e,t,n,r){const i=yo(e,r);if(i){const r=vo(i),o=r.path,s=r.queryId,a=Dn(o,t),l=Jr.fromObject(n);return bo(e,o,new qr(jr(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=fr(n);s=so(e.serverSyncTree_,o,t,i)}else if(r){const t=L(n,(e=>fr(e)));s=function(e,t,n){const r=Jr.fromObject(n);return co(e,new qr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=fr(n);s=io(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=ks(e,o)),rs(e.eventQueue_,a,s)}function fs(e,t){ps(e,"connected",t),!1===t&&function(e){ws(e,"onDisconnectEvents");const t=hs(e),n=Or();Rr(e.onDisconnect_,_n(),((r,i)=>{const o=To(r,i,e.serverSyncTree_,t);Pr(n,r,o)}));let r=[];Rr(n,_n(),((t,n)=>{r=r.concat(io(e.serverSyncTree_,t,n));const i=Ns(e,t);ks(e,i)})),e.onDisconnect_=Or(),rs(e.eventQueue_,_n(),r)}(e)}function ps(e,t,n){const r=new bn("/.info/"+t),i=fr(n);e.infoData_.updateSnapshot(r,i);const o=io(e.infoSyncTree_,r,i);rs(e.eventQueue_,r,o)}function ms(e){return e.nextWriteId_++}function gs(e,t,n,r,i){ws(e,"set",{path:t.toString(),value:n,priority:r});const o=hs(e),s=fr(n,r),a=lo(e.serverSyncTree_,t),l=Io(s,a,o),u=ms(e),c=to(e.serverSyncTree_,t,l,u,!0);ts(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||Nt("set at "+t+" failed: "+n);const s=ro(e.serverSyncTree_,u,!o);rs(e.eventQueue_,t,s),Es(e,i,n,r)}));const h=Ns(e,t);ks(e,h),rs(e.eventQueue_,h,[])}function ys(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&Ar(e.onDisconnect_,t),Es(e,n,r,i)}))}function vs(e,t,n,r){const i=fr(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&Pr(e.onDisconnect_,t,i),Es(e,r,n,o)}))}function bs(e,t,n){let r;r=".info"===wn(t._path)?oo(e.infoSyncTree_,t,n):oo(e.serverSyncTree_,t,n),ns(e.eventQueue_,t._path,r)}function _s(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ss)}function ws(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];xt(t,...r)}function Es(e,t,n,r){t&&zt((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function Ss(e,t,n){return lo(e.serverSyncTree_,t,n)||cr.EMPTY_NODE}function Cs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ds(e,t),Po(t)){const n=Ts(e,t);l(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Ss(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];l(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Dn(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),u=t;e.server_.put(u.toString(),a,(r=>{ws(e,"transaction put response",{path:u.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ro(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ds(e,Oo(e.transactionQueueTree_,t)),Cs(e,e.transactionQueueTree_),rs(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)zt(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Nt("transaction at "+u.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}ks(e,t)}}),s)}(e,Fo(t),n)}else Ro(t)&&Mo(t,(t=>{Cs(e,t)}))}function ks(e,t){const n=xs(e,t),r=Fo(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let u=0;u<t.length;u++){const o=t[u],c=Dn(n,o.path);let h,d=!1;if(l(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,h=o.abortReason,i=i.concat(ro(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=as)d=!0,h="maxretry",i=i.concat(ro(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Ss(e,o.path,s);o.currentInputSnapshot=n;const r=t[u].update(n.val());if(void 0!==r){Ko("transaction failed: Data returned ",r,o.path);let t=fr(r);"object"===typeof r&&null!=r&&A(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=hs(e),u=Io(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=u,o.currentWriteId=ms(e),s.splice(s.indexOf(a),1),i=i.concat(to(e.serverSyncTree_,o.path,u,o.currentWriteId,o.applyLocally)),i=i.concat(ro(e.serverSyncTree_,a,!0))}else d=!0,h="nodata",i=i.concat(ro(e.serverSyncTree_,o.currentWriteId,!0))}rs(e.eventQueue_,n,i),i=[],d&&(t[u].status=2,a=t[u].unwatcher,setTimeout(a,Math.floor(0)),t[u].onComplete&&("nodata"===h?r.push((()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot))):r.push((()=>t[u].onComplete(new Error(h),!1,null)))))}var a;Ds(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)zt(r[l]);Cs(e,e.transactionQueueTree_)}(e,Ts(e,n),r),r}function xs(e,t){let n,r=e.transactionQueueTree_;for(n=wn(t);null!==n&&void 0===Po(r);)r=Oo(r,n),n=wn(t=Sn(t));return r}function Ts(e,t){const n=[];return Is(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Is(e,t,n){const r=Po(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Mo(t,(t=>{Is(e,t,n)}))}function Ds(e,t){const n=Po(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ao(t,n.length>0?n:void 0)}Mo(t,(t=>{Ds(e,t)}))}function Ns(e,t){const n=Fo(xs(e,t)),r=Oo(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Os(e,t)})),Os(e,r),Lo(r,(t=>{Os(e,t)})),n}function Os(e,t){const n=Po(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(l(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(l(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ro(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Ao(t,void 0):n.length=o+1,rs(e.eventQueue_,Fo(t),i);for(let e=0;e<r.length;e++)zt(r[e])}}const Ps=function(e,t){const n=As(e),r=n.namespace;"firebase.com"===n.domain&&Dt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Dt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Zt(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new bn(n.pathString)}},As=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(c,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Nt("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Rs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ms=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Rs.charAt(n%64),n=Math.floor(n/64);l(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Rs.charAt(t[i]);return l(20===s.length,"nextPushId: Length should be 20."),s}}();class Ls{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+O(this.snapshot.exportVal())}}class Fs{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class js{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return l(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Us{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new _;return ys(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){Jo("OnDisconnect.remove",this._path);const e=new _;return vs(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){Jo("OnDisconnect.set",this._path),Ho("OnDisconnect.set",e,this._path,!1);const t=new _;return vs(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){Jo("OnDisconnect.setWithPriority",this._path),Ho("OnDisconnect.setWithPriority",e,this._path,!1),Qo("OnDisconnect.setWithPriority",t,!1);const n=new _;return function(e,t,n,r,i){const o=fr(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&Pr(e.onDisconnect_,t,o),Es(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){Jo("OnDisconnect.update",this._path),Go("OnDisconnect.update",e,this._path,!1);const t=new _;return function(e,t,n,r){if(M(n))return xt("onDisconnect().update() called with empty data.  Don't do anything."),void Es(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&Ut(n,((n,r)=>{const i=fr(r);Pr(e.onDisconnect_,Tn(t,n),i)})),Es(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class Bs{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return In(this._path)?null:Cn(this._path)}get ref(){return new Ws(this._repo,this._path)}get _queryIdentifier(){const e=Ir(this._queryParams),t=Ft(e);return"{}"===t?"default":t}get _queryObject(){return Ir(this._queryParams)}isEqual(e){if(!((e=Q(e))instanceof Bs))return!1;const t=this._repo===e._repo,n=On(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Vs(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function qs(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Pt)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==At)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===nr){if(null!=t&&!Wo(t)||null!=n&&!Wo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(l(e.getIndex()instanceof pr||e.getIndex()===mr,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zs(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ws extends Bs{constructor(e,t){super(e,t,new Sr,!1)}get parent(){const e=xn(this._path);return null===e?null:new Ws(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Hs{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new bn(e),n=Qs(this.ref,e);return new Hs(this._node.getChild(t),n,nr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Hs(n,Qs(this.ref,t),nr))))}hasChild(e){const t=new bn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ks(e,t){return(e=Q(e))._checkNotDeleted("ref"),void 0!==t?Qs(e._root,t):e._root}function Gs(e,t){(e=Q(e))._checkNotDeleted("refFromURL");const n=Ps(t,e._repo.repoInfo_.nodeAdmin);Zo("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Dt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ks(e,n.path.toString())}function Qs(e,t){return null===wn((e=Q(e))._path)?Xo("child","path",t,!1):$o("child","path",t,!1),new Ws(e._repo,Tn(e._path,t))}function Ys(e,t){e=Q(e),Jo("set",e._path),Ho("set",t,e._path,!1);const n=new _;return gs(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function $s(e,t){Go("update",t,e._path,!1);const n=new _;return function(e,t,n,r){ws(e,"update",{path:t.toString(),value:n});let i=!0;const o=hs(e),s={};if(Ut(n,((n,r)=>{i=!1,s[n]=To(Tn(t,n),fr(r),e.serverSyncTree_,o)})),i)xt("update() called with empty data.  Don't do anything."),Es(0,r,"ok",void 0);else{const i=ms(e),o=no(e.serverSyncTree_,t,s,i);ts(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||Nt("update at "+t+" failed: "+n);const a=ro(e.serverSyncTree_,i,!s),l=a.length>0?ks(e,t):t;rs(e.eventQueue_,l,a),Es(0,r,n,o)})),Ut(n,(n=>{const r=Ns(e,Tn(t,n));ks(e,r)})),rs(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Xs(e){e=Q(e);const t=new js((()=>{})),n=new Js(t);return function(e,t,n){const r=uo(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=fr(r).withIndex(t._queryParams.getIndex());let o;if(ao(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=io(e.serverSyncTree_,t._path,i);else{const n=mo(e.serverSyncTree_,t);o=so(e.serverSyncTree_,t._path,i,n)}return rs(e.eventQueue_,t._path,o),oo(e.serverSyncTree_,t,n,null,!0),i}),(n=>(ws(e,"get for query "+O(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Hs(t,new Ws(e._repo,e._path),e._queryParams.getIndex())))}class Js{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ls("value",this,new Hs(e.snapshotNode,new Ws(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Fs(this,e,t):null}matches(e){return e instanceof Js&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Zs{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Fs(this,e,t):null}createEvent(e,t){l(null!=e.childName,"Child events should have a childName.");const n=Qs(new Ws(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ls(e.type,this,new Hs(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Zs&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function ea(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{bs(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new js(n,o||void 0),a="value"===t?new Js(s):new Zs(t,s);return function(e,t,n){let r;r=".info"===wn(t._path)?ao(e.infoSyncTree_,t,n):ao(e.serverSyncTree_,t,n),ns(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>bs(e._repo,e,a)}function ta(e,t,n,r){return ea(e,"value",t,n,r)}function na(e,t,n,r){return ea(e,"child_added",t,n,r)}function ra(e,t,n,r){return ea(e,"child_changed",t,n,r)}function ia(e,t,n,r){return ea(e,"child_moved",t,n,r)}function oa(e,t,n,r){return ea(e,"child_removed",t,n,r)}function sa(e,t,n){let r=null;const i=n?new js(n):null;"value"===t?r=new Js(i):t&&(r=new Zs(t,i)),bs(e._repo,e,r)}class aa{}class la extends aa{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Ho("endAt",this._value,e._path,!0);const t=kr(e._queryParams,this._value,this._key);if(zs(t),qs(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}class ua extends aa{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){Ho("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===zn||n?kr(e,t,n):kr(e,t,Pt),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(zs(t),qs(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}class ca extends aa{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Ho("startAt",this._value,e._path,!0);const t=Cr(e._queryParams,this._value,this._key);if(zs(t),qs(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}class ha extends aa{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){Ho("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===zn||n?Cr(e,t,n):Cr(e,t,At),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(zs(t),qs(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Bs(e._repo,e._path,t,e._orderByCalled)}}class da extends aa{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bs(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class fa extends aa{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Bs(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class pa extends aa{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Vs(e,"orderByChild");const t=new bn(this._path);if(In(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new pr(t),r=xr(e._queryParams,n);return qs(r),new Bs(e._repo,e._path,r,!0)}}class ma extends aa{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Vs(e,"orderByKey");const t=xr(e._queryParams,zn);return qs(t),new Bs(e._repo,e._path,t,!0)}}class ga extends aa{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Vs(e,"orderByPriority");const t=xr(e._queryParams,nr);return qs(t),new Bs(e._repo,e._path,t,!0)}}class ya extends aa{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Vs(e,"orderByValue");const t=xr(e._queryParams,mr);return qs(t),new Bs(e._repo,e._path,t,!0)}}class va extends aa{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Ho("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new la(this._value,this._key)._apply(new ca(this._value,this._key)._apply(e))}}function ba(e){let t=Q(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){l(!Bi,"__referenceConstructor has already been defined"),Bi=e}(Ws),function(e){l(!Vi,"__referenceConstructor has already been defined"),Vi=e}(Ws);const _a="FIREBASE_DATABASE_EMULATOR_HOST",wa={};let Ea=!1;function Sa(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Dt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=Ps(o,i),u=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/TaskProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[_a]),a?(s=!0,o="http://".concat(a,"?ns=").concat(u.namespace),l=Ps(o,i),u=l.repoInfo):s=!l.repoInfo.secure;const c=i&&s?new Gt(Gt.OWNER):new Kt(e.name,e.options,t);Zo("Invalid Firebase Database URL",l),In(l.path)||Dt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=wa[t.name];i||(i={},wa[t.name]=i);let o=i[e.toURLString()];o&&Dt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ls(e,Ea,n,r),i[e.toURLString()]=o,o}(u,e,c,new Ht(e.name,n));return new Ca(h,e)}class Ca{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(us(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ws(this._repo,_n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=wa[t];n&&n[e.key]===e||Dt("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),_s(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Dt("Cannot call "+e+" on a deleted database.")}}function ka(){dn.IS_TRANSPORT_INITIALIZED&&Nt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xa(){ka(),ln.forceDisallow()}function Ta(){ka(),hn.forceDisallow(),ln.forceAllow()}function Ia(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Q(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Dt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Dt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Gt(Gt.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:w(r.mockUserToken,e.app.options.projectId);o=new Gt(t)}!function(e,t,n,r){e.repoInfo_=new Zt("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function Da(e){var t;(e=Q(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ss)}function Na(e,t){kt(e,t)}const Oa={".sv":"timestamp"};class Pa{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Aa(e,t,n){var r;if(e=Q(e),Jo("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new _,s=ta(e,(()=>{}));return function(e,t,n,r,i,o){ws(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:_t(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Ss(e,t,void 0);s.currentInputSnapshot=a;const u=s.update(a.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Ko("transaction failed: Data returned ",u,s.path),s.status=0;const n=Oo(e.transactionQueueTree_,t),r=Po(n)||[];let i;r.push(s),Ao(n,r),"object"===typeof u&&null!==u&&A(u,".priority")?(i=R(u,".priority"),l(Wo(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(lo(e.serverSyncTree_,t)||cr.EMPTY_NODE).getPriority().val();const o=hs(e),c=fr(u,i),h=Io(c,a,o);s.currentOutputSnapshotRaw=c,s.currentOutputSnapshotResolved=h,s.currentWriteId=ms(e);const d=to(e.serverSyncTree_,t,h,s.currentWriteId,s.applyLocally);rs(e.eventQueue_,t,d),Cs(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new Hs(r,new Ws(e._repo,e._path),nr),o.resolve(new Pa(n,i)))}),s,i),o.promise}jn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},jn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ft(Ue),Ae(new Y("database",((e,t)=>{let{instanceIdentifier:n}=t;return Sa(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),We(ct,ht,e),We(ct,ht,"esm2017")}();const Ra=new oe("@firebase/database-compat"),Ma=function(e){const t="FIREBASE WARNING: "+e;Ra.warn(t)};class La{constructor(e){this._delegate=e}cancel(e){z("OnDisconnect.cancel",0,1,arguments.length),H("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){z("OnDisconnect.remove",0,1,arguments.length),H("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){z("OnDisconnect.set",1,2,arguments.length),H("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){z("OnDisconnect.setWithPriority",2,3,arguments.length),H("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(z("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ma("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}H("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class Fa{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return z("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ja{constructor(e,t){this._database=e,this._delegate=t}val(){return z("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return z("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return z("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return z("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return z("DataSnapshot.child",0,1,arguments.length),e=String(e),$o("DataSnapshot.child","path",e,!1),new ja(this._database,this._delegate.child(e))}hasChild(e){return z("DataSnapshot.hasChild",1,1,arguments.length),$o("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return z("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return z("DataSnapshot.forEach",1,1,arguments.length),H("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new ja(this._database,t))))}hasChildren(){return z("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return z("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return z("DataSnapshot.ref",0,0,arguments.length),new Ba(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ua{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;z("Query.on",2,4,arguments.length),H("Query.on","callback",t,!1);const o=Ua.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new ja(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return ta(this._delegate,s,a),t;case"child_added":return na(this._delegate,s,a),t;case"child_removed":return oa(this._delegate,s,a),t;case"child_changed":return ra(this._delegate,s,a),t;case"child_moved":return ia(this._delegate,s,a),t;default:throw new Error(W("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(z("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(W(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),H("Query.off","callback",t,!0),K("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,sa(this._delegate,e,r)}else sa(this._delegate,e)}get(){return Xs(this._delegate).then((e=>new ja(this.database,e)))}once(e,t,n,r){z("Query.once",1,4,arguments.length),H("Query.once","callback",t,!0);const i=Ua.getCancelAndContextArgs_("Query.once",n,r),o=new _,s=(e,n)=>{const r=new ja(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":ta(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":na(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":oa(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":ra(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":ia(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error(W("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return z("Query.limitToFirst",1,1,arguments.length),new Ua(this.database,ba(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new da(e)}(e)))}limitToLast(e){return z("Query.limitToLast",1,1,arguments.length),new Ua(this.database,ba(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fa(e)}(e)))}orderByChild(e){return z("Query.orderByChild",1,1,arguments.length),new Ua(this.database,ba(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $o("orderByChild","path",e,!1),new pa(e)}(e)))}orderByKey(){return z("Query.orderByKey",0,0,arguments.length),new Ua(this.database,ba(this._delegate,new ma))}orderByPriority(){return z("Query.orderByPriority",0,0,arguments.length),new Ua(this.database,ba(this._delegate,new ga))}orderByValue(){return z("Query.orderByValue",0,0,arguments.length),new Ua(this.database,ba(this._delegate,new ya))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return z("Query.startAt",0,2,arguments.length),new Ua(this.database,ba(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Yo("startAt","key",t,!0),new ca(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return z("Query.startAfter",0,2,arguments.length),new Ua(this.database,ba(this._delegate,function(e,t){return Yo("startAfter","key",t,!0),new ha(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return z("Query.endAt",0,2,arguments.length),new Ua(this.database,ba(this._delegate,function(e,t){return Yo("endAt","key",t,!0),new la(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return z("Query.endBefore",0,2,arguments.length),new Ua(this.database,ba(this._delegate,function(e,t){return Yo("endBefore","key",t,!0),new ua(e,t)}(e,t)))}equalTo(e,t){return z("Query.equalTo",1,2,arguments.length),new Ua(this.database,ba(this._delegate,function(e,t){return Yo("equalTo","key",t,!0),new va(e,t)}(e,t)))}toString(){return z("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return z("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(z("Query.isEqual",1,1,arguments.length),!(e instanceof Ua)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,H(e,"cancel",r.cancel,!0),r.context=n,K(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(W(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ba(this.database,new Ws(this._delegate._repo,this._delegate._path))}}class Ba extends Ua{constructor(e,t){super(e,new Bs(t._repo,t._path,new Sr,!1)),this.database=e,this._delegate=t}getKey(){return z("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return z("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new Ba(this.database,Qs(this._delegate,e))}getParent(){z("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ba(this.database,e):null}getRoot(){return z("Reference.root",0,0,arguments.length),new Ba(this.database,this._delegate.root)}set(e,t){z("Reference.set",1,2,arguments.length),H("Reference.set","onComplete",t,!0);const n=Ys(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(z("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ma("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jo("Reference.update",this._delegate._path),H("Reference.update","onComplete",t,!0);const n=$s(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){z("Reference.setWithPriority",2,3,arguments.length),H("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(Jo("setWithPriority",e._path),Ho("setWithPriority",t,e._path,!1),Qo("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new _;return gs(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){z("Reference.remove",0,1,arguments.length),H("Reference.remove","onComplete",e,!0);const t=function(e){return Jo("remove",e._path),Ys(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){z("Reference.transaction",1,3,arguments.length),H("Reference.transaction","transactionUpdate",e,!1),H("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(W(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=Aa(this._delegate,e,{applyLocally:n}).then((e=>new Fa(e.committed,new ja(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){z("Reference.setPriority",1,2,arguments.length),H("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=Q(e),Jo("setPriority",e._path),Qo("setPriority",t,!1);const n=new _;return gs(e._repo,Tn(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){z("Reference.push",0,2,arguments.length),H("Reference.push","onComplete",t,!0);const n=function(e,t){e=Q(e),Jo("push",e._path),Ho("push",t,e._path,!0);const n=cs(e._repo),r=Ms(n),i=Qs(e,r),o=Qs(e,r);let s;return s=null!=t?Ys(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),r=n.then((e=>new Ba(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new Ba(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return Jo("Reference.onDisconnect",this._delegate._path),new La(new Us(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Va{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xa,forceLongPolling:Ta}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ia(this._delegate,e,t,n)}ref(e){if(z("database.ref",0,1,arguments.length),e instanceof Ba){const t=Gs(this._delegate,e.toString());return new Ba(this,t)}{const t=Ks(this._delegate,e);return new Ba(this,t)}}refFromURL(e){z("database.refFromURL",1,1,arguments.length);const t=Gs(this._delegate,e);return new Ba(this,t)}goOffline(){return z("database.goOffline",0,0,arguments.length),function(e){(e=Q(e))._checkNotDeleted("goOffline"),_s(e._repo)}(this._delegate)}goOnline(){return z("database.goOnline",0,0,arguments.length),Da(this._delegate)}}Va.ServerValue={TIMESTAMP:Oa,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var qa=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:i,customAppCheckImpl:o,namespace:s,nodeAdmin:a=!1}=e;ft(r);const l=new J("database-standalone"),u=new X("auth-internal",l);let c;return u.setComponent(new Y("auth-internal",(()=>i),"PRIVATE")),o&&(c=new X("app-check-internal",l),c.setComponent(new Y("app-check-internal",(()=>o),"PRIVATE"))),{instance:new Va(Sa(t,u,c,n,a),t),namespace:s}}});const za=Va.ServerValue;var Wa;(Wa=ut).INTERNAL.registerComponent(new Y("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Va(i,r)}),"PUBLIC").setServiceProps({Reference:Ba,Query:Ua,Database:Va,DataSnapshot:ja,enableLogging:Na,INTERNAL:qa,ServerValue:za}).setMultipleInstances(!0)),Wa.registerVersion("@firebase/database-compat","1.0.3");n.p;var Ha,Ka=n(292),Ga=n.t(Ka,2);function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qa.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Ha||(Ha={}));const Ya="popstate";function $a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Xa(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Ja(e,t){return{usr:e.state,key:e.key,idx:t}}function Za(e,t,n,r){return void 0===n&&(n=null),Qa({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?tl(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function el(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function tl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nl(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ha.Pop,l=null,u=c();function c(){return(s.state||{idx:null}).idx}function h(){a=Ha.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:el(e);return $a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,s.replaceState(Qa({},s.state,{idx:u}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ya,h),l=e,()=>{i.removeEventListener(Ya,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Ha.Push;let r=Za(f.location,e,t);n&&n(r,e),u=c()+1;let h=Ja(r,u),d=f.createHref(r);try{s.pushState(h,"",d)}catch(It){if(It instanceof DOMException&&"DataCloneError"===It.name)throw It;i.location.assign(d)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Ha.Replace;let r=Za(f.location,e,t);n&&n(r,e),u=c();let i=Ja(r,u),h=f.createHref(r);s.replaceState(i,"",h),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var rl;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(rl||(rl={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function il(e,t,n){void 0===n&&(n="/");let r=vl(("string"===typeof t?tl(t):t).pathname||"/",n);if(null==r)return null;let i=ol(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=ml(i[s],yl(r));return o}function ol(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&($a(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=Sl([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&($a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),ol(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:pl(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of sl(e.path))i(e,t,r);else i(e,t)})),t}function sl(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=sl(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const al=/^:[\w-]+$/,ll=3,ul=2,cl=1,hl=10,dl=-2,fl=e=>"*"===e;function pl(e,t){let n=e.split("/"),r=n.length;return n.some(fl)&&(r+=dl),t&&(r+=ul),n.filter((e=>!fl(e))).reduce(((e,t)=>e+(al.test(t)?ll:""===t?cl:hl)),r)}function ml(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=gl({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;o.push({params:r,pathname:Sl([i,u.pathname]),pathnameBase:Cl(Sl([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=Sl([i,u.pathnameBase]))}return o}function gl(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Xa("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(It){return Xa(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+It+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function yl(e){try{return decodeURI(e)}catch(It){return Xa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+It+")."),e}}function vl(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function bl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _l(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function wl(e,t){let n=_l(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function El(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=tl(e):(i=Qa({},e),$a(!i.pathname||!i.pathname.includes("?"),bl("?","pathname","search",i)),$a(!i.pathname||!i.pathname.includes("#"),bl("#","pathname","hash",i)),$a(!i.search||!i.search.includes("#"),bl("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?tl(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:kl(r),hash:xl(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),c=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const Sl=e=>e.join("/").replace(/\/\/+/g,"/"),Cl=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kl=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",xl=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Tl(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Il=["post","put","patch","delete"],Dl=(new Set(Il),["get",...Il]);new Set(Dl),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}const Ol=t.createContext(null);const Pl=t.createContext(null);const Al=t.createContext(null);const Rl=t.createContext(null);const Ml=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Ll=t.createContext(null);function Fl(){return null!=t.useContext(Rl)}function jl(){return Fl()||$a(!1),t.useContext(Rl).location}function Ul(e){t.useContext(Al).static||t.useLayoutEffect(e)}function Bl(){let{isDataRoute:e}=t.useContext(Ml);return e?function(){let{router:e}=$l(Ql.UseNavigateStable),n=Jl(Yl.UseNavigateStable),r=t.useRef(!1);Ul((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Nl({fromRouteId:n},i)))}),[e,n]);return i}():function(){Fl()||$a(!1);let e=t.useContext(Ol),{basename:n,future:r,navigator:i}=t.useContext(Al),{matches:o}=t.useContext(Ml),{pathname:s}=jl(),a=JSON.stringify(wl(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return Ul((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=El(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:Sl([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e])}()}function Vl(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(Al),{matches:o}=t.useContext(Ml),{pathname:s}=jl(),a=JSON.stringify(wl(o,i.v7_relativeSplatPath));return t.useMemo((()=>El(e,JSON.parse(a),s,"path"===r)),[e,a,s,r])}function ql(e,n,r,i){Fl()||$a(!1);let{navigator:o}=t.useContext(Al),{matches:s}=t.useContext(Ml),a=s[s.length-1],l=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let c,h=jl();if(n){var d;let e="string"===typeof n?tl(n):n;"/"===u||(null==(d=e.pathname)?void 0:d.startsWith(u))||$a(!1),c=e}else c=h;let f=c.pathname||"/",p=il(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});let m=Gl(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Sl([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Sl([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&m?t.createElement(Rl.Provider,{value:{location:Nl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ha.Pop}},m):m}function zl(){let e=function(){var e;let n=t.useContext(Ll),r=Xl(Yl.UseRouteError),i=Jl(Yl.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Tl(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const Wl=t.createElement(zl,null);class Hl extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Ml.Provider,{value:this.props.routeContext},t.createElement(Ll.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kl(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(Ol);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Ml.Provider,{value:n},i)}function Gl(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||$a(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,h=!1,d=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||Wl,u&&(c<0&&0===o?(p="route-fallback",!1||Zl[p]||(Zl[p]=!0),h=!0,f=null):c===o&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?d:h?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Kl,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(Hl,{location:r.location,revalidation:r.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Ql=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ql||{}),Yl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yl||{});function $l(e){let n=t.useContext(Ol);return n||$a(!1),n}function Xl(e){let n=t.useContext(Pl);return n||$a(!1),n}function Jl(e){let n=function(e){let n=t.useContext(Ml);return n||$a(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||$a(!1),r.route.id}const Zl={};r.startTransition;function eu(e){$a(!1)}function tu(e){let{basename:n="/",children:r=null,location:i,navigationType:o=Ha.Pop,navigator:s,static:a=!1,future:l}=e;Fl()&&$a(!1);let u=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:u,navigator:s,static:a,future:Nl({v7_relativeSplatPath:!1},l)})),[u,l,s,a]);"string"===typeof i&&(i=tl(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=vl(h,u);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:o}}),[u,h,d,f,p,m,o]);return null==g?null:t.createElement(Al.Provider,{value:c},t.createElement(Rl.Provider,{children:r,value:g}))}function nu(e){let{children:t,location:n}=e;return ql(ru(t),n)}new Promise((()=>{}));t.Component;function ru(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ru(e.props.children,o));e.type!==eu&&$a(!1),e.props.index&&e.props.children&&$a(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ru(e.props.children,o)),r.push(s)})),r}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(this,arguments)}function ou(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const su=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(_N){}new Map;const au=r.startTransition;Ga.flushSync,r.useId;function lu(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),nl((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=tl(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Za("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:el(t))}),(function(e,t){Xa("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=s.current,[u,c]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=t.useCallback((e=>{h&&au?au((()=>c(e))):c(e)}),[c,h]);return t.useLayoutEffect((()=>l.listen(d)),[l,d]),t.createElement(tu,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:l,future:i})}const uu="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,cu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hu=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=ou(e,su),{basename:p}=t.useContext(Al),m=!1;if("string"===typeof c&&cu.test(c)&&(r=c,uu))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=vl(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(_N){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;Fl()||$a(!1);let{basename:i,navigator:o}=t.useContext(Al),{hash:s,pathname:a,search:l}=Vl(e,{relative:r}),u=a;return"/"!==i&&(u="/"===a?i:Sl([i,a])),o.createHref({pathname:u,search:l,hash:s})}(c,{relative:o}),y=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,u=Bl(),c=jl(),h=Vl(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:el(c)===el(h);u(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[c,u,h,i,o,r,e,s,a,l])}(c,{replace:a,state:l,target:u,preventScrollReset:h,relative:o,unstable_viewTransition:d});return t.createElement("a",iu({},f,{href:r||g,onClick:m||s?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:u}))}));var du,fu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(du||(du={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(fu||(fu={}));const pu="Button_button_link__w1yPG";var mu=n(496);const gu=e=>{let{to:t,text:n}=e;return(0,mu.jsx)("div",{className:pu,children:(0,mu.jsx)(hu,{to:t,children:n})})};var yu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vu=t.createContext&&t.createContext(yu),bu=["attr","size","title"];function _u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(this,arguments)}function Eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(n),!0).forEach((function(t){Cu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ku(e){return e&&e.map(((e,n)=>t.createElement(e.tag,Su({key:n},e.attr),ku(e.child))))}function xu(e){return n=>t.createElement(Tu,wu({attr:Su({},e.attr)},n),ku(e.child))}function Tu(e){var n=n=>{var r,{attr:i,size:o,title:s}=e,a=_u(e,bu),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",wu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:Su(Su({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==vu?t.createElement(vu.Consumer,null,(e=>n(e))):n(yu)}function Iu(e){return xu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(e)}function Du(e){return xu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32V64 368 480c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48V32z"},child:[]}]})(e)}const Nu={card_container:"TaskCard_card_container__iVIle",card_title:"TaskCard_card_title__yCS1q",info:"TaskCard_info__tlPpp",center_container:"TaskCard_center_container__7VE+i",title_check:"TaskCard_title_check__2iUTz",check:"TaskCard_check__2O-tO",flags:"TaskCard_flags__PDu7r",yellow_flag:"TaskCard_yellow_flag__ejhY5",red_flag:"TaskCard_red_flag__mhWC+",orange_flag:"TaskCard_orange_flag__vSgiV",subcontent:"TaskCard_subcontent__Bz5Ys",buttons:"TaskCard_buttons__uVvQ-",update:"TaskCard_update__UpHOm",remove:"TaskCard_remove__Hblc9",work_category:"TaskCard_work_category__lhFCL",study_category:"TaskCard_study_category__eIRsd",personal_category:"TaskCard_personal_category__W20G2"};function Ou(e){return xu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)}function Pu(e){return xu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)}function Au(e){return xu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Ru(e){return xu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Mu(e){return xu({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M12 7a5 5 0 1 1 -4.995 5.217l-.005 -.217l.005 -.217a5 5 0 0 1 4.995 -4.783z",strokeWidth:"0",fill:"currentColor"},child:[]}]})(e)}var Lu,Fu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ju={},Uu=Uu||{},Bu=Fu||self;function Vu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var zu="closure_uid_"+(1e9*Math.random()>>>0),Wu=0;function Hu(e,t,n){return e.call.apply(e.bind,arguments)}function Ku(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gu(e,t,n){return(Gu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hu:Ku).apply(null,arguments)}function Qu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Yu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function $u(){this.s=this.s,this.o=this.o}$u.prototype.s=!1,$u.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,zu)&&e[zu]||(e[zu]=++Wu))},$u.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ju(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zu(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Vu(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ec(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ec.prototype.h=function(){this.defaultPrevented=!0};var tc=function(){if(!Bu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Bu.addEventListener("test",e,t),Bu.removeEventListener("test",e,t)}catch(n){}return e}();function nc(e){return/^[\s\xa0]*$/.test(e)}function rc(){var e=Bu.navigator;return e&&(e=e.userAgent)?e:""}function ic(e){return-1!=rc().indexOf(e)}function oc(e){return oc[" "](e),e}oc[" "]=function(){};var sc,ac,lc=ic("Opera"),uc=ic("Trident")||ic("MSIE"),cc=ic("Edge"),hc=cc||uc,dc=ic("Gecko")&&!(-1!=rc().toLowerCase().indexOf("webkit")&&!ic("Edge"))&&!(ic("Trident")||ic("MSIE"))&&!ic("Edge"),fc=-1!=rc().toLowerCase().indexOf("webkit")&&!ic("Edge");function pc(){var e=Bu.document;return e?e.documentMode:void 0}e:{var mc="",gc=function(){var e=rc();return dc?/rv:([^\);]+)(\)|;)/.exec(e):cc?/Edge\/([\d\.]+)/.exec(e):uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fc?/WebKit\/(\S+)/.exec(e):lc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gc&&(mc=gc?gc[1]:""),uc){var yc=pc();if(null!=yc&&yc>parseFloat(mc)){sc=String(yc);break e}}sc=mc}if(Bu.document&&uc){var vc=pc();ac=vc||(parseInt(sc,10)||void 0)}else ac=void 0;var bc=ac;function _c(e,t){if(ec.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dc){e:{try{oc(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_c.$.h.call(this)}}Yu(_c,ec);var wc={2:"touch",3:"pen",4:"mouse"};_c.prototype.h=function(){_c.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ec="closure_listenable_"+(1e6*Math.random()|0),Sc=0;function Cc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sc,this.fa=this.ia=!1}function kc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function xc(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Tc(e){const t={};for(const n in e)t[n]=e[n];return t}const Ic="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dc(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ic.length;t++)n=Ic[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nc(e){this.src=e,this.g={},this.h=0}function Oc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Xu(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(kc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pc(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Nc.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Pc(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Cc(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Ac="closure_lm_"+(1e6*Math.random()|0),Rc={};function Mc(e,t,n,r,i){if(r&&r.once)return Fc(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Mc(e,t[o],n,r,i);return null}return n=Wc(n),e&&e[Ec]?e.O(t,n,qu(r)?!!r.capture:!!r,i):Lc(e,t,n,!1,r,i)}function Lc(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=qu(i)?!!i.capture:!!i,a=qc(e);if(a||(e[Ac]=a=new Nc(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Vc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tc||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Bc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fc(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Fc(e,t[o],n,r,i);return null}return n=Wc(n),e&&e[Ec]?e.P(t,n,qu(r)?!!r.capture:!!r,i):Lc(e,t,n,!0,r,i)}function jc(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)jc(e,t[o],n,r,i);else r=qu(r)?!!r.capture:!!r,n=Wc(n),e&&e[Ec]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pc(o=e.g[t],n,r,i))&&(kc(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=qc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pc(t,n,r,i)),(n=-1<e?t[e]:null)&&Uc(n))}function Uc(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ec])Oc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Bc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qc(t))?(Oc(n,e),0==n.h&&(n.src=null,t[Ac]=null)):kc(e)}}}function Bc(e){return e in Rc?Rc[e]:Rc[e]="on"+e}function Vc(e,t){if(e.fa)e=!0;else{t=new _c(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Uc(e),e=n.call(r,t)}return e}function qc(e){return(e=e[Ac])instanceof Nc?e:null}var zc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wc(e){return"function"===typeof e?e:(e[zc]||(e[zc]=function(t){return e.handleEvent(t)}),e[zc])}function Hc(){$u.call(this),this.i=new Nc(this),this.S=this,this.J=null}function Kc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ec(t,e);else if(t instanceof ec)t.target=t.target||e;else{var i=t;Dc(t=new ec(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Gc(s,r,!0,t)&&i}if(i=Gc(s=t.g=e,r,!0,t)&&i,i=Gc(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Gc(s=t.g=n[o],r,!1,t)&&i}function Gc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Oc(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Yu(Hc,$u),Hc.prototype[Ec]=!0,Hc.prototype.removeEventListener=function(e,t,n,r){jc(this,e,t,n,r)},Hc.prototype.N=function(){if(Hc.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kc(n[r]);delete t.g[e],t.h--}}this.J=null},Hc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Hc.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qc=Bu.JSON.stringify;function Yc(){var e=nh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $c=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Xc),(e=>e.reset()));class Xc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Jc(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Zc(e){Bu.setTimeout((()=>{throw e}),0)}let eh,th=!1,nh=new class{constructor(){this.h=this.g=null}add(e,t){const n=$c.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},rh=()=>{const e=Bu.Promise.resolve(void 0);eh=()=>{e.then(ih)}};var ih=()=>{for(var e;e=Yc();){try{e.h.call(e.g)}catch(n){Zc(n)}var t=$c;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}th=!1};function oh(e,t){Hc.call(this),this.h=e||1,this.g=t||Bu,this.j=Gu(this.qb,this),this.l=Date.now()}function sh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ah(e,t,n){if("function"===typeof e)n&&(e=Gu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gu(e.handleEvent,e)}return 2147483647<Number(t)?-1:Bu.setTimeout(e,t||0)}function lh(e){e.g=ah((()=>{e.g=null,e.i&&(e.i=!1,lh(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Yu(oh,Hc),(Lu=oh.prototype).ga=!1,Lu.T=null,Lu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kc(this,"tick"),this.ga&&(sh(this),this.start()))}},Lu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Lu.N=function(){oh.$.N.call(this),sh(this),delete this.g};class uh extends $u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lh(this)}N(){super.N(),this.g&&(Bu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ch(e){$u.call(this),this.h=e,this.g={}}Yu(ch,$u);var hh=[];function dh(e,t,n,r){Array.isArray(n)||(n&&(hh[0]=n.toString()),n=hh);for(var i=0;i<n.length;i++){var o=Mc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function fh(e){xc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Uc(e)}),e),e.g={}}function ph(){this.g=!0}function mh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Qc(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}ch.prototype.N=function(){ch.$.N.call(this),fh(this)},ch.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ph.prototype.Ea=function(){this.g=!1},ph.prototype.info=function(){};var gh={},yh=null;function vh(){return yh=yh||new Hc}function bh(e){ec.call(this,gh.Ta,e)}function _h(e){const t=vh();Kc(t,new bh(t))}function wh(e,t){ec.call(this,gh.STAT_EVENT,e),this.stat=t}function Eh(e){const t=vh();Kc(t,new wh(t,e))}function Sh(e,t){ec.call(this,gh.Ua,e),this.size=t}function Ch(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Bu.setTimeout((function(){e()}),t)}gh.Ta="serverreachability",Yu(bh,ec),gh.STAT_EVENT="statevent",Yu(wh,ec),gh.Ua="timingevent",Yu(Sh,ec);var kh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Th(){}function Ih(e){return e.h||(e.h=e.i())}function Dh(){}Th.prototype.h=null;var Nh,Oh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ph(){ec.call(this,"d")}function Ah(){ec.call(this,"c")}function Rh(){}function Mh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ch(this),this.P=Fh,e=hc?125:void 0,this.V=new oh(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Lh}function Lh(){this.i=null,this.g="",this.h=!1}Yu(Ph,ec),Yu(Ah,ec),Yu(Rh,Th),Rh.prototype.g=function(){return new XMLHttpRequest},Rh.prototype.i=function(){return{}},Nh=new Rh;var Fh=45e3,jh={},Uh={};function Bh(e,t,n){e.L=1,e.A=od(ed(t)),e.u=n,e.S=!0,Vh(e,null)}function Vh(e,t){e.G=Date.now(),Hh(e),e.B=ed(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),vd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Lh,e.g=_f(e.l,n?t:null,!e.u),0<e.O&&(e.M=new uh(Gu(e.Pa,e,e.g),e.O)),dh(e.U,e.g,"readystatechange",e.nb),t=e.I?Tc(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),_h(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function qh(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function zh(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Wh(e,n),r==Uh){4==t&&(e.s=4,Eh(14),i=!1),mh(e.j,e.m,null,"[Incomplete Response]");break}if(r==jh){e.s=4,Eh(15),mh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mh(e.j,e.m,r,null),$h(e,r)}qh(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Eh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),df(t),t.M=!0,Eh(11))):(mh(e.j,e.m,n,"[Invalid Chunked Response]"),Yh(e),Qh(e))}function Wh(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Uh:(n=Number(t.substring(n,r)),isNaN(n)?jh:(r+=1)+n>t.length?Uh:(t=t.slice(r,r+n),e.o=r+n,t))}function Hh(e){e.Y=Date.now()+e.P,Kh(e,e.P)}function Kh(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Ch(Gu(e.lb,e),t)}function Gh(e){e.C&&(Bu.clearTimeout(e.C),e.C=null)}function Qh(e){0==e.l.H||e.J||mf(e.l,e)}function Yh(e){Gh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,sh(e.V),fh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function $h(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||kd(n.i,e)))if(!e.K&&kd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;pf(n),rf(n)}hf(n),Eh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ch(Gu(n.ib,n),6e3));if(1>=Cd(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else yf(n,11)}else if((e.K||n.g==e)&&pf(n),!nc(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(xd(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,id(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=bf(r,r.J?r.pa:null,r.Y),s.K){Td(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Gh(a),Hh(a)),r.g=s}else cf(r);0<n.j.length&&sf(n)}else"stop"!=u[0]&&"close"!=u[0]||yf(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?yf(n,7):nf(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}_h()}catch(u){}}function Xh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Vu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Vu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Lu=Mh.prototype).setTimeout=function(e){this.P=e},Lu.nb=function(e){e=e.target;const t=this.M;t&&3==$d(e)?t.l():this.Pa(e)},Lu.Pa=function(e){try{if(e==this.g)e:{const c=$d(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||hc||this.g&&(this.h.h||this.g.ja()||Xd(this.g)))){this.J||4!=c||7==t||_h(),Gh(this);var n=this.g.da();this.ca=n;t:if(qh(this)){var r=Xd(this.g);e="";var i=r.length,o=4==$d(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yh(this),Qh(this);var s="";break t}this.h.i=new Bu.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nc(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,Eh(12),Yh(this),Qh(this);break e}mh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$h(this,n)}this.S?(zh(this,c,s),hc&&this.i&&3==c&&(dh(this.U,this.V,"tick",this.mb),this.V.start())):(mh(this.j,this.m,s,null),$h(this,s)),4==c&&Yh(this),this.i&&!this.J&&(4==c?mf(this.l,this):(this.i=!1,Hh(this)))}else(function(e){const t={};e=(e.g&&2<=$d(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(nc(e[r]))continue;var n=Jc(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Eh(12)):(this.s=0,Eh(13)),Yh(this),Qh(this)}}}catch(c){}},Lu.mb=function(){if(this.g){var e=$d(this.g),t=this.g.ja();this.o<t.length&&(Gh(this),zh(this,e,t),this.i&&4!=e&&Hh(this))}},Lu.cancel=function(){this.J=!0,Yh(this)},Lu.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(_h(),Eh(17)),Yh(this),this.s=2,Qh(this)):Kh(this,this.Y-e)};var Jh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zh){this.h=e.h,td(this,e.j),this.s=e.s,this.g=e.g,nd(this,e.m),this.l=e.l;var t=e.i,n=new pd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),rd(this,n),this.o=e.o}else e&&(t=String(e).match(Jh))?(this.h=!1,td(this,t[1]||"",!0),this.s=sd(t[2]||""),this.g=sd(t[3]||"",!0),nd(this,t[4]),this.l=sd(t[5]||"",!0),rd(this,t[6]||"",!0),this.o=sd(t[7]||"")):(this.h=!1,this.i=new pd(null,this.h))}function ed(e){return new Zh(e)}function td(e,t,n){e.j=n?sd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rd(e,t,n){t instanceof pd?(e.i=t,function(e,t){t&&!e.j&&(md(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gd(this,t),vd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ad(t,dd)),e.i=new pd(t,e.h))}function id(e,t,n){e.i.set(t,n)}function od(e){return id(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ad(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ld),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ld(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ad(t,ud,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ad(t,ud,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ad(n,"/"==n.charAt(0)?hd:cd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ad(n,fd)),e.join("")};var ud=/[#\/\?@]/g,cd=/[#\?:]/g,hd=/[#\?]/g,dd=/[#\?@]/g,fd=/#/g;function pd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function md(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gd(e,t){md(e),t=bd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yd(e,t){return md(e),t=bd(e,t),e.g.has(t)}function vd(e,t,n){gd(e,t),0<n.length&&(e.i=null,e.g.set(bd(e,t),Ju(n)),e.h+=n.length)}function bd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Lu=pd.prototype).add=function(e,t){md(this),this.i=null,e=bd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Lu.forEach=function(e,t){md(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Lu.ta=function(){md(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Lu.Z=function(e){md(this);let t=[];if("string"===typeof e)yd(this,e)&&(t=t.concat(this.g.get(bd(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Lu.set=function(e,t){return md(this),this.i=null,yd(this,e=bd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Lu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Lu.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var _d=class{constructor(e,t){this.g=e,this.map=t}};function wd(e){this.l=e||Ed,Bu.PerformanceNavigationTiming?e=0<(e=Bu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Bu.g&&Bu.g.Ka&&Bu.g.Ka()&&Bu.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ed=10;function Sd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cd(e){return e.h?1:e.g?e.g.size:0}function kd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xd(e,t){e.g?e.g.add(t):e.h=t}function Td(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Id(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ju(e.i)}wd.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Dd,Nd=class{stringify(e){return Bu.JSON.stringify(e,void 0)}parse(e){return Bu.JSON.parse(e,void 0)}};function Od(){this.g=new Nd}function Pd(e,t,n){const r=n||"";try{Xh(e,(function(e,n){let i=e;qu(e)&&(i=Qc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(_N){throw t.push(r+"type="+encodeURIComponent("_badmap")),_N}}function Ad(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Rd(e){this.l=e.ec||null,this.j=e.ob||!1}function Md(e,t){Hc.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ld,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yu(Rd,Th),Rd.prototype.g=function(){return new Md(this.l,this.j)},Rd.prototype.i=(Dd={},function(){return Dd}),Yu(Md,Hc);var Ld=0;function Fd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function jd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ud(e)}function Ud(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Lu=Md.prototype).open=function(e,t){if(this.readyState!=Ld)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ud(this)},Lu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Bu).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Lu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jd(this)),this.readyState=Ld},Lu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ud(this)),this.g&&(this.readyState=3,Ud(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Bu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Lu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jd(this):Ud(this),3==this.readyState&&Fd(this)}},Lu.Za=function(e){this.g&&(this.response=this.responseText=e,jd(this))},Lu.Ya=function(e){this.g&&(this.response=e,jd(this))},Lu.ka=function(){this.g&&jd(this)},Lu.setRequestHeader=function(e,t){this.v.append(e,t)},Lu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Lu.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bd=Bu.JSON.parse;function Vd(e){Hc.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qd,this.L=this.M=!1}Yu(Vd,Hc);var qd="",zd=/^https?$/i,Wd=["POST","PUT"];function Hd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Kd(e),Qd(e)}function Kd(e){e.F||(e.F=!0,Kc(e,"complete"),Kc(e,"error"))}function Gd(e){if(e.h&&"undefined"!=typeof Uu&&(!e.C[1]||4!=$d(e)||2!=e.da()))if(e.v&&4==$d(e))ah(e.La,0,e);else if(Kc(e,"readystatechange"),4==$d(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Jh)[1]||null;!i&&Bu.self&&Bu.self.location&&(i=Bu.self.location.protocol.slice(0,-1)),r=!zd.test(i?i.toLowerCase():"")}n=r}if(n)Kc(e,"complete"),Kc(e,"success");else{e.m=6;try{var o=2<$d(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Kd(e)}}finally{Qd(e)}}}function Qd(e,t){if(e.g){Yd(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Kc(e,"ready");try{n.onreadystatechange=r}catch(_N){}}}function Yd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Bu.clearTimeout(e.A),e.A=null)}function $d(e){return e.g?e.g.readyState:0}function Xd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(op){return null}}function Jd(e){let t="";return xc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):id(e,t,n))}function ef(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tf(e){this.Ga=0,this.j=[],this.l=new ph,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ef("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ef("baseRetryDelayMs",5e3,e),this.hb=ef("retryDelaySeedMs",1e4,e),this.eb=ef("forwardChannelMaxRetries",2,e),this.xa=ef("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new wd(e&&e.concurrentRequestLimit),this.Ja=new Od,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nf(e){if(of(e),3==e.H){var t=e.W++,n=ed(e.I);if(id(n,"SID",e.K),id(n,"RID",t),id(n,"TYPE","terminate"),lf(e,n),(t=new Mh(e,e.l,t)).L=2,t.A=od(ed(n)),n=!1,Bu.navigator&&Bu.navigator.sendBeacon)try{n=Bu.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Bu.Image&&((new Image).src=t.A,n=!0),n||(t.g=_f(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Hh(t)}vf(e)}function rf(e){e.g&&(df(e),e.g.cancel(),e.g=null)}function of(e){rf(e),e.u&&(Bu.clearTimeout(e.u),e.u=null),pf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Bu.clearTimeout(e.m),e.m=null)}function sf(e){if(!Sd(e.i)&&!e.m){e.m=!0;var t=e.Na;eh||rh(),th||(eh(),th=!0),nh.add(t,e),e.C=0}}function af(e,t){var n;n=t?t.m:e.W++;const r=ed(e.I);id(r,"SID",e.K),id(r,"RID",n),id(r,"AID",e.V),lf(e,r),e.o&&e.s&&Zd(r,e.o,e.s),n=new Mh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=uf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),xd(e.i,n),Bh(n,r,t)}function lf(e,t){e.na&&xc(e.na,(function(e,n){id(t,n,e)})),e.h&&Xh({},(function(e,n){id(t,n,e)}))}function uf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gu(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Pd(a,e,"req"+n+"_")}catch(wm){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function cf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;eh||rh(),th||(eh(),th=!0),nh.add(t,e),e.A=0}}function hf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ch(Gu(e.Ma,e),gf(e,e.A)),e.A++,!0)}function df(e){null!=e.B&&(Bu.clearTimeout(e.B),e.B=null)}function ff(e){e.g=new Mh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ed(e.wa);id(t,"RID","rpc"),id(t,"SID",e.K),id(t,"AID",e.V),id(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&id(t,"TO",e.qa),id(t,"TYPE","xmlhttp"),lf(e,t),e.o&&e.s&&Zd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=od(ed(t)),n.u=null,n.S=!0,Vh(n,e)}function pf(e){null!=e.v&&(Bu.clearTimeout(e.v),e.v=null)}function mf(e,t){var n=null;if(e.g==t){pf(e),df(e),e.g=null;var r=2}else{if(!kd(e.i,t))return;n=t.F,Td(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Kc(r=vh(),new Sh(r,n)),sf(e)}else cf(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Cd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ch(Gu(e.Na,e,t),gf(e,e.C)),e.C++,!0))}(e,t)||2==r&&hf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:yf(e,5);break;case 4:yf(e,10);break;case 3:yf(e,6);break;default:yf(e,2)}}function gf(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function yf(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Gu(e.pb,e);n||(n=new Zh("//www.google.com/images/cleardot.gif"),Bu.location&&"http"==Bu.location.protocol||td(n,"https"),od(n)),function(e,t){const n=new ph;if(Bu.Image){const r=new Image;r.onload=Qu(Ad,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Qu(Ad,n,r,"TestLoadImage: error",!1,t),r.onabort=Qu(Ad,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Qu(Ad,n,r,"TestLoadImage: timeout",!1,t),Bu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Eh(2);e.H=0,e.h&&e.h.za(t),vf(e),of(e)}function vf(e){if(e.H=0,e.ma=[],e.h){const t=Id(e.i);0==t.length&&0==e.j.length||(Zu(e.ma,t),Zu(e.ma,e.j),e.i.i.length=0,Ju(e.j),e.j.length=0),e.h.ya()}}function bf(e,t,n){var r=n instanceof Zh?ed(n):new Zh(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nd(r,r.m);else{var i=Bu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Zh(null);r&&td(o,r),t&&(o.g=t),i&&nd(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&id(r,n,t),id(r,"VER",e.ra),lf(e,r),r}function _f(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Vd(new Rd({ob:n})):new Vd(e.va)).Oa(e.J),t}function wf(){}function Ef(){if(uc&&!(10<=Number(bc)))throw Error("Environmental error: no available transport.")}function Sf(e,t){Hc.call(this),this.g=new tf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!nc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xf(this)}function Cf(e){Ph.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kf(){Ah.call(this),this.status=1}function xf(e){this.g=e}function Tf(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function If(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Df(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Lu=Vd.prototype).Oa=function(e){this.M=e},Lu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nh.g(),this.C=this.u?Ih(this.u):Ih(Nh),this.g.onreadystatechange=Gu(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Hd(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Bu.FormData&&e instanceof Bu.FormData,!(0<=Xu(Wd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yd(this),0<this.B&&((this.L=function(e){return uc&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gu(this.ua,this)):this.A=ah(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Hd(this,o)}},Lu.ua=function(){"undefined"!=typeof Uu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kc(this,"timeout"),this.abort(8))},Lu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kc(this,"complete"),Kc(this,"abort"),Qd(this))},Lu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qd(this,!0)),Vd.$.N.call(this)},Lu.La=function(){this.s||(this.G||this.v||this.l?Gd(this):this.kb())},Lu.kb=function(){Gd(this)},Lu.isActive=function(){return!!this.g},Lu.da=function(){try{return 2<$d(this)?this.g.status:-1}catch(Dd){return-1}},Lu.ja=function(){try{return this.g?this.g.responseText:""}catch(Dd){return""}},Lu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bd(t)}},Lu.Ia=function(){return this.m},Lu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Lu=tf.prototype).ra=8,Lu.H=1,Lu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Mh(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Tc(o),Dc(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=uf(this,i,t),id(n=ed(this.I),"RID",e),id(n,"CVER",22),this.F&&id(n,"X-HTTP-Session-Id",this.F),lf(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Jd(o)))+"&"+t:this.o&&Zd(n,this.o,o)),xd(this.i,i),this.bb&&id(n,"TYPE","init"),this.P?(id(n,"$req",t),id(n,"SID","null"),i.aa=!0,Bh(i,n,null)):Bh(i,n,t),this.H=2}}else 3==this.H&&(e?af(this,e):0==this.j.length||Sd(this.i)||af(this))},Lu.Ma=function(){if(this.u=null,ff(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ch(Gu(this.jb,this),e)}},Lu.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Eh(10),rf(this),ff(this))},Lu.ib=function(){null!=this.v&&(this.v=null,rf(this),hf(this),Eh(19))},Lu.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Eh(2)):(this.l.info("Failed to ping google.com"),Eh(1))},Lu.isActive=function(){return!!this.h&&this.h.isActive(this)},(Lu=wf.prototype).Ba=function(){},Lu.Aa=function(){},Lu.za=function(){},Lu.ya=function(){},Lu.isActive=function(){return!0},Lu.Va=function(){},Ef.prototype.g=function(e,t){return new Sf(e,t)},Yu(Sf,Hc),Sf.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Eh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bf(e,null,e.Y),sf(e)},Sf.prototype.close=function(){nf(this.g)},Sf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Qc(e),e=n);t.j.push(new _d(t.fb++,e)),3==t.H&&sf(t)},Sf.prototype.N=function(){this.g.h=null,delete this.j,nf(this.g),delete this.g,Sf.$.N.call(this)},Yu(Cf,Ph),Yu(kf,Ah),Yu(xf,wf),xf.prototype.Ba=function(){Kc(this.g,"a")},xf.prototype.Aa=function(e){Kc(this.g,new Cf(e))},xf.prototype.za=function(e){Kc(this.g,new kf)},xf.prototype.ya=function(){Kc(this.g,"b")},Yu(Tf,(function(){this.blockSize=-1})),Tf.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Tf.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)If(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){If(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){If(this,r),i=0;break}}this.h=i,this.i+=t},Tf.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Nf={};function Of(e){return-128<=e&&128>e?function(e,t){var n=Nf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Df([0|e],0>e?-1:0)})):new Df([0|e],0>e?-1:0)}function Pf(e){if(isNaN(e)||!isFinite(e))return Rf;if(0>e)return Uf(Pf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Af;return new Df(t,0)}var Af=4294967296,Rf=Of(0),Mf=Of(1),Lf=Of(16777216);function Ff(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function jf(e){return-1==e.h}function Uf(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Df(n,~e.h).add(Mf)}function Bf(e,t){return e.add(Uf(t))}function Vf(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function qf(e,t){this.g=e,this.h=t}function zf(e,t){if(Ff(t))throw Error("division by zero");if(Ff(e))return new qf(Rf,Rf);if(jf(e))return t=zf(Uf(e),t),new qf(Uf(t.g),Uf(t.h));if(jf(t))return t=zf(e,Uf(t)),new qf(Uf(t.g),t.h);if(30<e.g.length){if(jf(e)||jf(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Mf,r=t;0>=r.X(e);)n=Wf(n),r=Wf(r);var i=Hf(n,1),o=Hf(r,1);for(r=Hf(r,2),n=Hf(n,2);!Ff(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Hf(r,1),n=Hf(n,1)}return t=Bf(e,i.R(t)),new qf(i,t)}for(i=Rf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Pf(n)).R(t);jf(s)||0<s.X(e);)s=(o=Pf(n-=r)).R(t);Ff(o)&&(o=Mf),i=i.add(o),e=Bf(e,s)}return new qf(i,e)}function Wf(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Df(n,e.h)}function Hf(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Df(i,e.h)}(Lu=Df.prototype).ea=function(){if(jf(this))return-Uf(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Af+r)*t,t*=Af}return e},Lu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ff(this))return"0";if(jf(this))return"-"+Uf(this).toString(e);for(var t=Pf(Math.pow(e,6)),n=this,r="";;){var i=zf(n,t).g,o=((0<(n=Bf(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ff(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Lu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Lu.X=function(e){return jf(e=Bf(this,e))?-1:Ff(e)?0:1},Lu.abs=function(){return jf(this)?Uf(this):this},Lu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Df(n,-2147483648&n[n.length-1]?-1:0)},Lu.R=function(e){if(Ff(this)||Ff(e))return Rf;if(jf(this))return jf(e)?Uf(this).R(Uf(e)):Uf(Uf(this).R(e));if(jf(e))return Uf(this.R(Uf(e)));if(0>this.X(Lf)&&0>e.X(Lf))return Pf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Vf(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Vf(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Vf(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Vf(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Df(n,0)},Lu.gb=function(e){return zf(this,e).h},Lu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Df(n,this.h&e.h)},Lu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Df(n,this.h|e.h)},Lu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Df(n,this.h^e.h)},Ef.prototype.createWebChannel=Ef.prototype.g,Sf.prototype.send=Sf.prototype.u,Sf.prototype.open=Sf.prototype.m,Sf.prototype.close=Sf.prototype.close,kh.NO_ERROR=0,kh.TIMEOUT=8,kh.HTTP_ERROR=6,xh.COMPLETE="complete",Dh.EventType=Oh,Oh.OPEN="a",Oh.CLOSE="b",Oh.ERROR="c",Oh.MESSAGE="d",Hc.prototype.listen=Hc.prototype.O,Vd.prototype.listenOnce=Vd.prototype.P,Vd.prototype.getLastError=Vd.prototype.Sa,Vd.prototype.getLastErrorCode=Vd.prototype.Ia,Vd.prototype.getStatus=Vd.prototype.da,Vd.prototype.getResponseJson=Vd.prototype.Wa,Vd.prototype.getResponseText=Vd.prototype.ja,Vd.prototype.send=Vd.prototype.ha,Vd.prototype.setWithCredentials=Vd.prototype.Oa,Tf.prototype.digest=Tf.prototype.l,Tf.prototype.reset=Tf.prototype.reset,Tf.prototype.update=Tf.prototype.j,Df.prototype.add=Df.prototype.add,Df.prototype.multiply=Df.prototype.R,Df.prototype.modulo=Df.prototype.gb,Df.prototype.compare=Df.prototype.X,Df.prototype.toNumber=Df.prototype.ea,Df.prototype.toString=Df.prototype.toString,Df.prototype.getBits=Df.prototype.D,Df.fromNumber=Pf,Df.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Uf(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Pf(Math.pow(n,8)),i=Rf,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Pf(Math.pow(n,s)),i=i.R(s).add(Pf(a))):i=(i=i.R(r)).add(Pf(a))}return i};var Kf=ju.createWebChannelTransport=function(){return new Ef},Gf=ju.getStatEventTarget=function(){return vh()},Qf=ju.ErrorCode=kh,Yf=ju.EventType=xh,$f=ju.Event=gh,Xf=ju.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jf=(ju.FetchXmlHttpFactory=Rd,ju.WebChannel=Dh),Zf=ju.XhrIo=Vd,ep=ju.Md5=Tf,tp=ju.Integer=Df;const np="@firebase/firestore";class rp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rp.UNAUTHENTICATED=new rp(null),rp.GOOGLE_CREDENTIALS=new rp("google-credentials-uid"),rp.FIRST_PARTY=new rp("first-party-uid"),rp.MOCK_USER=new rp("mock-user");let ip="10.9.0";const op=new oe("@firebase/firestore");function sp(){return op.logLevel}function ap(e){if(op.logLevel<=ee.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cp);op.debug("Firestore (".concat(ip,"): ").concat(e),...i)}}function lp(e){if(op.logLevel<=ee.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cp);op.error("Firestore (".concat(ip,"): ").concat(e),...i)}}function up(e){if(op.logLevel<=ee.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cp);op.warn("Firestore (".concat(ip,"): ").concat(e),...i)}}function cp(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function hp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ip,") INTERNAL ASSERTION FAILED: ")+e;throw lp(t),new Error(t)}function dp(e,t){e||hp()}function fp(e,t){return e}const pp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mp extends T{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class gp{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class vp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rp.UNAUTHENTICATED)))}shutdown(){}}class bp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _p{constructor(e){this.t=e,this.currentUser=rp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new gp;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gp,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ap("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ap("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gp)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ap("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(dp("string"==typeof t.accessToken),new yp(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dp(null===e||"string"==typeof e),new rp(e)}}class wp{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=rp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ep{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new wp(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(rp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cp{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ap("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ap("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ap("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ap("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(dp("string"==typeof e.token),this.R=e.token,new Sp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kp(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=kp(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Tp(e,t){return e<t?-1:e>t?1:0}function Ip(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Dp(e){return e+"\0"}class Np{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mp(pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mp(pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mp(pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mp(pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Np.fromMillis(Date.now())}static fromDate(e){return Np.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Np(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tp(this.nanoseconds,e.nanoseconds):Tp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Op{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Op(e)}static min(){return new Op(new Np(0,0))}static max(){return new Op(new Np(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pp{constructor(e,t,n){void 0===t?t=0:t>e.length&&hp(),void 0===n?n=e.length-t:n>e.length-t&&hp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Pp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ap extends Pp{construct(e,t,n){return new Ap(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new mp(pp.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ap(e)}static emptyPath(){return new Ap([])}}const Rp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mp extends Pp{construct(e,t,n){return new Mp(e,t,n)}static isValidIdentifier(e){return Rp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mp.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mp(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new mp(pp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new mp(pp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new mp(pp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new mp(pp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mp(t)}static emptyPath(){return new Mp([])}}class Lp{constructor(e){this.path=e}static fromPath(e){return new Lp(Ap.fromString(e))}static fromName(e){return new Lp(Ap.fromString(e).popFirst(5))}static empty(){return new Lp(Ap.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ap.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ap.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lp(new Ap(e.slice()))}}class Fp{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function jp(e){return e.fields.find((e=>2===e.kind))}function Up(e){return e.fields.filter((e=>2!==e.kind))}Fp.UNKNOWN_ID=-1;class Bp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vp(0,Wp.min())}}function qp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Op.fromTimestamp(1e9===r?new Np(n+1,0):new Np(n,r));return new Wp(i,Lp.empty(),t)}function zp(e){return new Wp(e.readTime,e.key,-1)}class Wp{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Wp(Op.min(),Lp.empty(),-1)}static max(){return new Wp(Op.max(),Lp.empty(),-1)}}function Hp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Lp.comparator(e.documentKey,t.documentKey),0!==n?n:Tp(e.largestBatchId,t.largestBatchId))}const Kp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Qp(e){if(e.code!==pp.FAILED_PRECONDITION||e.message!==Kp)throw e;ap("LocalStore","Unexpectedly lost primary lease")}class Yp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yp(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Yp?t:Yp.resolve(t)}catch(e){return Yp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Yp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Yp.reject(t)}static resolve(e){return new Yp(((t,n)=>{t(e)}))}static reject(e){return new Yp(((t,n)=>{n(e)}))}static waitFor(e){return new Yp(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Yp.resolve(!1);for(const n of e)t=t.next((e=>e?Yp.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Yp(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Yp(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class $p{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new gp,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Zp(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=im(t.target.error);this.V.reject(new Zp(e,n))}}static open(e,t,n,r){try{return new $p(t,e.transaction(r,n))}catch(e){throw new Zp(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ap("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tm(t)}}class Xp{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Xp.S(E())&&lp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ap("SimpleDb","Removing database:",e),nm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!x())return!1;if(Xp.C())return!0;const e=E(),t=Xp.S(e),n=0<t&&t<10,r=Xp.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(ap("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Zp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new mp(pp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new mp(pp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Zp(e,r))},r.onupgradeneeded=e=>{ap("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{ap("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=$p.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Yp.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(ap("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Jp{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return nm(this.k.delete())}}class Zp extends mp{constructor(e,t){super(pp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function em(e){return"IndexedDbTransactionError"===e.name}class tm{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ap("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ap("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nm(n)}add(e){return ap("SimpleDb","ADD",this.store.name,e,e),nm(this.store.add(e))}get(e){return nm(this.store.get(e)).next((t=>(void 0===t&&(t=null),ap("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ap("SimpleDb","DELETE",this.store.name,e),nm(this.store.delete(e))}count(){return ap("SimpleDb","COUNT",this.store.name),nm(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Yp(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Yp(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){ap("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Yp(((n,r)=>{t.onerror=e=>{const t=im(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Yp(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Jp(i),s=t(i.primaryKey,i.value,o);if(s instanceof Yp){const e=s.catch((e=>(o.done(),Yp.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Yp.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nm(e){return new Yp(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=im(e.target.error);n(t)}}))}let rm=!1;function im(e){const t=Xp.S(E());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new mp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return rm||(rm=!0,setTimeout((()=>{throw e}),0)),e}}return e}class om{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){ap("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{ap("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){em(e)?ap("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Qp(e)}await this.ee(6e4)}))}}class sm{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Yp.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return ap("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(ap("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=zp(t);Hp(r,n)>0&&(n=r)})),new Wp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class am{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function lm(e){return null==e}function um(e){return 0===e&&1/e==-1/0}function cm(e){return"number"==typeof e&&Number.isInteger(e)&&!um(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function hm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=fm(t)),t=dm(e.get(n),t);return fm(t)}function dm(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function fm(e){return e+"\x01\x01"}function pm(e){const t=e.length;if(dp(t>=2),2===t)return dp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ap.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&hp(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:hp()}o=t+2}return new Ap(r)}am._e=-1;const mm=["userId","batchId"];function gm(e,t){return[e,hm(t)]}function ym(e,t,n){return[e,hm(t),n]}const vm={},bm=["prefixPath","collectionGroup","readTime","documentId"],_m=["prefixPath","collectionGroup","documentId"],wm=["collectionGroup","readTime","prefixPath","documentId"],Em=["canonicalId","targetId"],Sm=["targetId","path"],Cm=["path","targetId"],km=["collectionId","parent"],xm=["indexId","uid"],Tm=["uid","sequenceNumber"],Im=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dm=["indexId","uid","orderedDocumentKey"],Nm=["userId","collectionPath","documentId"],Om=["userId","collectionPath","largestBatchId"],Pm=["userId","collectionGroup","largestBatchId"],Am=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rm=[...Am,"documentOverlays"],Mm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lm=Mm,Fm=[...Lm,"indexConfiguration","indexState","indexEntries"];class jm extends Gp{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Um(e,t){const n=fp(e);return Xp.M(n.ae,t)}function Bm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zm{constructor(e,t){this.comparator=e,this.root=t||Hm.EMPTY}insert(e,t){return new zm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hm.BLACK,null,null))}remove(e){return new zm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wm(this.root,e,this.comparator,!0)}}class Wm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Hm.RED,this.left=null!=r?r:Hm.EMPTY,this.right=null!=i?i:Hm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Hm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hp();if(this.right.isRed())throw hp();const e=this.left.check();if(e!==this.right.check())throw hp();return e+(this.isRed()?0:1)}}Hm.EMPTY=null,Hm.RED=!0,Hm.BLACK=!1,Hm.EMPTY=new class{constructor(){this.size=0}get key(){throw hp()}get value(){throw hp()}get color(){throw hp()}get left(){throw hp()}get right(){throw hp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Hm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Km{constructor(e){this.comparator=e,this.data=new zm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gm(this.data.getIterator())}getIteratorFrom(e){return new Gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Km))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Km(this.comparator);return t.data=e,t}}class Gm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qm(e){return e.hasNext()?e.getNext():void 0}class Ym{constructor(e){this.fields=e,e.sort(Mp.comparator)}static empty(){return new Ym([])}unionWith(e){let t=new Km(Mp.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ym(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ip(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $m extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $m("Invalid base64 string: "+e):e}}(e);return new Xm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xm.EMPTY_BYTE_STRING=new Xm("");const Jm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zm(e){if(dp(!!e),"string"==typeof e){let t=0;const n=Jm.exec(e);if(dp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:eg(e.seconds),nanos:eg(e.nanos)}}function eg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tg(e){return"string"==typeof e?Xm.fromBase64String(e):Xm.fromUint8Array(e)}function ng(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rg(e){const t=e.mapValue.fields.__previous_value__;return ng(t)?rg(t):t}function ig(e){const t=Zm(e.mapValue.fields.__local_write_time__.timestampValue);return new Np(t.seconds,t.nanos)}class og{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class sg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sg&&e.projectId===this.projectId&&e.database===this.database}}const ag={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lg={nullValue:"NULL_VALUE"};function ug(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ng(e)?4:Sg(e)?9007199254740991:10:hp()}function cg(e,t){if(e===t)return!0;const n=ug(e);if(n!==ug(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ig(e).isEqual(ig(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zm(e.timestampValue),r=Zm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tg(e.bytesValue).isEqual(tg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return eg(e.geoPointValue.latitude)===eg(t.geoPointValue.latitude)&&eg(e.geoPointValue.longitude)===eg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return eg(e.integerValue)===eg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=eg(e.doubleValue),r=eg(t.doubleValue);return n===r?um(n)===um(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ip(e.arrayValue.values||[],t.arrayValue.values||[],cg);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bm(n)!==Bm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cg(n[i],r[i])))return!1;return!0}(e,t);default:return hp()}}function hg(e,t){return void 0!==(e.values||[]).find((e=>cg(e,t)))}function dg(e,t){if(e===t)return 0;const n=ug(e),r=ug(t);if(n!==r)return Tp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=eg(e.integerValue||e.doubleValue),r=eg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fg(e.timestampValue,t.timestampValue);case 4:return fg(ig(e),ig(t));case 5:return Tp(e.stringValue,t.stringValue);case 6:return function(e,t){const n=tg(e),r=tg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Tp(n[i],r[i]);if(0!==e)return e}return Tp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Tp(eg(e.latitude),eg(t.latitude));return 0!==n?n:Tp(eg(e.longitude),eg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=dg(n[i],r[i]);if(e)return e}return Tp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ag.mapValue&&t===ag.mapValue)return 0;if(e===ag.mapValue)return 1;if(t===ag.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Tp(r[s],o[s]);if(0!==e)return e;const t=dg(n[r[s]],i[o[s]]);if(0!==t)return t}return Tp(r.length,o.length)}(e.mapValue,t.mapValue);default:throw hp()}}function fg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Tp(e,t);const n=Zm(e),r=Zm(t),i=Tp(n.seconds,r.seconds);return 0!==i?i:Tp(n.nanos,r.nanos)}function pg(e){return mg(e)}function mg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return tg(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Lp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(mg(e.fields[i]));return n+"}"}(e.mapValue):hp()}function gg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yg(e){return!!e&&"integerValue"in e}function vg(e){return!!e&&"arrayValue"in e}function bg(e){return!!e&&"nullValue"in e}function _g(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wg(e){return!!e&&"mapValue"in e}function Eg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Eg(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cg(e){return"nullValue"in e?lg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?gg(sg.empty(),Lp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:hp()}function kg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?gg(sg.empty(),Lp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ag:hp()}function xg(e,t){const n=dg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Tg(e,t){const n=dg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ig{constructor(e){this.value=e}static empty(){return new Ig({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eg(t)}setAll(e){let t=Mp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Eg(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ig(Eg(this.value))}}function Dg(e){const t=[];return Vm(e.fields,((e,n)=>{const r=new Mp([e]);if(wg(n)){const e=Dg(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ym(t)}class Ng{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ng(e,0,Op.min(),Op.min(),Op.min(),Ig.empty(),0)}static newFoundDocument(e,t,n,r){return new Ng(e,1,t,Op.min(),n,r,0)}static newNoDocument(e,t){return new Ng(e,2,t,Op.min(),Op.min(),Ig.empty(),0)}static newUnknownDocument(e,t){return new Ng(e,3,t,Op.min(),Op.min(),Ig.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Op.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ig.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ig.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Op.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ng&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ng(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Og{constructor(e,t){this.position=e,this.inclusive=t}}function Pg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Lp.comparator(Lp.fromName(s.referenceValue),n.key):dg(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ag(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cg(e.position[n],t.position[n]))return!1;return!0}class Rg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Mg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Lg{}class Fg extends Lg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Gg(e,t,n):"array-contains"===t?new Xg(e,n):"in"===t?new Jg(e,n):"not-in"===t?new Zg(e,n):"array-contains-any"===t?new ey(e,n):new Fg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Qg(e,n):new Yg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dg(t,this.value)):null!==t&&ug(this.value)===ug(t)&&this.matchesComparison(dg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jg extends Lg{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new jg(e,t)}matches(e){return Ug(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ug(e){return"and"===e.op}function Bg(e){return"or"===e.op}function Vg(e){return qg(e)&&Ug(e)}function qg(e){for(const t of e.filters)if(t instanceof jg)return!1;return!0}function zg(e){if(e instanceof Fg)return e.field.canonicalString()+e.op.toString()+pg(e.value);if(Vg(e))return e.filters.map((e=>zg(e))).join(",");{const t=e.filters.map((e=>zg(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Wg(e,t){return e instanceof Fg?function(e,t){return t instanceof Fg&&e.op===t.op&&e.field.isEqual(t.field)&&cg(e.value,t.value)}(e,t):e instanceof jg?function(e,t){return t instanceof jg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Wg(n,t.filters[r])),!0)}(e,t):void hp()}function Hg(e,t){const n=e.filters.concat(t);return jg.create(n,e.op)}function Kg(e){return e instanceof Fg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pg(e.value))}(e):e instanceof jg?function(e){return e.op.toString()+" {"+e.getFilters().map(Kg).join(" ,")+"}"}(e):"Filter"}class Gg extends Fg{constructor(e,t,n){super(e,t,n),this.key=Lp.fromName(n.referenceValue)}matches(e){const t=Lp.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qg extends Fg{constructor(e,t){super(e,"in",t),this.keys=$g("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Yg extends Fg{constructor(e,t){super(e,"not-in",t),this.keys=$g("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $g(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Lp.fromName(e.referenceValue)))}class Xg extends Fg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vg(t)&&hg(t.arrayValue,this.value)}}class Jg extends Fg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hg(this.value.arrayValue,t)}}class Zg extends Fg{constructor(e,t){super(e,"not-in",t)}matches(e){if(hg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hg(this.value.arrayValue,t)}}class ey extends Fg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>hg(this.value.arrayValue,e)))}}class ty{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function ny(e){return new ty(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ry(e){const t=fp(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>zg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),lm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>pg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>pg(e))).join(",")),t.ce=e}return t.ce}function iy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Mg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Wg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ag(e.startAt,t.startAt)&&Ag(e.endAt,t.endAt)}function oy(e){return Lp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function sy(e,t){return e.filters.filter((e=>e instanceof Fg&&e.field.isEqual(t)))}function ay(e,t,n){let r=lg,i=!0;for(const o of sy(e,t)){let e=lg,t=!0;switch(o.op){case"<":case"<=":e=Cg(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=lg}xg({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];xg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ly(e,t,n){let r=ag,i=!0;for(const o of sy(e,t)){let e=ag,t=!0;switch(o.op){case">=":case">":e=kg(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=ag}Tg({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Tg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class uy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cy(e,t,n,r,i,o,s,a){return new uy(e,t,n,r,i,o,s,a)}function hy(e){return new uy(e)}function dy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fy(e){return null!==e.collectionGroup}function py(e){const t=fp(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Km(Mp.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Rg(r,n))})),e.has(Mp.keyField().canonicalString())||t.le.push(new Rg(Mp.keyField(),n))}return t.le}function my(e){const t=fp(e);return t.he||(t.he=gy(t,py(e))),t.he}function gy(e,t){if("F"===e.limitType)return ny(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Rg(e.field,t)}));const n=e.endAt?new Og(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Og(e.startAt.position,e.startAt.inclusive):null;return ny(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yy(e,t){const n=e.filters.concat([t]);return new uy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vy(e,t,n){return new uy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function by(e,t){return iy(my(e),my(t))&&e.limitType===t.limitType}function _y(e){return"".concat(ry(my(e)),"|lt:").concat(e.limitType)}function wy(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Kg(e))).join(", "),"]")),lm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>pg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>pg(e))).join(",")),"Target(".concat(t,")")}(my(e)),"; limitType=").concat(e.limitType,")")}function Ey(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of py(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Pg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,py(e),t))&&!(e.endAt&&!function(e,t,n){const r=Pg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,py(e),t))}(e,t)}function Sy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cy(e){return(t,n)=>{let r=!1;for(const i of py(e)){const e=ky(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ky(e,t,n){const r=e.field.isKeyField()?Lp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dg(r,i):hp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hp()}}class xy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return qm(this.inner)}size(){return this.innerSize}}const Ty=new zm(Lp.comparator);function Iy(){return Ty}const Dy=new zm(Lp.comparator);function Ny(){let e=Dy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Oy(e){let t=Dy;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Py(){return Ry()}function Ay(){return Ry()}function Ry(){return new xy((e=>e.toString()),((e,t)=>e.isEqual(t)))}const My=new zm(Lp.comparator),Ly=new Km(Lp.comparator);function Fy(){let e=Ly;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const jy=new Km(Tp);function Uy(){return jy}function By(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(t)?"-0":t}}function Vy(e){return{integerValue:""+e}}function qy(e,t){return cm(t)?Vy(t):By(e,t)}class zy{constructor(){this._=void 0}}function Wy(e,t,n){return e instanceof Gy?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ng(t)&&(t=rg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qy?Yy(e,t):e instanceof $y?Xy(e,t):function(e,t){const n=Ky(e,t),r=Zy(n)+Zy(e.Ie);return yg(n)&&yg(e.Ie)?Vy(r):By(e.serializer,r)}(e,t)}function Hy(e,t,n){return e instanceof Qy?Yy(e,t):e instanceof $y?Xy(e,t):n}function Ky(e,t){return e instanceof Jy?function(e){return yg(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Gy extends zy{}class Qy extends zy{constructor(e){super(),this.elements=e}}function Yy(e,t){const n=ev(t);for(const r of e.elements)n.some((e=>cg(e,r)))||n.push(r);return{arrayValue:{values:n}}}class $y extends zy{constructor(e){super(),this.elements=e}}function Xy(e,t){let n=ev(t);for(const r of e.elements)n=n.filter((e=>!cg(e,r)));return{arrayValue:{values:n}}}class Jy extends zy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Zy(e){return eg(e.integerValue||e.doubleValue)}function ev(e){return vg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class tv{constructor(e,t){this.field=e,this.transform=t}}class nv{constructor(e,t){this.version=e,this.transformResults=t}}class rv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rv}static exists(e){return new rv(void 0,e)}static updateTime(e){return new rv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ov{}function sv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gv(e.key,rv.none()):new hv(e.key,e.data,rv.none());{const n=e.data,r=Ig.empty();let i=new Km(Mp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new dv(e.key,r,new Ym(i.toArray()),rv.none())}}function av(e,t,n){e instanceof hv?function(e,t,n){const r=e.value.clone(),i=pv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dv?function(e,t,n){if(!iv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=pv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lv(e,t,n,r){return e instanceof hv?function(e,t,n,r){if(!iv(e.precondition,t))return n;const i=e.value.clone(),o=mv(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dv?function(e,t,n,r){if(!iv(e.precondition,t))return n;const i=mv(e.fieldTransforms,r,t),o=t.data;return o.setAll(fv(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return iv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ky(r.transform,e||null);null!=i&&(null===n&&(n=Ig.empty()),n.set(r.field,i))}return n||null}function cv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ip(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qy&&t instanceof Qy||e instanceof $y&&t instanceof $y?Ip(e.elements,t.elements,cg):e instanceof Jy&&t instanceof Jy?cg(e.Ie,t.Ie):e instanceof Gy&&t instanceof Gy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hv extends ov{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dv extends ov{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fv(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function pv(e,t,n){const r=new Map;dp(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Hy(s,a,n[i]))}return r}function mv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Wy(e,o,t))}return r}class gv extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yv extends ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&av(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=lv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=lv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ay();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=sv(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Op.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fy())}isEqual(e){return this.batchId===e.batchId&&Ip(this.mutations,e.mutations,((e,t)=>cv(e,t)))&&Ip(this.baseMutations,e.baseMutations,((e,t)=>cv(e,t)))}}class bv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){dp(e.mutations.length===n.length);let r=My;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new bv(e,t,n,r)}}class _v{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class wv{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ev,Sv;function Cv(e){switch(e){default:return hp();case pp.CANCELLED:case pp.UNKNOWN:case pp.DEADLINE_EXCEEDED:case pp.RESOURCE_EXHAUSTED:case pp.INTERNAL:case pp.UNAVAILABLE:case pp.UNAUTHENTICATED:return!1;case pp.INVALID_ARGUMENT:case pp.NOT_FOUND:case pp.ALREADY_EXISTS:case pp.PERMISSION_DENIED:case pp.FAILED_PRECONDITION:case pp.ABORTED:case pp.OUT_OF_RANGE:case pp.UNIMPLEMENTED:case pp.DATA_LOSS:return!0}}function kv(e){if(void 0===e)return lp("GRPC error has no .code"),pp.UNKNOWN;switch(e){case Ev.OK:return pp.OK;case Ev.CANCELLED:return pp.CANCELLED;case Ev.UNKNOWN:return pp.UNKNOWN;case Ev.DEADLINE_EXCEEDED:return pp.DEADLINE_EXCEEDED;case Ev.RESOURCE_EXHAUSTED:return pp.RESOURCE_EXHAUSTED;case Ev.INTERNAL:return pp.INTERNAL;case Ev.UNAVAILABLE:return pp.UNAVAILABLE;case Ev.UNAUTHENTICATED:return pp.UNAUTHENTICATED;case Ev.INVALID_ARGUMENT:return pp.INVALID_ARGUMENT;case Ev.NOT_FOUND:return pp.NOT_FOUND;case Ev.ALREADY_EXISTS:return pp.ALREADY_EXISTS;case Ev.PERMISSION_DENIED:return pp.PERMISSION_DENIED;case Ev.FAILED_PRECONDITION:return pp.FAILED_PRECONDITION;case Ev.ABORTED:return pp.ABORTED;case Ev.OUT_OF_RANGE:return pp.OUT_OF_RANGE;case Ev.UNIMPLEMENTED:return pp.UNIMPLEMENTED;case Ev.DATA_LOSS:return pp.DATA_LOSS;default:return hp()}}(Sv=Ev||(Ev={}))[Sv.OK=0]="OK",Sv[Sv.CANCELLED=1]="CANCELLED",Sv[Sv.UNKNOWN=2]="UNKNOWN",Sv[Sv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sv[Sv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sv[Sv.NOT_FOUND=5]="NOT_FOUND",Sv[Sv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sv[Sv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sv[Sv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sv[Sv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sv[Sv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sv[Sv.ABORTED=10]="ABORTED",Sv[Sv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sv[Sv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sv[Sv.INTERNAL=13]="INTERNAL",Sv[Sv.UNAVAILABLE=14]="UNAVAILABLE",Sv[Sv.DATA_LOSS=15]="DATA_LOSS";let xv=null;function Tv(){return new TextEncoder}const Iv=new tp([4294967295,4294967295],0);function Dv(e){const t=Tv().encode(e),n=new ep;return n.update(t),new Uint8Array(n.digest())}function Nv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new tp([n,r],0),new tp([i,o],0)]}class Ov{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pv("Invalid padding: ".concat(t));if(n<0)throw new Pv("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Pv("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Pv("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=tp.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(tp.fromNumber(n)));return 1===r.compare(Iv)&&(r=new tp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Dv(e),[n,r]=Nv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ov(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Dv(e),[n,r]=Nv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Av{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Rv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Av(Op.min(),r,new zm(Tp),Iy(),Fy())}}class Rv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Rv(n,t,Fy(),Fy(),Fy())}}class Mv{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Lv{constructor(e,t){this.targetId=e,this.fe=t}}class Fv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jv{constructor(){this.ge=0,this.pe=Vv(),this.ye=Xm.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Fy(),t=Fy(),n=Fy();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hp()}})),new Rv(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Vv()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,dp(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Uv{constructor(e){this.Be=e,this.ke=new Map,this.qe=Iy(),this.Qe=Bv(),this.Ke=new zm(Tp)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:hp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(oy(i))if(0===n){const e=new Lp(i.path);this.We(t,e,Ng.newNoDocument(e,Op.min()))}else dp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==xv||xv.tt(function(e,t,n,r,i){var o,s,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=tg(n).toUint8Array()}catch(e){if(e instanceof $m)return up("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ov(o,r,i)}catch(e){return up(e instanceof Pv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&oy(i.target)){const t=new Lp(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Ng.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Fy();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Av(e,t,this.Ke,this.qe,n);return this.qe=Iy(),this.Qe=Bv(),this.Ke=new zm(Tp),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new jv,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Km(Tp),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ap("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new jv),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Bv(){return new zm(Lp.comparator)}function Vv(){return new zm(Lp.comparator)}const qv={asc:"ASCENDING",desc:"DESCENDING"},zv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wv={and:"AND",or:"OR"};class Hv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kv(e,t){return e.useProto3Json||lm(t)?t:{value:t}}function Gv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Yv(e,t){return Gv(e,t.toTimestamp())}function $v(e){return dp(!!e),Op.fromTimestamp(function(e){const t=Zm(e);return new Np(t.seconds,t.nanos)}(e))}function Xv(e,t){return Jv(e,t).canonicalString()}function Jv(e,t){const n=function(e){return new Ap(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Zv(e){const t=Ap.fromString(e);return dp(wb(t)),t}function eb(e,t){return Xv(e.databaseId,t.path)}function tb(e,t){const n=Zv(t);if(n.get(1)!==e.databaseId.projectId)throw new mp(pp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mp(pp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lp(ob(n))}function nb(e,t){return Xv(e.databaseId,t)}function rb(e){const t=Zv(e);return 4===t.length?Ap.emptyPath():ob(t)}function ib(e){return new Ap(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ob(e){return dp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sb(e,t,n){return{name:eb(e,t),fields:n.value.mapValue.fields}}function ab(e,t,n){const r=tb(e,t.name),i=$v(t.updateTime),o=t.createTime?$v(t.createTime):Op.min(),s=new Ig({mapValue:{fields:t.fields}}),a=Ng.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function lb(e,t){let n;if(t instanceof hv)n={update:sb(e,t.key,t.value)};else if(t instanceof gv)n={delete:eb(e,t.key)};else if(t instanceof dv)n={update:sb(e,t.key,t.data),updateMask:_b(t.fieldMask)};else{if(!(t instanceof yv))return hp();n={verify:eb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Gy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $y)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jy)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw hp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hp()}(e,t.precondition)),n}function ub(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?rv.updateTime($v(e.updateTime)):void 0!==e.exists?rv.exists(e.exists):rv.none()}(t.currentDocument):rv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)dp("REQUEST_TIME"===t.setToServerValue),n=new Gy;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Qy(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new $y(e)}else"increment"in t?n=new Jy(e,t.increment):hp();const r=Mp.fromServerFormat(t.fieldPath);return new tv(r,n)}(e,t))):[];if(t.update){t.update.name;const i=tb(e,t.update.name),o=new Ig({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ym(t.map((e=>Mp.fromServerFormat(e))))}(t.updateMask);return new dv(i,o,e,n,r)}return new hv(i,o,n,r)}if(t.delete){const r=tb(e,t.delete);return new gv(r,n)}if(t.verify){const r=tb(e,t.verify);return new yv(r,n)}return hp()}function cb(e,t){return{documents:[nb(e,t.path)]}}function hb(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nb(e,i);const o=function(e){if(0!==e.length)return bb(jg.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:yb(e.field),direction:pb(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Kv(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function db(e){let t=rb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=fb(e);return t instanceof jg&&Vg(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Rg(vb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,lm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Og(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Og(n,t)}(n.endAt)),cy(t,i,s,o,a,"F",l,u)}function fb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vb(e.unaryFilter.field);return Fg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vb(e.unaryFilter.field);return Fg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vb(e.unaryFilter.field);return Fg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vb(e.unaryFilter.field);return Fg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hp()}}(e):void 0!==e.fieldFilter?function(e){return Fg.create(vb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return jg.create(e.compositeFilter.filters.map((e=>fb(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hp()}}(e.compositeFilter.op))}(e):hp()}function pb(e){return qv[e]}function mb(e){return zv[e]}function gb(e){return Wv[e]}function yb(e){return{fieldPath:e.canonicalString()}}function vb(e){return Mp.fromServerFormat(e.fieldPath)}function bb(e){return e instanceof Fg?function(e){if("=="===e.op){if(_g(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NAN"}};if(bg(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_g(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NOT_NAN"}};if(bg(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yb(e.field),op:mb(e.op),value:e.value}}}(e):e instanceof jg?function(e){const t=e.getFilters().map((e=>bb(e)));return 1===t.length?t[0]:{compositeFilter:{op:gb(e.op),filters:t}}}(e):hp()}function _b(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function wb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Eb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Op.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Op.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Eb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Eb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sb{constructor(e){this.ct=e}}function Cb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:kb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:eb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gv(e,t.version.toTimestamp()),createTime:Gv(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xb(t.version)};else{if(!t.isUnknownDocument())return hp();r.unknownDocument={path:n.path.toArray(),version:xb(t.version)}}return r}function kb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Tb(e){const t=new Np(e.seconds,e.nanoseconds);return Op.fromTimestamp(t)}function Ib(e,t){const n=(t.baseMutations||[]).map((t=>ub(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>ub(e.ct,t))),i=Np.fromMillis(t.localWriteTimeMs);return new vv(t.batchId,i,n,r)}function Db(e){const t=Tb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Tb(e.lastLimboFreeSnapshotVersion):Op.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return dp(1===e.documents.length),my(hy(rb(e.documents[0])))}(e.query):function(e){return my(db(e))}(e.query),new Eb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Xm.fromBase64String(e.resumeToken))}function Nb(e,t){const n=xb(t.snapshotVersion),r=xb(t.lastLimboFreeSnapshotVersion);let i;i=oy(t.target)?cb(e.ct,t.target):hb(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ry(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ob(e){const t=db({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vy(t,t.limit,"L"):t}function Pb(e,t){return new _v(t.largestBatchId,ub(e.ct,t.overlayMutation))}function Ab(e,t){const n=t.path.lastSegment();return[e,hm(t.path.popLast()),n]}function Rb(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:xb(r.readTime),documentKey:hm(r.documentKey.path),largestBatchId:r.largestBatchId}}class Mb{getBundleMetadata(e,t){return Lb(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Tb(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Lb(e).put(function(e){return{bundleId:e.id,createTime:xb($v(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Fb(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Ob(e.bundledQuery),readTime:Tb(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Fb(e).put(function(e){return{name:e.name,readTime:xb($v(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Lb(e){return Um(e,"bundles")}function Fb(e){return Um(e,"namedQueries")}class jb{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new jb(e,n)}getOverlay(e,t){return Ub(e).get(Ab(this.userId,t)).next((e=>e?Pb(this.serializer,e):null))}getOverlays(e,t){const n=Py();return Yp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new _v(t,i);r.push(this.ht(e,o))})),Yp.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(hm(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Ub(e).H("collectionPathOverlayIndex",r))})),Yp.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Py(),i=hm(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ub(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Pb(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Py();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ub(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Pb(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Ub(e).put(function(e,t,n){const[r,i,o]=Ab(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:lb(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Ub(e){return Um(e,"documentOverlays")}class Bb{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(eg(e.integerValue));else if("doubleValue"in e){const n=eg(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),um(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(tg(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Sg(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):hp()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Lp.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Vb(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qb(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Vb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Bb.bt=new Bb;class zb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=qb(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=qb(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Wb{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Hb{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Kb{constructor(){this.Gt=new zb,this.zt=new Wb(this.Gt),this.jt=new Hb(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Gb{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Gb(this.indexId,this.documentKey,this.arrayValue,n)}}function Qb(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Yb(e.arrayValue,t.arrayValue),0!==n?n:(n=Yb(e.directionalValue,t.directionalValue),0!==n?n:Lp.comparator(e.documentKey,t.documentKey)))}function Yb(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class $b{constructor(e){this.Yt=new Km(((e,t)=>Mp.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(dp(e.collectionGroup===this.collectionId),this.en)return!1;const t=jp(e);if(void 0!==t&&!this.nn(t))return!1;const n=Up(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new Km(Mp.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Bp(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Bp(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Bp(n.field,"asc"===n.dir?0:1)));return new Fp(Fp.UNKNOWN_ID,this.collectionId,t,Vp.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Xb(e){var t,n;if(dp(e instanceof Fg||e instanceof jg),e instanceof Fg){if(e instanceof Jg){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Fg.create(e.field,"==",t))))||[];return jg.create(r,"or")}return e}const r=e.filters.map((e=>Xb(e)));return jg.create(r,e.op)}function Jb(e){if(0===e.getFilters().length)return[];const t=n_(Xb(e));return dp(t_(t)),Zb(t)||e_(t)?[t]:t.getFilters()}function Zb(e){return e instanceof Fg}function e_(e){return e instanceof jg&&Vg(e)}function t_(e){return Zb(e)||e_(e)||function(e){if(e instanceof jg&&Bg(e)){for(const t of e.getFilters())if(!Zb(t)&&!e_(t))return!1;return!0}return!1}(e)}function n_(e){if(dp(e instanceof Fg||e instanceof jg),e instanceof Fg)return e;if(1===e.filters.length)return n_(e.filters[0]);const t=e.filters.map((e=>n_(e)));let n=jg.create(t,e.op);return n=o_(n),t_(n)?n:(dp(n instanceof jg),dp(Ug(n)),dp(n.filters.length>1),n.filters.reduce(((e,t)=>r_(e,t))))}function r_(e,t){let n;return dp(e instanceof Fg||e instanceof jg),dp(t instanceof Fg||t instanceof jg),n=e instanceof Fg?t instanceof Fg?function(e,t){return jg.create([e,t],"and")}(e,t):i_(e,t):t instanceof Fg?i_(t,e):function(e,t){if(dp(e.filters.length>0&&t.filters.length>0),Ug(e)&&Ug(t))return Hg(e,t.getFilters());const n=Bg(e)?e:t,r=Bg(e)?t:e,i=n.filters.map((e=>r_(e,r)));return jg.create(i,"or")}(e,t),o_(n)}function i_(e,t){if(Ug(t))return Hg(t,e.getFilters());{const n=t.filters.map((t=>r_(e,t)));return jg.create(n,"or")}}function o_(e){if(dp(e instanceof Fg||e instanceof jg),e instanceof Fg)return e;const t=e.getFilters();if(1===t.length)return o_(t[0]);if(qg(e))return e;const n=t.map((e=>o_(e))),r=[];return n.forEach((t=>{t instanceof Fg?r.push(t):t instanceof jg&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:jg.create(r,e.op)}class s_{constructor(){this._n=new a_}addToCollectionParentIndex(e,t){return this._n.add(t),Yp.resolve()}getCollectionParents(e,t){return Yp.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Yp.resolve()}deleteFieldIndex(e,t){return Yp.resolve()}deleteAllFieldIndexes(e){return Yp.resolve()}createTargetIndexes(e,t){return Yp.resolve()}getDocumentsMatchingTarget(e,t){return Yp.resolve(null)}getIndexType(e,t){return Yp.resolve(0)}getFieldIndexes(e,t){return Yp.resolve([])}getNextCollectionGroupToUpdate(e){return Yp.resolve(null)}getMinOffset(e,t){return Yp.resolve(Wp.min())}getMinOffsetFromCollectionGroup(e,t){return Yp.resolve(Wp.min())}updateCollectionGroup(e,t,n){return Yp.resolve()}updateIndexEntries(e,t){return Yp.resolve()}}class a_{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Km(Ap.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Km(Ap.comparator)).toArray()}}const l_=new Uint8Array(0);class u_{constructor(e,t){this.databaseId=t,this.an=new a_,this.un=new xy((e=>ry(e)),((e,t)=>iy(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:hm(r)};return c_(e).put(i)}return Yp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Dp(t),""],!1,!0);return c_(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(pm(r.parent))}return n}))}addFieldIndex(e,t){const n=d_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=f_(e);return i.next((e=>{n.put(Rb(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=d_(e),r=f_(e),i=h_(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=d_(e),n=h_(e),r=f_(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Yp.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new $b(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=h_(e);let r=!0;const i=new Map;return Yp.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Fy();const r=[];return Yp.forEach(i,((i,o)=>{ap("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(ry(t)));const s=function(e,t){const n=jp(t);if(void 0===n)return null;for(const r of sy(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Up(t))for(const t of sy(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Up(t)){const t=0===i.kind?ay(e,i.fieldPath,e.startAt):ly(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Og(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Up(t)){const t=0===i.kind?ly(e,i.fieldPath,e.endAt):ay(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Og(n,r)}(o,i),c=this.hn(i,o,l),h=this.hn(i,o,u),d=this.Pn(i,o,a),f=this.In(i.indexId,s,c,l.inclusive,h,u.inclusive,d);return Yp.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Lp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Yp.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Jb(jg.create(e.filters,"and")).map((t=>ny(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Tn(t[c/l]):l_,h=this.En(e,a,n[c%l],r),d=this.dn(e,a,i[c%l],o),f=s.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}En(e,t,n,r){const i=new Gb(e,Lp.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Gb(e,Lp.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new $b(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Yp.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Km(Mp.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Kb;for(const r of Up(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Bb.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Kb;return Bb.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Kb;return Bb.bt.Pt(gg(this.databaseId,t),n.Ht(function(e){const t=Up(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Kb);let i=0;for(const o of Up(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&vg(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);Bb.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Kb;n.seed(e.Wt()),Bb.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Fg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=d_(e),r=f_(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Yp.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Vp(t.sequenceNumber,new Wp(Tb(t.readTime),new Lp(pm(t.documentKey)),t.largestBatchId)):Vp.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Bp(Mp.fromServerFormat(t),n)}));return new Fp(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Tp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=d_(e),i=f_(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Yp.forEach(t,(t=>i.put(Rb(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Yp.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Yp.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Yp.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Yp.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return h_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return h_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=h_(e);let i=new Km(Qb);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Gb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Km(Qb);const r=this.An(t,e);if(null==r)return n;const i=jp(t);if(null!=i){const o=e.data.field(i.fieldPath);if(vg(o))for(const i of o.arrayValue.values||[])n=n.add(new Gb(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Gb(t.indexId,e.key,l_,r));return n}wn(e,t,n,r,i){ap("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Qm(o),l=Qm(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Qm(s)):t?(i(a),a=Qm(o)):(a=Qm(o),l=Qm(s))}}(r,i,Qb,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),Yp.waitFor(o)}gn(e){let t=1;return f_(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Qb(e,t))).filter(((e,t,n)=>!t||0!==Qb(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Qb(o,e),i=Qb(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,l_,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,l_,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Qb(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(p_)}getMinOffset(e,t){return Yp.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||hp())))).next(p_)}}function c_(e){return Um(e,"collectionParents")}function h_(e){return Um(e,"indexEntries")}function d_(e){return Um(e,"indexConfiguration")}function f_(e){return Um(e,"indexState")}function p_(e){dp(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Hp(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wp(t.readTime,t.documentKey,n)}const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class g_{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new g_(e,g_.DEFAULT_COLLECTION_PERCENTILE,g_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function y_(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{dp(1===a)})));const u=[];for(const c of n.mutations){const e=ym(t,c.key.path,n.batchId);o.push(i.delete(e)),u.push(c.key)}return Yp.waitFor(o).next((()=>u))}function v_(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw hp();t=e.noDocument}return JSON.stringify(t).length}g_.DEFAULT_COLLECTION_PERCENTILE=10,g_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,g_.DEFAULT=new g_(41943040,g_.DEFAULT_COLLECTION_PERCENTILE,g_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),g_.DISABLED=new g_(-1,0,0);class b_{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){dp(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new b_(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return w_(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=E_(e),o=w_(e);return o.add({}).next((s=>{dp("number"==typeof s);const a=new vv(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>lb(e.ct,t))),i=n.mutations.map((t=>lb(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new Km(((e,t)=>Tp(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ym(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),u.push(o.put(l)),u.push(i.put(t,vm))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[s]=a.keys()})),Yp.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return w_(e).get(t).next((e=>e?(dp(e.userId===this.userId),Ib(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Yp.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return w_(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(dp(t.batchId>=n),i=Ib(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return w_(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return w_(e).W("userMutationsIndex",t).next((e=>e.map((e=>Ib(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=gm(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return E_(e).Y({range:r},((n,r,o)=>{const[s,a,l]=n,u=pm(a);if(s===this.userId&&t.path.isEqual(u))return w_(e).get(l).next((e=>{if(!e)throw hp();dp(e.userId===this.userId),i.push(Ib(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Km(Tp);const r=[];return t.forEach((t=>{const i=gm(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=E_(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,l=pm(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Yp.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=gm(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Km(Tp);return E_(e).Y({range:o},((e,t,i)=>{const[o,a,l]=e,u=pm(a);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(w_(e).get(t).next((e=>{if(null===e)throw hp();dp(e.userId===this.userId),n.push(Ib(this.serializer,e))})))})),Yp.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return y_(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Yp.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Yp.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return E_(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=pm(e[1]);r.push(t)}else n.done()})).next((()=>{dp(0===r.length)}))}))}containsKey(e,t){return __(e,this.userId,t)}xn(e){return S_(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function __(e,t,n){const r=gm(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return E_(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function w_(e){return Um(e,"mutations")}function E_(e){return Um(e,"documentMutations")}function S_(e){return Um(e,"mutationQueues")}class C_{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new C_(0)}static Ln(){return new C_(-1)}}class k_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new C_(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Op.fromTimestamp(new Np(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>x_(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(dp(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return x_(e).Y(((o,s)=>{const a=Db(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Yp.waitFor(i))).next((()=>r))}forEachTarget(e,t){return x_(e).Y(((e,n)=>{const r=Db(n);t(r)}))}Bn(e){return T_(e).get("targetGlobalKey").next((e=>(dp(null!==e),e)))}kn(e,t){return T_(e).put("targetGlobalKey",t)}qn(e,t){return x_(e).put(Nb(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=ry(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return x_(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Db(n);iy(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=I_(e);return t.forEach((t=>{const o=hm(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Yp.waitFor(r)}removeMatchingKeys(e,t,n){const r=I_(e);return Yp.forEach(t,(t=>{const i=hm(t.path);return Yp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=I_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=I_(e);let i=Fy();return r.Y({range:n,J:!0},((e,t,n)=>{const r=pm(e[1]),o=new Lp(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=hm(t.path),r=IDBKeyRange.bound([n],[Dp(n)],!1,!0);let i=0;return I_(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return x_(e).get(t).next((e=>e?Db(e):null))}}function x_(e){return Um(e,"targets")}function T_(e){return Um(e,"targetGlobal")}function I_(e){return Um(e,"targetDocuments")}function D_(e,t){let[n,r]=e,[i,o]=t;const s=Tp(n,i);return 0===s?Tp(r,o):s}class N_{constructor(e){this.Kn=e,this.buffer=new Km(D_),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();D_(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class O_{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){ap("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){em(e)?ap("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Qp(e)}await this.zn(3e5)}))}}class P_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Yp.resolve(am._e);const n=new N_(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ap("LruGarbageCollector","Garbage collection skipped; disabled"),Yp.resolve(m_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ap("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),m_):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,s,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ap("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),sp()<=ee.DEBUG&&ap("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),Yp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function A_(e,t){return new P_(e,t)}class R_{constructor(e,t){this.db=e,this.garbageCollector=A_(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return M_(e,n)}removeReference(e,t,n){return M_(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return M_(e,t)}er(e,t){return function(e,t){let n=!1;return S_(e).Z((r=>__(e,r,t).next((e=>(e&&(n=!0),Yp.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Op.min()),I_(e).delete(function(e){return[0,hm(e.path)]}(o)))))}));r.push(t)}})).next((()=>Yp.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return M_(e,t)}Xn(e,t){const n=I_(e);let r,i=am._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==am._e&&t(new Lp(pm(r)),i),i=l,r=a):i=am._e})).next((()=>{i!==am._e&&t(new Lp(pm(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function M_(e,t){return I_(e).put(function(e,t){return{targetId:0,path:hm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class L_{constructor(){this.changes=new xy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ng.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Yp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return V_(e).put(n)}removeEntry(e,t,n){return V_(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],kb(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Ng.newInvalidDocument(t);return V_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(q_(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Ng.newInvalidDocument(t)};return V_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(q_(t))},((e,r)=>{n={document:this.nr(t,r),size:v_(r)}})).next((()=>n))}getEntries(e,t){let n=Iy();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Iy(),r=new zm(Lp.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,v_(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Yp.resolve();let r=new Km(W_);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(q_(r.first()),q_(r.last())),o=r.getIterator();let s=o.getNext();return V_(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Lp.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&W_(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(q_(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),kb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return V_(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Iy();for(const i of e){const e=this.nr(Lp.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Ey(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Iy();const o=z_(t,n),s=z_(t,Wp.max());return V_(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr(Lp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new U_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return B_(e).get("remoteDocumentGlobalKey").next((e=>(dp(!!e),e)))}tr(e,t){return B_(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=ab(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Lp.fromSegments(t.noDocument.path),r=Tb(t.noDocument.readTime);n=Ng.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return hp();{const e=Lp.fromSegments(t.unknownDocument.path),r=Tb(t.unknownDocument.version);n=Ng.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Np(e[0],e[1]);return Op.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Op.min()))return e}return Ng.newInvalidDocument(e)}}function j_(e){return new F_(e)}class U_ extends L_{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new xy((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Km(((e,t)=>Tp(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Cb(this.ar.serializer,o);r=r.add(i.path.popLast());const l=v_(a);n+=l-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Cb(this.ar.serializer,o.convertToNoDocument(Op.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Yp.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function B_(e){return Um(e,"remoteDocumentGlobal")}function V_(e){return Um(e,"remoteDocumentsV14")}function q_(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function z_(e,t){const n=t.documentKey.path.toArray();return[e,kb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function W_(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Tp(n[o],r[o]),i)return i;return i=Tp(n.length,r.length),i||(i=Tp(n[n.length-2],r[r.length-2]),i||Tp(n[n.length-1],r[r.length-1]))}class H_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class K_{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&lv(n.mutation,e,Ym.empty(),Np.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Fy()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fy();const r=Py();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ny();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Py();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Fy())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Iy();const o=Ry(),s=Ry();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof dv)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),lv(s.mutation,t,s.mutation.getFieldMask(),Np.now())):o.set(t.key,Ym.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new H_(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ry();let r=new zm(((e,t)=>e-t)),i=Fy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ym.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Fy()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=Ay();l.forEach((e=>{if(!i.has(e)){const r=sv(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Yp.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Lp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Yp.resolve(Py());let s=-1,a=i;return o.next((t=>Yp.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Yp.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Fy()))).next((e=>({batchId:s,changes:Oy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Lp(t)).next((e=>{let t=Ny();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Ny();return this.indexManager.getCollectionParents(e,i).next((s=>Yp.forEach(s,(s=>{const a=function(e,t){return new uy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ng.newInvalidDocument(r)))}));let n=Ny();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&lv(o.mutation,r,Ym.empty(),Np.now()),Ey(t,r)&&(n=n.insert(e,r))})),n}))}}class G_{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Yp.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:$v(e.createTime)}}(t)),Yp.resolve()}getNamedQuery(e,t){return Yp.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Ob(e.bundledQuery),readTime:$v(e.readTime)}}(t)),Yp.resolve()}}class Q_{constructor(){this.overlays=new zm(Lp.comparator),this.hr=new Map}getOverlay(e,t){return Yp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Py();return Yp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Yp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Yp.resolve()}getOverlaysForCollection(e,t,n){const r=Py(),i=t.length+1,o=new Lp(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Yp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new zm(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Py(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Py(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Yp.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _v(t,n));let i=this.hr.get(t);void 0===i&&(i=Fy(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Y_{constructor(){this.Pr=new Km($_.Ir),this.Tr=new Km($_.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new $_(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new $_(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Lp(new Ap([])),n=new $_(t,e),r=new $_(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Lp(new Ap([])),n=new $_(t,e),r=new $_(t,e+1);let i=Fy();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new $_(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $_{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Lp.comparator(e.key,t.key)||Tp(e.pr,t.pr)}static Er(e,t){return Tp(e.pr,t.pr)||Lp.comparator(e.key,t.key)}}class X_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Km($_.Ir)}checkEmpty(e){return Yp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vv(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new $_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Yp.resolve(o)}lookupMutationBatch(e,t){return Yp.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Yp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Yp.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Yp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $_(t,0),r=new $_(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Yp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Km(Tp);return t.forEach((e=>{const t=new $_(e,0),r=new $_(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Yp.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Lp.isDocumentKey(i)||(i=i.child(""));const o=new $_(new Lp(i),0);let s=new Km(Tp);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),Yp.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){dp(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Yp.forEach(t.mutations,(r=>{const i=new $_(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new $_(t,0),r=this.wr.firstAfterOrEqual(n);return Yp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Yp.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class J_{constructor(e){this.vr=e,this.docs=new zm(Lp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Yp.resolve(n?n.document.mutableCopy():Ng.newInvalidDocument(t))}getEntries(e,t){let n=Iy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ng.newInvalidDocument(e))})),Yp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Iy();const o=t.path,s=new Lp(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Hp(zp(s),n)<=0||(r.has(s.key)||Ey(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Yp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hp()}Fr(e,t){return Yp.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Z_(this)}getSize(e){return Yp.resolve(this.size)}}class Z_ extends L_{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Yp.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class ew{constructor(e){this.persistence=e,this.Mr=new xy((e=>ry(e)),iy),this.lastRemoteSnapshotVersion=Op.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Y_,this.targetCount=0,this.Lr=C_.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Yp.resolve()}getLastRemoteSnapshotVersion(e){return Yp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yp.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Yp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Yp.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new C_(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Yp.resolve()}updateTargetData(e,t){return this.qn(t),Yp.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Yp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Yp.waitFor(i).next((()=>r))}getTargetCount(e){return Yp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Yp.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Yp.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Yp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Yp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Yp.resolve(n)}containsKey(e,t){return Yp.resolve(this.Nr.containsKey(t))}}class tw{constructor(e,t){this.Br={},this.overlays={},this.kr=new am(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ew(this),this.indexManager=new s_,this.remoteDocumentCache=function(e){return new J_(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Sb(t),this.$r=new G_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new X_(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){ap("MemoryPersistence","Starting transaction:",e);const r=new nw(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Yp.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class nw extends Gp{constructor(e){super(),this.currentSequenceNumber=e}}class rw{constructor(e){this.persistence=e,this.zr=new Y_,this.jr=null}static Hr(e){return new rw(e)}get Jr(){if(this.jr)return this.jr;throw hp()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Yp.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Yp.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Yp.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yp.forEach(this.Jr,(n=>{const r=Lp.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Op.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Yp.or([()=>Yp.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class iw{constructor(e){this.serializer=e}N(e,t,n,r){const i=new $p("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mm,{unique:!0}),e.createObjectStore("documentMutations")}(e),ow(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Yp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ow(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Op.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mm,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Yp.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Nm});t.createIndex("collectionPathOverlayIndex",Om,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Pm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:bm});t.createIndex("documentKeyIndex",_m),t.createIndex("collectionGroupIndex",wm)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:xm}).createIndex("sequenceNumberIndex",Tm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Im}).createIndex("documentKeyIndex",Dm,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=v_(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Yp.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Yp.forEach(n,(n=>{dp(n.userId===t.userId);const r=Ib(this.serializer,n);return y_(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Ap(n),s=function(e){return[0,hm(e)]}(o);r.push(t.get(s).next((n=>n?Yp.resolve():(n=>t.put({targetId:0,path:hm(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Yp.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:km});const n=t.store("collectionParents"),r=new a_,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:hm(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Ap(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=pm(r);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Db(n),i=Nb(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Lp(Ap.fromString(e.document.name).popFirst(5)):e.noDocument?Lp.fromSegments(e.noDocument.path):e.unknownDocument?Lp.fromSegments(e.unknownDocument.path):hp()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Yp.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=j_(this.serializer),i=new tw(rw.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Fy();Ib(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Yp.forEach(n,((e,n)=>{const o=new rp(n),s=jb.lt(this.serializer,o),a=i.getIndexManager(o),l=b_.lt(o,this.serializer,a,i.referenceDelegate);return new K_(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new jm(t,am._e),e).next()}))}))}}function ow(e){e.createObjectStore("targetDocuments",{keyPath:Sm}).createIndex("documentTargetsIndex",Cm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Em,{unique:!0}),e.createObjectStore("targetGlobal")}const sw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aw{constructor(e,t,n,r,i,o,s,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=l,this.ai=u,this.ui=c,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!aw.D())throw new mp(pp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R_(this,r),this.Ti=t+"main",this.serializer=new Sb(a),this.Ei=new Xp(this.Ti,this.ui,new iw(this.serializer)),this.Qr=new k_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=j_(this.serializer),this.$r=new Mb,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&lp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new mp(pp.FAILED_PRECONDITION,sw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new am(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>uw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(em(e))return ap("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ap("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return lw(e).get("owner").next((e=>Yp.resolve(this.Si(e))))}bi(e){return uw(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Um(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Yp.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Yp.resolve(!0):lw(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new mp(pp.FAILED_PRECONDITION,sw);return!1}}return!(!this.networkEnabled||!this.inForeground)||uw(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ap("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new jm(e,am._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>uw(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return b_.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u_(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return jb.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){ap("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Fm:14===e?Lm:13===e?Mm:12===e?Rm:11===e?Am:void hp()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new jm(r,this.kr?this.kr.next():am._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw lp("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new mp(pp.FAILED_PRECONDITION,Kp);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return lw(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new mp(pp.FAILED_PRECONDITION,sw)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lw(e).put("owner",t)}static D(){return Xp.D()}yi(e){const t=lw(e);return t.get("owner").next((e=>this.Si(e)?(ap("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Yp.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(lp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;k()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return ap("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return lp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(_N){lp("Failed to set zombie client id.",_N)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(_N){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function lw(e){return Um(e,"owner")}function uw(e){return Um(e,"clientMetadata")}function cw(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class hw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Fy(),r=Fy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hw(e,t.fromCache,n,r)}}class dw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fw{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=k()?8:Xp.v(E())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new dw;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(sp()<=ee.DEBUG&&ap("QueryEngine","SDK will not create cache indexes for query:",wy(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Yp.resolve()):(sp()<=ee.DEBUG&&ap("QueryEngine","Query:",wy(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(sp()<=ee.DEBUG&&ap("QueryEngine","The SDK decides to create cache indexes for query:",wy(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,my(t))):Yp.resolve())}ji(e,t){if(dy(t))return Yp.resolve(null);let n=my(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=vy(t,null,"F"),n=my(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Fy(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,vy(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return dy(t)||r.isEqual(Op.min())?Yp.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?Yp.resolve(null):(sp()<=ee.DEBUG&&ap("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wy(t)),this.es(e,o,t,qp(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Km(Cy(e));return t.forEach(((t,r)=>{Ey(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return sp()<=ee.DEBUG&&ap("QueryEngine","Using full collection scan to execute query:",wy(t)),this.zi.getDocumentsMatchingQuery(e,t,Wp.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class pw{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new zm(Tp),this.rs=new xy((e=>ry(e)),iy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function mw(e,t,n,r){return new pw(e,t,n,r)}async function gw(e,t){const n=fp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Fy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function yw(e){const t=fp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function vw(e,t,n){let r=Fy(),i=Fy();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Iy();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Op.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ap("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function bw(e,t){const n=fp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _w(e,t){const n=fp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Yp.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Eb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function ww(e,t,n){const r=fp(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!em(e))throw e;ap("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Ew(e,t,n){const r=fp(e);let i=Op.min(),o=Fy();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=fp(e),i=r.rs.get(n);return void 0!==i?Yp.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,my(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Op.min(),n?o:Fy()))).next((e=>(kw(r,Sy(t),e),{documents:e,hs:o})))))}function Sw(e,t){const n=fp(e),r=fp(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Cw(e,t){const n=fp(e),r=n.ss.get(t)||Op.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,qp(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(kw(n,t,e),e)))}function kw(e,t,n){let r=e.ss.get(t)||Op.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function xw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fy();const r=await _w(e,my(Ob(t.bundledQuery))),i=fp(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=$v(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(Xm.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Tw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Iw(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Dw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Nw{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new mp(r.error.code,r.error.message))),o?new Nw(e,t,r.state,i):(lp("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ow{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new mp(n.error.code,n.error.message))),i?new Ow(e,n.state,r):(lp("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Uy();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=cm(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Pw(e,i):(lp("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Aw{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Aw(t.clientId,t.onlineState):(lp("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Rw{constructor(){this.activeTargetIds=Uy()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mw{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new zm(Tp),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Tw(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Rw),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Tw(this.persistenceKey,n));if(e){const t=Pw.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Dw(this.persistenceKey,e));if(n){const r=Ow.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dw(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ap("SharedClientState","READ",e,t),t}setItem(e,t){ap("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ap("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(ap("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void lp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=am._e;if(null!=e)try{const n=JSON.parse(e);dp("number"==typeof n),t=n}catch(e){lp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==am._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new Nw(this.currentUser,e,t,n),i=Iw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=Iw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Dw(this.persistenceKey,e),i=new Ow(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Pw.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Nw.Es(new rp(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Ow.Es(r,t)}xs(e){return Aw.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);ap("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Uy();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Lw{constructor(){this.no=new Rw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Rw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fw{io(e){}shutdown(){}}class jw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ap("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ap("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uw=null;function Bw(){return null===Uw?Uw=268435456+Math.round(2147483648*Math.random()):Uw++,"0x"+Uw.toString(16)}const Vw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qw{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const zw="WebChannelConnection";class Ww extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=Bw(),s=this.bo(e,t.toUriEncodedString());ap("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(ap("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw up("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ip,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Vw[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Bw();return new Promise(((o,s)=>{const a=new Zf;a.setWithCredentials(!0),a.listenOnce(Yf.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Qf.NO_ERROR:const t=a.getResponseJson();ap(zw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Qf.TIMEOUT:ap(zw,"RPC '".concat(e,"' ").concat(i," timed out")),s(new mp(pp.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const n=a.getStatus();if(ap(zw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(pp).indexOf(t)>=0?t:pp.UNKNOWN}(t.status);s(new mp(e,t.message))}else s(new mp(pp.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new mp(pp.UNAVAILABLE,"Connection failed."));break;default:hp()}}finally{ap(zw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ap(zw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Bw(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kf(),s=Gf(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");ap(zw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=o.createWebChannel(u,a);let h=!1,d=!1;const f=new qw({lo:t=>{d?ap(zw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ap(zw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),ap(zw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Jf.EventType.OPEN,(()=>{d||ap(zw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Jf.EventType.CLOSE,(()=>{d||(d=!0,ap(zw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(c,Jf.EventType.ERROR,(t=>{d||(d=!0,up(zw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new mp(pp.UNAVAILABLE,"The operation could not be completed")))})),p(c,Jf.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];dp(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ap(zw,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Ev[e];if(void 0!==t)return kv(t)}(t),i=s.message;void 0===n&&(n=pp.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new mp(n,i)),c.close()}else ap(zw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,$f.STAT_EVENT,(t=>{t.stat===Xf.PROXY?ap(zw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xf.NOPROXY&&ap(zw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Hw(){return"undefined"!=typeof window?window:null}function Kw(){return"undefined"!=typeof document?document:null}function Gw(e){return new Hv(e,!0)}class Qw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&ap("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Yw{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Qw(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===pp.RESOURCE_EXHAUSTED?(lp(t.toString()),lp("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===pp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new mp(pp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return ap("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(ap("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $w extends Yw{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(dp(void 0===t||"string"==typeof t),Xm.fromBase64String(t||"")):(dp(void 0===t||t instanceof Uint8Array),Xm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?pp.UNKNOWN:kv(e.code);return new mp(t,e.message||"")}(s);n=new Fv(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=tb(e,r.document.name),o=$v(r.document.updateTime),s=r.document.createTime?$v(r.document.createTime):Op.min(),a=new Ig({mapValue:{fields:r.document.fields}}),l=Ng.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Mv(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=tb(e,r.document),o=r.readTime?$v(r.readTime):Op.min(),s=Ng.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Mv([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=tb(e,r.document),o=r.removedTargetIds||[];n=new Mv([],o,i,null)}else{if(!("filter"in t))return hp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new wv(r,i),s=e.targetId;n=new Lv(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Op.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Op.min():t.readTime?$v(t.readTime):Op.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=ib(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=oy(r)?{documents:cb(e,r)}:{query:hb(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Qv(e,t.resumeToken);const r=Kv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Op.min())>0){n.readTime=Gv(e,t.snapshotVersion.toTimestamp());const r=Kv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=ib(this.serializer),t.removeTarget=e,this.t_(t)}}class Xw extends Yw{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(dp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(dp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?$v(e.updateTime):$v(t);return n.isEqual(Op.min())&&(n=$v(t)),new nv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=$v(e.commitTime);return this.listener.T_(n,t)}return dp(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ib(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>lb(this.serializer,e)))};this.t_(t)}}class Jw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new mp(pp.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,Jv(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===pp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mp(pp.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,Jv(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===pp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mp(pp.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Zw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(lp(t),this.g_=!1):ap("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class eE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{uE(this)&&(ap("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=fp(e);t.v_.add(4),await nE(t),t.x_.set("Unknown"),t.v_.delete(4),await tE(t)}(this))}))})),this.x_=new Zw(n,r)}}async function tE(e){if(uE(e))for(const t of e.F_)await t(!0)}async function nE(e){for(const t of e.F_)await t(!1)}function rE(e,t){const n=fp(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),lE(n)?aE(n):TE(n).Jo()&&oE(n,t))}function iE(e,t){const n=fp(e),r=TE(n);n.C_.delete(t),r.Jo()&&sE(n,t),0===n.C_.size&&(r.Jo()?r.Xo():uE(n)&&n.x_.set("Unknown"))}function oE(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Op.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}TE(e).c_(t)}function sE(e,t){e.O_.Oe(t),TE(e).l_(t)}function aE(e){e.O_=new Uv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),TE(e).start(),e.x_.p_()}function lE(e){return uE(e)&&!TE(e).Ho()&&e.C_.size>0}function uE(e){return 0===fp(e).v_.size}function cE(e){e.O_=void 0}async function hE(e){e.C_.forEach(((t,n)=>{oE(e,t)}))}async function dE(e,t){cE(e),lE(e)?(e.x_.S_(t),aE(e)):e.x_.set("Unknown")}async function fE(e,t,n){if(e.x_.set("Online"),t instanceof Fv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){ap("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pE(e,n)}else if(t instanceof Mv?e.O_.$e(t):t instanceof Lv?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Op.min()))try{const t=await yw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Xm.EMPTY_BYTE_STRING,r.snapshotVersion)),sE(e,t);const i=new Eb(r.target,t,n,r.sequenceNumber);oE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ap("RemoteStore","Failed to raise snapshot:",t),await pE(e,t)}}async function pE(e,t,n){if(!em(t))throw t;e.v_.add(1),await nE(e),e.x_.set("Offline"),n||(n=()=>yw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ap("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await tE(e)}))}function mE(e,t){return t().catch((n=>pE(e,n,t)))}async function gE(e){const t=fp(e),n=IE(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;yE(t);)try{const e=await bw(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,vE(t,e)}catch(e){await pE(t,e)}bE(t)&&_E(t)}function yE(e){return uE(e)&&e.D_.length<10}function vE(e,t){e.D_.push(t);const n=IE(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function bE(e){return uE(e)&&!IE(e).Ho()&&e.D_.length>0}function _E(e){IE(e).start()}async function wE(e){IE(e).d_()}async function EE(e){const t=IE(e);for(const n of e.D_)t.I_(n.mutations)}async function SE(e,t,n){const r=e.D_.shift(),i=bv.from(r,t,n);await mE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await gE(e)}async function CE(e,t){t&&IE(e).P_&&await async function(e,t){if(function(e){return Cv(e)&&e!==pp.ABORTED}(t.code)){const n=e.D_.shift();IE(e).Zo(),await mE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await gE(e)}}(e,t),bE(e)&&_E(e)}async function kE(e,t){const n=fp(e);n.asyncQueue.verifyOperationInProgress(),ap("RemoteStore","RemoteStore received new credentials");const r=uE(n);n.v_.add(3),await nE(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await tE(n)}async function xE(e,t){const n=fp(e);t?(n.v_.delete(2),await tE(n)):t||(n.v_.add(2),await nE(n),n.x_.set("Unknown"))}function TE(e){return e.N_||(e.N_=function(e,t,n){const r=fp(e);return r.R_(),new $w(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:hE.bind(null,e),To:dE.bind(null,e),u_:fE.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),lE(e)?aE(e):e.x_.set("Unknown")):(await e.N_.stop(),cE(e))}))),e.N_}function IE(e){return e.L_||(e.L_=function(e,t,n){const r=fp(e);return r.R_(),new Xw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:wE.bind(null,e),To:CE.bind(null,e),E_:EE.bind(null,e),T_:SE.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await gE(e)):(await e.L_.stop(),e.D_.length>0&&(ap("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class DE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new DE(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mp(pp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NE(e,t){if(lp("AsyncQueue","".concat(t,": ").concat(e)),em(e))return new mp(pp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class OE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Lp.comparator(t.key,n.key):(e,t)=>Lp.comparator(e.key,t.key),this.keyedMap=Ny(),this.sortedSet=new zm(this.comparator)}static emptySet(e){return new OE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof OE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new OE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class PE{constructor(){this.B_=new zm(Lp.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):hp():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class AE{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new AE(e,t,OE.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&by(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class RE{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class ME{constructor(){this.queries=new xy((e=>_y(e)),by),this.onlineState="Unknown",this.W_=new Set}}async function LE(e,t){const n=fp(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.K_()&&t.U_()&&(r=2):(o=new RE,r=t.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=NE(e,"Initialization of query '".concat(wy(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&BE(n)}async function FE(e,t){const n=fp(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),0===o.Q_.length?i=t.U_()?0:1:!o.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jE(e,t){const n=fp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&BE(n)}function UE(e,t,n){const r=fp(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function BE(e){e.W_.forEach((e=>{e.next()}))}var VE,qE;(qE=VE||(VE={})).j_="default",qE.Cache="cache";class zE{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new AE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=AE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==VE.Cache}}class WE{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class HE{constructor(e){this.serializer=e}Ps(e){return tb(this.serializer,e)}Is(e){return e.metadata.exists?ab(this.serializer,e.document,!1):Ng.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return $v(e)}}class KE{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GE(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=Ap.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new HE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Fy()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=fp(e);let o=Fy(),s=Iy();for(const u of n){const e=t.Ps(u.metadata.name);u.document&&(o=o.add(e));const n=t.Is(u);n.setReadTime(t.Ts(u.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await _w(i,function(e){return my(hy(Ap.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>vw(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new HE(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await xw(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function GE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class QE{constructor(e){this.key=e}}class YE{constructor(e){this.key=e}}class $E{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Fy(),this.mutatedKeys=Fy(),this.ha=Cy(e),this.Pa=new OE(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new PE,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Ey(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.da(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ha(c,a)>0||l&&this.ha(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:o,Ea:n,Xi:s,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hp()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const s=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==o.length||l?{snapshot:new AE(this.query,e.Pa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new PE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Fy(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new YE(e))})),this.la.forEach((n=>{e.has(n)||t.push(new QE(n))})),t}fa(e){this.ua=e.hs,this.la=Fy();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return AE.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class XE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class JE{constructor(e){this.key=e,this.pa=!1}}class ZE{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new xy((e=>_y(e)),by),this.Sa=new Map,this.ba=new Set,this.Da=new zm(Lp.comparator),this.Ca=new Map,this.va=new Y_,this.Fa={},this.Ma=new Map,this.xa=C_.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function eS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=DS(e);let i;const o=r.wa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await nS(r,t,n,!0),i}async function tS(e,t){const n=DS(e);await nS(n,t,!0,!1)}async function nS(e,t,n,r){const i=await _w(e.localStore,my(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await rS(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&rE(e.remoteStore,i),a}async function rS(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await Ew(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return mS(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const o=await Ew(e.localStore,t,!0),s=new $E(t,o.hs),a=s.Ta(o.documents),l=Rv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);mS(e,n,u.Va);const c=new XE(t,n,s);return e.wa.set(t,c),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),u.snapshot}async function iS(e,t,n){const r=fp(e),i=r.wa.get(t),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter((e=>!by(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ww(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iE(r.remoteStore,i.targetId),fS(r,i.targetId)})).catch(Qp)):(fS(r,i.targetId),await ww(r.localStore,i.targetId,!0))}async function oS(e,t){const n=fp(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iE(n.remoteStore,r.targetId))}async function sS(e,t){const n=fp(e);try{const e=await function(e,t){const n=fp(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Xm.EMPTY_BYTE_STRING,Op.min()).withLastLimboFreeSnapshotVersion(Op.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&s.push(n.Qr.updateTargetData(e,u))}));let a=Iy(),l=Fy();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(vw(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Op.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Yp.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(dp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?dp(r.pa):e.removedDocuments.size>0&&(dp(r.pa),r.pa=!1))})),await vS(n,e,t)}catch(e){await Qp(e)}}function aS(e,t,n){const r=fp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=fp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&BE(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lS(e,t,n){const r=fp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),o=i&&i.key;if(o){let e=new zm(Lp.comparator);e=e.insert(o,Ng.newNoDocument(o,Op.min()));const n=Fy().add(o),i=new Av(Op.min(),new Map,new zm(Tp),e,n);await sS(r,i),r.Da=r.Da.remove(o),r.Ca.delete(t),yS(r)}else await ww(r.localStore,t,!1).then((()=>fS(r,t,n))).catch(Qp)}async function uS(e,t){const n=fp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Yp.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);dp(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Fy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);dS(n,r,null),hS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vS(n,e)}catch(e){await Qp(e)}}async function cS(e,t,n){const r=fp(e);try{const e=await function(e,t){const n=fp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(dp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);dS(r,t,n),hS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vS(r,e)}catch(n){await Qp(n)}}function hS(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function dS(e,t,n){const r=fp(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function fS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||pS(e,t)}))}function pS(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(iE(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),yS(e))}function mS(e,t,n){for(const r of n)r instanceof QE?(e.va.addReference(r.key,t),gS(e,r)):r instanceof YE?(ap("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||pS(e,r.key)):hp()}function gS(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(ap("SyncEngine","New document in limbo: "+n),e.ba.add(r),yS(e))}function yS(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Lp(Ap.fromString(t)),r=e.xa.next();e.Ca.set(r,new JE(n)),e.Da=e.Da.insert(n,r),rE(e.remoteStore,new Eb(my(hy(n.path)),r,"TargetPurposeLimboResolution",am._e))}}async function vS(e,t,n){const r=fp(e),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{s.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=hw.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.ya.u_(i),await async function(e,t){const n=fp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Yp.forEach(t,(t=>Yp.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Yp.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!em(e))throw e;ap("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function bS(e,t){const n=fp(e);if(!n.currentUser.isEqual(t)){ap("SyncEngine","User change. New user:",t.toKey());const e=await gw(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new mp(pp.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vS(n,e.us)}}function _S(e,t){const n=fp(e),r=n.Ca.get(t);if(r&&r.pa)return Fy().add(r.key);{let e=Fy();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function wS(e,t){const n=fp(e),r=await Ew(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&mS(n,t.targetId,i.Va),i}async function ES(e,t){const n=fp(e);return Cw(n.localStore,t).then((e=>vS(n,e)))}async function SS(e,t,n,r){const i=fp(e),o=await function(e,t){const n=fp(e),r=fp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Yp.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await gE(i.remoteStore):"acknowledged"===n||"rejected"===n?(dS(i,t,r||null),hS(i,t),function(e,t){fp(fp(e).mutationQueue).Mn(t)}(i.localStore,t)):hp(),await vS(i,o)):ap("SyncEngine","Cannot apply mutation batch with id: "+t)}async function CS(e,t,n){const r=fp(e),i=[],o=[];for(const s of t){let e;const t=r.Sa.get(s);if(t&&0!==t.length){e=await _w(r.localStore,my(t[0]));for(const e of t){const t=r.wa.get(e),n=await wS(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Sw(r.localStore,s);e=await _w(r.localStore,t),await rS(r,kS(t),s,!1,e.resumeToken)}i.push(e)}return r.ya.u_(o),i}function kS(e){return cy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xS(e){return function(e){return fp(fp(e).persistence).Bi()}(fp(e).localStore)}async function TS(e,t,n,r){const i=fp(e);if(i.Oa)return void ap("SyncEngine","Ignoring unexpected query state notification.");const o=i.Sa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Cw(i.localStore,Sy(o[0])),r=Av.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Xm.EMPTY_BYTE_STRING);await vS(i,e,r);break}case"rejected":await ww(i.localStore,t,!0),fS(i,t,r);break;default:hp()}}async function IS(e,t,n){const r=DS(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){ap("SyncEngine","Adding an already active target "+e);continue}const t=await Sw(r.localStore,e),n=await _w(r.localStore,t);await rS(r,kS(t),n.targetId,!1,n.resumeToken),rE(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await ww(r.localStore,e,!1).then((()=>{iE(r.remoteStore,e),fS(r,e)})).catch(Qp)}}function DS(e){const t=fp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_S.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lS.bind(null,t),t.ya.u_=jE.bind(null,t.eventManager),t.ya.La=UE.bind(null,t.eventManager),t}function NS(e){const t=fp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cS.bind(null,t),t}class OS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return mw(this.persistence,new fw,e.initialUser,this.serializer)}createPersistence(e){return new tw(rw.Hr,this.serializer)}createSharedClientState(e){return new Lw}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PS extends OS{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await NS(this.ka.syncEngine),await gE(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return mw(this.persistence,new fw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new O_(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new sm(t,this.persistence);return new om(e.asyncQueue,n)}createPersistence(e){const t=cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?g_.withCacheSize(this.cacheSizeBytes):g_.DEFAULT;return new aw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Hw(),Kw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lw}}class AS extends PS{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof Mw&&(this.sharedClientState.syncEngine={Zs:SS.bind(null,t),Xs:TS.bind(null,t),eo:IS.bind(null,t),Bi:xS.bind(null,t),Ys:ES.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=fp(e);if(DS(n),NS(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await CS(n,e.toArray());n.Oa=!0,await xE(n.remoteStore,!0);for(const r of t)rE(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(fS(n,i),ww(n.localStore,i,!0)))),iE(n.remoteStore,i)})),await t,await CS(n,e),function(e){const t=fp(e);t.Ca.forEach(((e,n)=>{iE(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new zm(Lp.comparator)}(n),n.Oa=!1,await xE(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Hw();if(!Mw.D(t))throw new mp(pp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class RS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>aS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bS.bind(null,this.syncEngine),await xE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ME}createDatastore(e){const t=Gw(e.databaseInfo.databaseId),n=function(e){return new Ww(e)}(e.databaseInfo);return function(e,t,n,r){return new Jw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new eE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>aS(this.syncEngine,e,0)),jw.D()?new jw:new Fw)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new ZE(e,t,n,r,i,o);return s&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=fp(e);ap("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await nE(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function MS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class LS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):lp("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class FS{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new gp,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new WE(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class jS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new mp(pp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=fp(e),r={documents:t.map((e=>eb(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Ap.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){dp(!!t.found),t.found.name,t.found.updateTime;const n=tb(e,t.found.name),r=$v(t.found.updateTime),i=t.found.createTime?$v(t.found.createTime):Op.min(),o=new Ig({mapValue:{fields:t.found.fields}});return Ng.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){dp(!!t.missing),dp(!!t.readTime);const n=tb(e,t.missing),r=$v(t.readTime);return Ng.newNoDocument(n,r)}(e,t):hp()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());dp(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new gv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Lp.fromPath(t);this.mutations.push(new yv(n,this.precondition(n)))})),await async function(e,t){const n=fp(e),r={writes:t.map((e=>lb(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Ap.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hp();t=Op.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mp(pp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Op.min())?rv.exists(!1):rv.updateTime(t):rv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Op.min()))throw new mp(pp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rv.updateTime(t)}return rv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class US{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new Qw(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new jS(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!lm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cv(t)}return!1}}class BS{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=rp.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ap("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ap("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new mp(pp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=NE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function VS(e,t){e.asyncQueue.verifyOperationInProgress(),ap("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await gw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WS(e);ap("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>kE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>kE(t.remoteStore,n))),e._onlineComponents=t}function zS(e){return"FirebaseError"===e.name?e.code===pp.FAILED_PRECONDITION||e.code===pp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function WS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ap("FirestoreClient","Using user provided OfflineComponentProvider");try{await VS(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!zS(n))throw n;up("Error using user provided cache. Falling back to memory cache: "+n),await VS(e,new OS)}}else ap("FirestoreClient","Using default OfflineComponentProvider"),await VS(e,new OS);return e._offlineComponents}async function HS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ap("FirestoreClient","Using user provided OnlineComponentProvider"),await qS(e,e._uninitializedComponentsProvider._online)):(ap("FirestoreClient","Using default OnlineComponentProvider"),await qS(e,new RS))),e._onlineComponents}function KS(e){return WS(e).then((e=>e.persistence))}function GS(e){return WS(e).then((e=>e.localStore))}function QS(e){return HS(e).then((e=>e.remoteStore))}function YS(e){return HS(e).then((e=>e.syncEngine))}function $S(e){return HS(e).then((e=>e.datastore))}async function XS(e){const t=await HS(e),n=t.eventManager;return n.onListen=eS.bind(null,t.syncEngine),n.onUnlisten=iS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oS.bind(null,t.syncEngine),n}function JS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new LS({next:o=>{t.enqueueAndForget((()=>FE(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new mp(pp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new mp(pp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new zE(hy(n.path),o,{includeMetadataChanges:!0,ta:!0});return LE(e,s)}(await XS(e),e.asyncQueue,t,n,r))),r.promise}function ZS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new LS({next:n=>{t.enqueueAndForget((()=>FE(e,s))),n.fromCache&&"server"===r.source?i.reject(new mp(pp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new zE(n,o,{includeMetadataChanges:!0,ta:!0});return LE(e,s)}(await XS(e),e.asyncQueue,t,n,r))),r.promise}function eC(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Tv().encode(e):e,function(e,t){return new FS(e,t)}(function(e,t){if(e instanceof Uint8Array)return MS(e,t);if(e instanceof ArrayBuffer)return MS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Gw(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=fp(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=fp(e),r=$v(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(GE(r));const i=new KE(r,e.localStore,t.serializer);let o=await t.Ba();for(;o;){const e=await i.sa(o);e&&n._updateProgress(e),o=await t.Ba()}const s=await i.complete();return await vS(e,s.aa,void 0),await function(e,t){const n=fp(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s._a)}catch(e){return up("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await YS(e),i,r)}))}function tC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const nC=new Map;function rC(e,t,n){if(!n)throw new mp(pp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iC(e,t,n,r){if(!0===t&&!0===r)throw new mp(pp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function oC(e){if(!Lp.isDocumentKey(e))throw new mp(pp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sC(e){if(Lp.isDocumentKey(e))throw new mp(pp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function aC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hp()}function lC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mp(pp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aC(e);throw new mp(pp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function uC(e,t){if(t<=0)throw new mp(pp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class cC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new mp(pp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mp(pp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mp(pp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new mp(pp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new mp(pp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new mp(pp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mp(pp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vp;switch(e.type){case"firstParty":return new Ep(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mp(pp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nC.get(e);t&&(ap("ComponentProvider","Removing Datastore"),nC.delete(e),t.terminate())}(this),Promise.resolve()}}function dC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=lC(e,hC))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&up("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=rp.MOCK_USER;else{t=w(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new mp(pp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new rp(o)}e._authCredentials=new bp(new yp(t,n))}}class fC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fC(this.firestore,e,this._query)}}class pC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pC(this.firestore,e,this._key)}}class mC extends fC{constructor(e,t,n){super(e,t,hy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pC(this.firestore,null,new Lp(e))}withConverter(e){return new mC(this.firestore,e,this._path)}}function gC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Q(e),rC("collection","path",t),e instanceof hC){const n=Ap.fromString(t,...r);return sC(n),new mC(e,null,n)}{if(!(e instanceof pC||e instanceof mC))throw new mp(pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ap.fromString(t,...r));return sC(n),new mC(e.firestore,null,n)}}function yC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Q(e),1===arguments.length&&(t=xp.newId()),rC("doc","path",t),e instanceof hC){const n=Ap.fromString(t,...r);return oC(n),new pC(e,null,new Lp(n))}{if(!(e instanceof pC||e instanceof mC))throw new mp(pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ap.fromString(t,...r));return oC(n),new pC(e.firestore,e instanceof mC?e.converter:null,new Lp(n))}}function vC(e,t){return e=Q(e),t=Q(t),(e instanceof pC||e instanceof mC)&&(t instanceof pC||t instanceof mC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bC(e,t){return e=Q(e),t=Q(t),e instanceof fC&&t instanceof fC&&e.firestore===t.firestore&&by(e._query,t._query)&&e.converter===t.converter}class _C{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Qw(this,"async_queue_retry"),this.cu=()=>{const e=Kw();e&&ap("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Kw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=Kw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new gp;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(_N){if(!em(_N))throw _N;ap("AsyncQueue","Operation failed with retryable error: "+_N)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=DE.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&hp()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function wC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class EC{constructor(){this._progressObserver={},this._taskCompletionResolver=new gp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class SC extends hC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _C,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kC(this),this._firestoreClient.terminate()}}function CC(e){return e._firestoreClient||kC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function kC(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new og(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,tC(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new BS(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function xC(e,t,n){const r=new gp;return e.asyncQueue.enqueue((async()=>{try{await VS(e,n),await qS(e,t),r.resolve()}catch(e){const n=e;if(!zS(n))throw n;up("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function TC(e){return function(e){const t=new gp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=fp(e);uE(n.remoteStore)||ap("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=fp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=NE(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await YS(e),t))),t.promise}(CC(e=lC(e,SC)))}function IC(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await KS(e),n=await QS(e);return t.setNetworkEnabled(!0),function(e){const t=fp(e);return t.v_.delete(0),tE(t)}(n)}))}(CC(e=lC(e,SC)))}function DC(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await KS(e),n=await QS(e);return t.setNetworkEnabled(!1),async function(e){const t=fp(e);t.v_.add(0),await nE(t),t.x_.set("Offline")}(n)}))}(CC(e=lC(e,SC)))}function NC(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=fp(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await GS(e),t)))}(CC(e=lC(e,SC)),t).then((t=>t?new fC(e,null,t.query):null))}function OC(e){if(e._initialized||e._terminated)throw new mp(pp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class PC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new PC(Xm.fromBase64String(e))}catch(e){throw new mp(pp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new PC(Xm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class AC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new mp(pp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mp(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class RC{constructor(e){this._methodName=e}}class MC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mp(pp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mp(pp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tp(this._lat,e._lat)||Tp(this._long,e._long)}}const LC=/^__.*__$/;class FC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new dv(e,this.data,this.fieldMask,t,this.fieldTransforms):new hv(e,this.data,t,this.fieldTransforms)}}class jC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new dv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hp()}}class BC{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new BC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return sk(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(UC(this.Vu)&&LC.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class VC{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gw(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new BC({Vu:e,methodName:t,Du:n,path:Mp.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qC(e){const t=e._freezeSettings(),n=Gw(e._databaseId);return new VC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zC(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cu(o.merge||o.mergeFields?2:0,t,n,i);nk("Data must be an object, but it was:",s,r);const a=ek(r,s);let l,u;if(o.merge)l=new Ym(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=rk(t,r,n);if(!s.contains(i))throw new mp(pp.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ak(e,i)||e.push(i)}l=new Ym(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new FC(new Ig(a),l,u)}class WC extends RC{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof WC}}function HC(e,t,n){return new BC({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class KC extends RC{_toFieldTransform(e){return new tv(e.path,new Gy)}isEqual(e){return e instanceof KC}}class GC extends RC{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=HC(this,e,!0),n=this.vu.map((e=>ZC(e,t))),r=new Qy(n);return new tv(e.path,r)}isEqual(e){return e instanceof GC&&F(this.vu,e.vu)}}class QC extends RC{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=HC(this,e,!0),n=this.vu.map((e=>ZC(e,t))),r=new $y(n);return new tv(e.path,r)}isEqual(e){return e instanceof QC&&F(this.vu,e.vu)}}class YC extends RC{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new Jy(e.serializer,qy(e.serializer,this.Fu));return new tv(e.path,t)}isEqual(e){return e instanceof YC&&this.Fu===e.Fu}}function $C(e,t,n,r){const i=e.Cu(1,t,n);nk("Data must be an object, but it was:",i,r);const o=[],s=Ig.empty();Vm(r,((e,r)=>{const a=ok(t,e,n);r=Q(r);const l=i.yu(a);if(r instanceof WC)o.push(a);else{const e=ZC(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Ym(o);return new jC(s,a,i.fieldTransforms)}function XC(e,t,n,r,i,o){const s=e.Cu(1,t,n),a=[rk(t,r,n)],l=[i];if(o.length%2!=0)throw new mp(pp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(rk(t,o[d])),l.push(o[d+1]);const u=[],c=Ig.empty();for(let d=a.length-1;d>=0;--d)if(!ak(u,a[d])){const e=a[d];let t=l[d];t=Q(t);const n=s.yu(e);if(t instanceof WC)u.push(e);else{const r=ZC(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Ym(u);return new jC(c,h,s.fieldTransforms)}function JC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ZC(n,e.Cu(r?4:3,t))}function ZC(e,t){if(tk(e=Q(e)))return nk("Unsupported field value:",t,e),ek(e,t);if(e instanceof RC)return function(e,t){if(!UC(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ZC(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Q(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Np.fromDate(e);return{timestampValue:Gv(t.serializer,n)}}if(e instanceof Np){const n=new Np(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gv(t.serializer,n)}}if(e instanceof MC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof PC)return{bytesValue:Qv(t.serializer,e._byteString)};if(e instanceof pC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Xv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(aC(e)))}(e,t)}function ek(e,t){const n={};return qm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vm(e,((e,r)=>{const i=ZC(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function tk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Np||e instanceof MC||e instanceof PC||e instanceof pC||e instanceof RC)}function nk(e,t,n){if(!tk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=aC(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function rk(e,t,n){if((t=Q(t))instanceof AC)return t._internalPath;if("string"==typeof t)return ok(e,t);throw sk("Field path arguments must be of type string or ",e,!1,void 0,n)}const ik=new RegExp("[~\\*/\\[\\]]");function ok(e,t,n){if(t.search(ik)>=0)throw sk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new AC(...t.split("."))._internalPath}catch(Yu){throw sk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sk(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new mp(pp.INVALID_ARGUMENT,a+e+l)}function ak(e,t){return e.some((e=>e.isEqual(t)))}class lk{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ck("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uk extends lk{data(){return super.data()}}function ck(e,t){return"string"==typeof t?ok(e,t):t instanceof AC?t._internalPath:t._delegate._internalPath}function hk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mp(pp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dk{}class fk extends dk{}function pk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof dk&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof gk)).length,n=e.filter((e=>e instanceof mk)).length;if(t>1||t>0&&n>0)throw new mp(pp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class mk extends fk{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new mk(e,t,n)}_apply(e){const t=this._parse(e);return Ck(e._query,t),new fC(e.firestore,e.converter,yy(e._query,t))}_parse(e){const t=qC(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new mp(pp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Sk(s,o);const t=[];for(const n of s)t.push(Ek(r,e,n));a={arrayValue:{values:t}}}else a=Ek(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Sk(s,o),a=JC(n,t,s,"in"===o||"not-in"===o);return Fg.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class gk extends dk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gk(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:jg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ck(n,i),n=yy(n,i)}(e._query,t),new fC(e.firestore,e.converter,yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yk extends fk{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yk(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new mp(pp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mp(pp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rg(t,n)}(e._query,this._field,this._direction);return new fC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new uy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class vk extends fk{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new vk(e,t,n)}_apply(e){return new fC(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}class bk extends fk{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new bk(e,t,n)}_apply(e){const t=wk(e,this.type,this._docOrFields,this._inclusive);return new fC(e.firestore,e.converter,function(e,t){return new uy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class _k extends fk{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new _k(e,t,n)}_apply(e){const t=wk(e,this.type,this._docOrFields,this._inclusive);return new fC(e.firestore,e.converter,function(e,t){return new uy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function wk(e,t,n,r){if(n[0]=Q(n[0]),n[0]instanceof lk)return function(e,t,n,r,i){if(!r)throw new mp(pp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of py(e))if(s.field.isKeyField())o.push(gg(t,r.key));else{const e=r.data.field(s.field);if(ng(e))throw new mp(pp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new mp(pp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Og(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=qC(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new mp(pp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new mp(pp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!fy(e)&&-1!==o.indexOf("/"))throw new mp(pp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Ap.fromString(o));if(!Lp.isDocumentKey(n))throw new mp(pp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Lp(n);a.push(gg(t,i))}else{const e=JC(n,r,o);a.push(e)}}return new Og(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ek(e,t,n){if("string"==typeof(n=Q(n))){if(""===n)throw new mp(pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fy(t)&&-1!==n.indexOf("/"))throw new mp(pp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ap.fromString(n));if(!Lp.isDocumentKey(r))throw new mp(pp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gg(e,new Lp(r))}if(n instanceof pC)return gg(e,n._key);throw new mp(pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(aC(n),"."))}function Sk(e,t){if(!Array.isArray(e)||0===e.length)throw new mp(pp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ck(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new mp(pp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new mp(pp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class kk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ug(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Vm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new MC(eg(e.latitude),eg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ig(e));default:return null}}convertTimestamp(e){const t=Zm(e);return new Np(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ap.fromString(e);dp(wb(n));const r=new sg(n.get(1),n.get(3)),i=new Lp(n.popFirst(5));return r.isEqual(t)||lp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function xk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Tk extends kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new PC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pC(this.firestore,null,t)}}class Ik{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dk extends lk{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Nk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ck("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Nk extends Dk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ok{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ik(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Nk(this._firestore,this._userDataWriter,n.key,n,new Ik(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mp(pp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Nk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ik(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Nk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ik(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Pk(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Pk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hp()}}function Ak(e,t){return e instanceof Dk&&t instanceof Dk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ok&&t instanceof Ok&&e._firestore===t._firestore&&bC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Rk extends kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new PC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pC(this.firestore,null,t)}}function Mk(e){e=lC(e,pC);const t=lC(e.firestore,SC),n=CC(t),r=new Rk(t);return function(e,t){const n=new gp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=fp(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new mp(pp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=NE(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await GS(e),t,n))),n.promise}(n,e._key).then((n=>new Dk(t,r,e._key,n,new Ik(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Lk(e){e=lC(e,fC);const t=lC(e.firestore,SC),n=CC(t),r=new Rk(t);return function(e,t){const n=new gp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Ew(e,t,!0),i=new $E(t,r.hs),o=i.Ta(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=NE(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await GS(e),t,n))),n.promise}(n,e._query).then((n=>new Ok(t,r,e,n)))}function Fk(e,t,n){e=lC(e,pC);const r=lC(e.firestore,SC),i=xk(e.converter,t,n);return Vk(r,[zC(qC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rv.none())])}function jk(e,t,n){e=lC(e,pC);const r=lC(e.firestore,SC),i=qC(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Q(t))||t instanceof AC?XC(i,"updateDoc",e._key,t,n,a):$C(i,"updateDoc",e._key,t),Vk(r,[o.toMutation(e._key,rv.exists(!0))])}function Uk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Q(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||wC(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(wC(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let c,h,d;if(e instanceof pC)h=lC(e.firestore,SC),d=hy(e._key.path),c={next:t=>{n[l]&&n[l](qk(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=lC(e,fC);h=lC(t.firestore,SC),d=t._query;const r=new Rk(h);c={next:e=>{n[l]&&n[l](new Ok(h,r,t,e))},error:n[l+1],complete:n[l+2]},hk(e._query)}return function(e,t,n,r){const i=new LS(r),o=new zE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>LE(await XS(e),o))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>FE(await XS(e),o)))}}(CC(h),d,u,c)}function Bk(e,t){return function(e,t){const n=new LS(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){fp(e).W_.add(t),t.next()}(await XS(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){fp(e).W_.delete(t)}(await XS(e),n)))}}(CC(e=lC(e,SC)),wC(t)?t:{next:t})}function Vk(e,t){return function(e,t){const n=new gp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=NS(e);try{const e=await function(e,t){const n=fp(e),r=Np.now(),i=t.reduce(((e,t)=>e.add(t.key)),Fy());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Iy(),l=Fy();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=uv(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new dv(e.key,t,Dg(t.value.mapValue),rv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Oy(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new zm(Tp)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await vS(r,e.changes),await gE(r.remoteStore)}catch(e){const t=NE(e,"Failed to persist write");n.reject(t)}}(await YS(e),t,n))),n.promise}(CC(e),t)}function qk(e,t,n){const r=n.docs.get(t._key),i=new Rk(e);return new Dk(e,i,t._key,r,new Ik(n.hasPendingWrites,n.fromCache),t.converter)}const zk={maxAttempts:5};class Wk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qC(e)}set(e,t,n){this._verifyNotCommitted();const r=Hk(e,this._firestore),i=xk(r.converter,t,n),o=zC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,rv.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Hk(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Q(t))||t instanceof AC?XC(this._dataReader,"WriteBatch.update",r._key,t,n,s):$C(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,rv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hk(e,this._firestore);return this._mutations=this._mutations.concat(new gv(t._key,rv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new mp(pp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hk(e,t){if((e=Q(e)).firestore!==t)throw new mp(pp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Kk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qC(e)}get(e){const t=Hk(e,this._firestore),n=new Tk(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return hp();const r=e[0];if(r.isFoundDocument())return new lk(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new lk(this._firestore,n,t._key,null,t.converter);throw hp()}))}set(e,t,n){const r=Hk(e,this._firestore),i=xk(r.converter,t,n),o=zC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Hk(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Q(t))||t instanceof AC?XC(this._dataReader,"Transaction.update",r._key,t,n,s):$C(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Hk(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hk(e,this._firestore),n=new Rk(this._firestore);return super.get(e).then((e=>new Dk(this._firestore,n,t._key,e._document,new Ik(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ip=e}(Ue),Ae(new Y("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new SC(new _p(e.getProvider("auth-internal")),new Cp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mp(pp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sg(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),We(np,"4.5.0",e),We(np,"4.5.0","esm2017")}();function Gk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Qk(){if("undefined"===typeof Uint8Array)throw new mp("unimplemented","Uint8Arrays are not available in this environment.")}function Yk(){if("undefined"==typeof atob)throw new mp("unimplemented","Blobs are unavailable in Firestore in this environment.")}class $k{constructor(e){this._delegate=e}static fromBase64String(e){return Yk(),new $k(PC.fromBase64String(e))}static fromUint8Array(e){return Qk(),new $k(PC.fromUint8Array(e))}toBase64(){return Yk(),this._delegate.toBase64()}toUint8Array(){return Qk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Jk{enableIndexedDbPersistence(e,t){return function(e,t){OC(e=lC(e,SC));const n=CC(e);if(n._uninitializedComponentsProvider)throw new mp(pp.FAILED_PRECONDITION,"SDK cache is already specified.");up("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new RS;return xC(n,i,new PS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){OC(e=lC(e,SC));const t=CC(e);if(t._uninitializedComponentsProvider)throw new mp(pp.FAILED_PRECONDITION,"SDK cache is already specified.");up("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new RS;return xC(t,r,new AS(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new mp(pp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new gp;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Xp.D())return Promise.resolve();const t=e+"main";await Xp.delete(t)}(cw(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Zk{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof sg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||up("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dC(this._delegate,e,t,n)}enableNetwork(){return IC(this._delegate)}disableNetwork(){return DC(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,iC("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return TC(this._delegate)}onSnapshotsInSync(e){return Bk(this._delegate,e)}get app(){if(!this._appCompat)throw new mp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fx(this,gC(this._delegate,e))}catch(_N){throw ox(_N,"collection()","Firestore.collection()")}}doc(e){try{return new ix(this,yC(this._delegate,e))}catch(_N){throw ox(_N,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cx(this,function(e,t){if(e=lC(e,hC),rC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mp(pp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new fC(e,null,function(e){return new uy(Ap.emptyPath(),e)}(t))}(this._delegate,e))}catch(_N){throw ox(_N,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=lC(e,SC);const r=Object.assign(Object.assign({},zk),n);return function(e){if(e.maxAttempts<1)throw new mp(pp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new gp;return e.asyncQueue.enqueueAndForget((async()=>{const i=await $S(e);new US(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(CC(e),(n=>t(new Kk(e,n))),r)}(this._delegate,(t=>e(new tx(this,t))))}batch(){return CC(this._delegate),new nx(new Wk(this._delegate,(e=>Vk(this._delegate,e))))}loadBundle(e){return function(e,t){const n=CC(e=lC(e,SC)),r=new EC;return eC(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return NC(this._delegate,e).then((e=>e?new cx(this,e):null))}}class ex extends kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new $k(new PC(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ix.forKey(t,this.firestore,null)}}class tx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ex(e)}get(e){const t=px(e);return this._delegate.get(t).then((e=>new lx(this._firestore,new Dk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=px(e);return n?(Gk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=px(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=px(e);return this._delegate.delete(t),this}}class nx{constructor(e){this._delegate=e}set(e,t,n){const r=px(e);return n?(Gk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=px(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=px(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rx{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Nk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ux(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=rx.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new rx(e,new ex(e),t),r.set(t,i)),i}}rx.INSTANCES=new WeakMap;class ix{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ex(e)}static forPath(e,t,n){if(e.length%2!==0)throw new mp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new ix(t,new pC(t._delegate,n,new Lp(e)))}static forKey(e,t,n){return new ix(t,new pC(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new fx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fx(this.firestore,gC(this._delegate,e))}catch(_N){throw ox(_N,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Q(e))instanceof pC&&vC(this._delegate,e)}set(e,t){t=Gk("DocumentReference.set",t);try{return t?Fk(this._delegate,e,t):Fk(this._delegate,e)}catch(_N){throw ox(_N,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jk(this._delegate,e):jk(this._delegate,e,t,...r)}catch(_N){throw ox(_N,"updateDoc()","DocumentReference.update()")}}delete(){return Vk(lC((e=this._delegate).firestore,SC),[new gv(e._key,rv.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=sx(t),i=ax(t,(e=>new lx(this.firestore,new Dk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Uk(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Mk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lC(e,pC);const t=lC(e.firestore,SC);return JS(CC(t),e._key,{source:"server"}).then((n=>qk(t,e,n)))}(this._delegate):function(e){e=lC(e,pC);const t=lC(e.firestore,SC);return JS(CC(t),e._key).then((n=>qk(t,e,n)))}(this._delegate),t.then((e=>new lx(this.firestore,new Dk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new ix(this.firestore,e?this._delegate.withConverter(rx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ox(e,t,n){return e.message=e.message.replace(t,n),e}function sx(e){for(const t of e)if("object"===typeof t&&!Xk(t))return t;return{}}function ax(e,t){var n,r;let i;return i=Xk(e[0])?e[0]:Xk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class lx{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ix(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ak(this._delegate,e._delegate)}}class ux extends lx{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||hp(),t}}class cx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ex(e)}where(e,t,n){try{return new cx(this.firestore,pk(this._delegate,function(e,t,n){const r=t,i=ck("where",e);return mk._create(i,r,n)}(e,t,n)))}catch(_N){throw ox(_N,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new cx(this.firestore,pk(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ck("orderBy",e);return yk._create(n,t)}(e,t)))}catch(_N){throw ox(_N,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cx(this.firestore,pk(this._delegate,(uC("limit",t=e),vk._create("limit",t,"F"))))}catch(t){throw ox(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new cx(this.firestore,pk(this._delegate,(uC("limitToLast",t=e),vk._create("limitToLast",t,"L"))))}catch(t){throw ox(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new cx(this.firestore,pk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bk._create("startAt",t,!0)}(...arguments)))}catch(_N){throw ox(_N,"startAt()","Query.startAt()")}}startAfter(){try{return new cx(this.firestore,pk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bk._create("startAfter",t,!1)}(...arguments)))}catch(_N){throw ox(_N,"startAfter()","Query.startAfter()")}}endBefore(){try{return new cx(this.firestore,pk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _k._create("endBefore",t,!1)}(...arguments)))}catch(_N){throw ox(_N,"endBefore()","Query.endBefore()")}}endAt(){try{return new cx(this.firestore,pk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _k._create("endAt",t,!0)}(...arguments)))}catch(_N){throw ox(_N,"endAt()","Query.endAt()")}}isEqual(e){return bC(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Lk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lC(e,fC);const t=lC(e.firestore,SC),n=CC(t),r=new Rk(t);return ZS(n,e._query,{source:"server"}).then((n=>new Ok(t,r,e,n)))}(this._delegate):function(e){e=lC(e,fC);const t=lC(e.firestore,SC),n=CC(t),r=new Rk(t);return hk(e._query),ZS(n,e._query).then((n=>new Ok(t,r,e,n)))}(this._delegate),t.then((e=>new dx(this.firestore,new Ok(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=sx(t),i=ax(t,(e=>new dx(this.firestore,new Ok(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Uk(this._delegate,r,i)}withConverter(e){return new cx(this.firestore,e?this._delegate.withConverter(rx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class hx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ux(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new cx(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new ux(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new hx(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new ux(this._firestore,n))}))}isEqual(e){return Ak(this._delegate,e._delegate)}}class fx extends cx{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ix(this.firestore,e):null}doc(e){try{return new ix(this.firestore,void 0===e?yC(this._delegate):yC(this._delegate,e))}catch(_N){throw ox(_N,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=lC(e.firestore,SC),r=yC(e),i=xk(e.converter,t);return Vk(n,[zC(qC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rv.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new ix(this.firestore,e)))}isEqual(e){return vC(this._delegate,e._delegate)}withConverter(e){return new fx(this.firestore,e?this._delegate.withConverter(rx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function px(e){return lC(e,pC)}class mx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new AC(...t)}static documentId(){return new mx(Mp.keyField().canonicalString())}isEqual(e){return(e=Q(e))instanceof AC&&this._delegate._internalPath.isEqual(e._internalPath)}}class gx{constructor(e){this._delegate=e}static serverTimestamp(){const e=new KC("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new gx(e)}static delete(){const e=new WC("deleteField");return e._methodName="FieldValue.delete",new gx(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GC("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new gx(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QC("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new gx(e)}static increment(e){const t=new YC("increment",e);return t._methodName="FieldValue.increment",new gx(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yx={Firestore:Zk,GeoPoint:MC,Timestamp:Np,Blob:$k,Transaction:tx,WriteBatch:nx,DocumentReference:ix,DocumentSnapshot:lx,Query:cx,QueryDocumentSnapshot:ux,QuerySnapshot:dx,CollectionReference:fx,FieldPath:mx,FieldValue:gx,setLogLevel:function(e){var t;t=e,op.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Y("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yx)))}(e,((e,t)=>new Zk(e,t,new Jk))),e.registerVersion("@firebase/firestore-compat","0.3.27")}(ut);const vx=e=>{let{id:n,title:r,category:i,priority:o,date:s,task:a,handleRemove:l}=e;const[u,c]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const e=ut.firestore().collection("tasks").doc(n),t=await e.get();t.exists&&c(t.data().completed)})()}),[n]);return(0,mu.jsx)("div",{className:Nu.card_container,children:(0,mu.jsxs)("div",{className:Nu.content_container,children:[(0,mu.jsxs)("div",{className:Nu.center_container,children:[(0,mu.jsxs)("div",{className:Nu.title_check,children:[(0,mu.jsx)("div",{className:Nu.check,onClick:()=>{c(!u);ut.firestore().collection("tasks").doc(n).update({completed:!u}).then((()=>{})).catch((e=>{console.error("Error updating task:",e)}))},children:u?(0,mu.jsx)(Ou,{}):(0,mu.jsx)(Pu,{})}),(0,mu.jsx)("div",{style:{textDecoration:u?"line-through":"none"},children:(0,mu.jsx)("h4",{className:Nu.card_title,children:r})})]}),(0,mu.jsxs)("div",{className:Nu.flags,children:["Urgent"===o&&(0,mu.jsx)("div",{className:Nu.red_flag,children:(0,mu.jsx)(Du,{})}),"Important"===o&&(0,mu.jsx)("div",{className:Nu.orange_flag,children:(0,mu.jsx)(Du,{})}),"Upcoming"===o&&(0,mu.jsx)("div",{className:Nu.yellow_flag,children:(0,mu.jsx)(Du,{})})]})]}),(0,mu.jsxs)("div",{className:Nu.subcontent,children:[(0,mu.jsxs)("div",{className:Nu.info,children:[(0,mu.jsx)("p",{children:s}),"Work"===i&&(0,mu.jsxs)("p",{className:Nu.work_category,children:[(0,mu.jsx)(Mu,{})," ",i]}),"Study"===i&&(0,mu.jsxs)("p",{className:Nu.study_category,children:[(0,mu.jsx)(Mu,{})," ",i]}),"Personal"===i&&(0,mu.jsxs)("p",{className:Nu.personal_category,children:[(0,mu.jsx)(Mu,{})," ",i]})]}),(0,mu.jsxs)("div",{className:Nu.buttons,children:[(0,mu.jsx)(hu,{className:Nu.update,to:"/updatetask/".concat(n),children:(0,mu.jsx)(Ru,{})}),(0,mu.jsx)("div",{className:Nu.remove,onClick:e=>{e.preventDefault(),l(n)},children:(0,mu.jsx)(Au,{})})]})]})]})})},bx="Filter_select_container__u8F95",_x="Filter_select__ax6t4",wx=e=>{let{categoryFilter:t,setCategoryFilter:n,priorityFilter:r,setPriorityFilter:i,completedFilter:o,setCompletedFilter:s}=e;return(0,mu.jsxs)("div",{className:bx,children:[(0,mu.jsx)("div",{className:_x,children:(0,mu.jsxs)("select",{value:t,onChange:e=>{n(e.target.value)},children:[(0,mu.jsx)("option",{value:"All",children:"Category"}),(0,mu.jsx)("option",{value:"Work",children:"Work"}),(0,mu.jsx)("option",{value:"Study",children:"Study"}),(0,mu.jsx)("option",{value:"Personal",children:"Personal"})]})}),(0,mu.jsx)("div",{className:_x,children:(0,mu.jsxs)("select",{value:r,onChange:e=>{i(e.target.value),console.log("Prioridade selecionada:",e.target.value),console.log("priority: ".concat(r))},children:[(0,mu.jsx)("option",{value:"All",children:"Priority"}),(0,mu.jsx)("option",{value:"Urgent",children:"Urgent"}),(0,mu.jsx)("option",{value:"Important",children:"Important"}),(0,mu.jsx)("option",{value:"Upcoming",children:"Upcoming"})]})}),(0,mu.jsx)("div",{className:_x,children:(0,mu.jsxs)("select",{value:o,onChange:e=>{s(e.target.value),console.log("Completed selecionada:",e.target.value),console.log("completed filter: ".concat(o))},children:[(0,mu.jsx)("option",{value:"All",children:"Progress"}),(0,mu.jsx)("option",{value:"true",children:"Completed"}),(0,mu.jsx)("option",{value:"false",children:"Incompleted"})]})})]})},Ex="Search_search_container__9dYWF",Sx="Search_search_input__lnAjH";function Cx(e){return xu({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"},child:[]}]})(e)}const kx=e=>{let{search:t,setSearch:n}=e;return(0,mu.jsxs)("div",{className:Ex,children:[(0,mu.jsx)("div",{className:Sx,children:(0,mu.jsx)("input",{type:"text",value:t,onChange:e=>{n(e.target.value)}})}),(0,mu.jsx)("div",{children:(0,mu.jsx)(hu,{to:"/newtask",children:(0,mu.jsx)(Cx,{})})})]})},xx="Home_home_title__0XZey",Tx="Home_button__uBHKR",Ix="Home_container__s3lm1",Dx=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)("All"),[o,s]=(0,t.useState)("All"),[a,l]=(0,t.useState)("All"),[u,c]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{const e=ut.firestore().collection("tasks"),t=(await e.get()).docs.map((e=>({id:e.id,...e.data()})));n(t)})()}),[]);const h=async t=>{const r=ut.firestore().collection("tasks");await r.doc(t).delete(),n(e.filter((e=>e.id!==t)))},d=e=>{const t=new Date(e),n=t.getUTCDate(),r=t.getUTCMonth()+1,i=t.getUTCFullYear();return"".concat(n.toString().padStart(2,"0"),"/").concat(r.toString().padStart(2,"0"),"/").concat(i.toString().slice(2))},f=e.filter((e=>("All"===r||e.category.name===r)&&("All"===o||e.priority.name===o)&&("All"===a||e.completed.toString()===a)&&e.title.toLowerCase().startsWith(u.toLowerCase())));return(0,mu.jsxs)("div",{children:[(0,mu.jsx)("div",{children:(0,mu.jsx)(kx,{search:u,setSearch:c})}),(0,mu.jsx)("h1",{className:xx,children:"Tasks"}),(0,mu.jsx)("div",{children:(0,mu.jsx)(wx,{setCategoryFilter:i,categoryFilter:r,priorityFilter:o,setPriorityFilter:s,completedFilter:a,setCompletedFilter:l})}),(0,mu.jsx)("div",{children:f.length>0?(0,mu.jsx)(mu.Fragment,{children:f.map((e=>(0,mu.jsx)(vx,{id:e.id,title:e.title,category:e.category.name,priority:e.priority.name,date:d(e.date),task:e,handleRemove:h},e.id)))}):(0,mu.jsxs)("div",{className:Ix,children:[(0,mu.jsx)("p",{children:"You have no tasks. Create one!"}),(0,mu.jsx)("div",{className:Tx,children:(0,mu.jsx)(gu,{text:"Create Task",to:"/newtask"})})]})})]})},Nx="Input_input_container__NJKQe",Ox=e=>{let{type:t,text:n,name:r,handleOnChange:i,value:o}=e;return(0,mu.jsxs)("div",{className:Nx,children:[(0,mu.jsxs)("label",{htmlFor:r,children:[n,":"]}),(0,mu.jsx)("input",{required:!0,type:t,name:r,id:r,onChange:i,value:o})]})},Px="SubmitButton_submit__7hRZd",Ax=e=>{let{text:t}=e;return(0,mu.jsx)("div",{className:Px,children:(0,mu.jsx)("button",{children:t})})},Rx="Select_label_select__jl6Kh",Mx="Select_category__oFLAP",Lx="Select_priority__aSbMS",Fx=e=>{let{labelText:t,name:n,options:r,handleOnChange:i,value:o}=e;return(0,mu.jsxs)("div",{className:Rx,children:[(0,mu.jsx)("label",{children:t}),"category_id"===n&&(0,mu.jsxs)("select",{className:Mx,required:!0,name:n,id:n,onChange:i,value:o,children:[(0,mu.jsx)("option",{value:""}),r.map((e=>(0,mu.jsx)("option",{required:!0,value:e.id,children:e.name},e.id)))]}),"priority_id"===n&&(0,mu.jsxs)("select",{className:Lx,required:!0,name:n,id:n,onChange:i,value:o,children:[(0,mu.jsx)("option",{value:""}),r.map((e=>(0,mu.jsx)("option",{required:!0,value:e.id,children:e.name},e.id)))]})]})};function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ux(e,t){if(e){if("string"===typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jx(e,t):void 0}}function Bx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||Ux(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vx(e){return Vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(e)}function qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o){var s=Vx(o);if("string"===s||"number"===s)r.push(o);else if("object"===s){var a=Array.isArray(o)?o:Object.entries(o).map((function(e){var t=Bx(e,2),n=t[0];return t[1]?n:null}));r=a.length?r.concat(a.filter((function(e){return!!e}))):r}}}return r.join(" ").trim()}}function zx(e){return function(e){if(Array.isArray(e))return jx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ux(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hx(e){var t=function(e,t){if("object"!==Vx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vx(t)?t:String(t)}function Kx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hx(r.key),r)}}function Gx(e,t,n){return t&&Kx(e.prototype,t),n&&Kx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qx(e,t,n){return(t=Hx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yx(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $x(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function $x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xx=function(){function e(){Wx(this,e)}return Gx(e,null,[{key:"innerWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}return 0}},{key:"width",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"getOuterWidth",value:function(e,t){if(e){var n=e.getBoundingClientRect().width||e.offsetWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0}},{key:"getOuterHeight",value:function(e,t){if(e){var n=e.getBoundingClientRect().height||e.offsetHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getClientHeight",value:function(e,t){if(e){var n=e.clientHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0}},{key:"getClientWidth",value:function(e,t){if(e){var n=e.clientWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}},{key:"getOffset",value:function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(e){if(e)for(var t=e.parentNode.childNodes,n=0,r=0;r<t.length;r++){if(t[r]===e)return n;1===t[r].nodeType&&n++}return-1}},{key:"addMultipleClasses",value:function(e,t){if(e&&t)if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.add(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className+=" "+i[o]}},{key:"removeMultipleClasses",value:function(e,t){if(e&&t)if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.remove(n[r]);else for(var i=t.split(" "),o=0;o<i.length;o++)e.className=e.className.replace(new RegExp("(^|\\b)"+i[o].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className))}},{key:"addStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&Object.entries(t).forEach((function(t){var n=Bx(t,2),r=n[0],i=n[1];return e.style[r]=i}))}},{key:"find",value:function(e,t){return e?Array.from(e.querySelectorAll(t)):[]}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"setAttributes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var r=function t(n,r){var i,o,s=null!==e&&void 0!==e&&null!==(i=e.$attrs)&&void 0!==i&&i[n]?[null===e||void 0===e||null===(o=e.$attrs)||void 0===o?void 0:o[n]]:[];return[r].flat().reduce((function(e,r){if(null!==r&&void 0!==r){var i=Vx(r);if("string"===i||"number"===i)e.push(r);else if("object"===i){var o=Array.isArray(r)?t(n,r):Object.entries(r).map((function(e){var t=Bx(e,2),r=t[0],i=t[1];return"style"!==n||!i&&0!==i?i?r:void 0:"".concat(r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(i)}));e=o.length?e.concat(o.filter((function(e){return!!e}))):e}}return e}),s)};Object.entries(n).forEach((function(n){var i=Bx(n,2),o=i[0],s=i[1];if(void 0!==s&&null!==s){var a=o.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),s):"p-bind"===o?t.setAttributes(e,s):(s="class"===o?zx(new Set(r("class",s))).join(" ").trim():"style"===o?r("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[o]=s),e.setAttribute(o,s))}}))}}},{key:"getAttribute",value:function(e,t){if(e){var n=e.getAttribute(t);return isNaN(n)?"true"===n||"false"===n?"true"===n:n:+n}}},{key:"isAttributeEquals",value:function(e,t,n){return!!e&&this.getAttribute(e,t)===n}},{key:"isAttributeNotEquals",value:function(e,t,n){return!this.isAttributeEquals(e,t,n)}},{key:"getHeight",value:function(e){if(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)}return 0}},{key:"getWidth",value:function(e){if(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)}return 0}},{key:"alignOverlay",value:function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t&&n&&("self"===r?this.relativePosition(t,n):(i&&(t.style.minWidth=e.getOuterWidth(n)+"px"),this.absolutePosition(t,n)))}},{key:"absolutePosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if(e&&t){var r,i,o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=o.height,a=o.width,l=t.offsetHeight,u=t.offsetWidth,c=t.getBoundingClientRect(),h=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport();c.top+l+s>f.height?((r=c.top+h-s)<0&&(r=h),e.style.transformOrigin="bottom"):(r=l+c.top+h,e.style.transformOrigin="top");var p=c.left,m="left"===n?0:a-u;i=p+u+a>f.width?Math.max(0,p+d+u-a):p-m+d,e.style.top=r+"px",e.style.left=i+"px"}}},{key:"relativePosition",value:function(e,t){if(e&&t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=t.offsetHeight,s=t.getBoundingClientRect(),a=this.getViewport();s.top+o+i.height>a.height?(n=-1*i.height,s.top+n<0&&(n=-1*s.top),e.style.transformOrigin="bottom"):(n=o,e.style.transformOrigin="top"),r=i.width>a.width?-1*s.left:s.left+i.width>a.width?-1*(s.left+i.width-a.width):0,e.style.top=n+"px",e.style.left=r+"px"}}},{key:"flipfitCollision",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left top",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left bottom",s=arguments.length>4?arguments[4]:void 0;if(t&&n){var a=n.getBoundingClientRect(),l=this.getViewport(),u=i.split(" "),c=o.split(" "),h=function(e,t){return t?+e.substring(e.search(/(\+|-)/g))||0:e.substring(0,e.search(/(\+|-)/g))||e},d={my:{x:h(u[0]),y:h(u[1]||u[0]),offsetX:h(u[0],!0),offsetY:h(u[1]||u[0],!0)},at:{x:h(c[0]),y:h(c[1]||c[0]),offsetX:h(c[0],!0),offsetY:h(c[1]||c[0],!0)}},f={left:function(){return d.my.offsetX+d.at.offsetX+a.left+("left"===d.my.x?0:-1*("center"===d.my.x?r.getOuterWidth(t)/2:r.getOuterWidth(t)))},top:function(){return d.my.offsetY+d.at.offsetY+a.top+("top"===d.my.y?0:-1*("center"===d.my.y?r.getOuterHeight(t)/2:r.getOuterHeight(t)))}},p={count:{x:0,y:0},left:function(){var n=f.left(),r=e.getWindowScrollLeft();t.style.left=n+r+"px",2===this.count.x?(t.style.left=r+"px",this.count.x=0):n<0&&(this.count.x++,d.my.x="left",d.at.x="right",d.my.offsetX*=-1,d.at.offsetX*=-1,this.right())},right:function(){var r=f.left()+e.getOuterWidth(n),i=e.getWindowScrollLeft();t.style.left=r+i+"px",2===this.count.x?(t.style.left=l.width-e.getOuterWidth(t)+i+"px",this.count.x=0):r+e.getOuterWidth(t)>l.width&&(this.count.x++,d.my.x="right",d.at.x="left",d.my.offsetX*=-1,d.at.offsetX*=-1,this.left())},top:function(){var n=f.top(),r=e.getWindowScrollTop();t.style.top=n+r+"px",2===this.count.y?(t.style.left=r+"px",this.count.y=0):n<0&&(this.count.y++,d.my.y="top",d.at.y="bottom",d.my.offsetY*=-1,d.at.offsetY*=-1,this.bottom())},bottom:function(){var r=f.top()+e.getOuterHeight(n),i=e.getWindowScrollTop();t.style.top=r+i+"px",2===this.count.y?(t.style.left=l.height-e.getOuterHeight(t)+i+"px",this.count.y=0):r+e.getOuterHeight(n)>l.height&&(this.count.y++,d.my.y="bottom",d.at.y="top",d.my.offsetY*=-1,d.at.offsetY*=-1,this.top())},center:function(r){if("y"===r){var i=f.top()+e.getOuterHeight(n)/2;t.style.top=i+e.getWindowScrollTop()+"px",i<0?this.bottom():i+e.getOuterHeight(n)>l.height&&this.top()}else{var o=f.left()+e.getOuterWidth(n)/2;t.style.left=o+e.getWindowScrollLeft()+"px",o<0?this.left():o+e.getOuterWidth(t)>l.width&&this.right()}}};p[d.at.x]("x"),p[d.at.y]("y"),this.isFunction(s)&&s(d)}}},{key:"findCollisionPosition",value:function(e){if(e){var t="left"===e?"right":"left";return"top"===e||"bottom"===e?{axis:"y",my:"center ".concat("top"===e?"bottom":"top"),at:"center ".concat(e)}:{axis:"x",my:"".concat(t," center"),at:"".concat(e," center")}}}},{key:"getParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}},{key:"getScrollableParents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(e){var r,i=this.getParents(e),o=/(auto|scroll)/,s=function(e){var t=e?getComputedStyle(e):null;return t&&(o.test(t.getPropertyValue("overflow"))||o.test(t.getPropertyValue("overflowX"))||o.test(t.getPropertyValue("overflowY")))},a=function(e){t?n.push("BODY"===e.nodeName||"HTML"===e.nodeName||9===e.nodeType?window:e):n.push(e)},l=Yx(i);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=1===u.nodeType&&u.dataset.scrollselectors;if(c){var h,d=Yx(c.split(","));try{for(d.s();!(h=d.n()).done;){var f=h.value,p=this.findSingle(u,f);p&&s(p)&&a(p)}}catch(m){d.e(m)}finally{d.f()}}1===u.nodeType&&s(u)&&a(u)}}catch(m){l.e(m)}finally{l.f()}}return n.some((function(e){return e===document.body||e===window}))||n.push(window),n}},{key:"getHiddenElementOuterHeight",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementOuterWidth",value:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e&&(e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible"),t}},{key:"fadeIn",value:function(e,t){if(e){e.style.opacity=0;var n=+new Date,r=0;!function i(){r=+e.style.opacity+((new Date).getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}}},{key:"fadeOut",value:function(e,t){if(e)var n=1,r=50/t,i=setInterval((function(){(n-=r)<=0&&(n=0,clearInterval(i)),e.style.opacity=n}),50)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot append "+t+" to "+e);t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw new Error("Cannot remove "+e+" from "+t);t.el.nativeElement.removeChild(e)}}},{key:"isElement",value:function(e){return"object"===("undefined"===typeof HTMLElement?"undefined":Vx(HTMLElement))?e instanceof HTMLElement:e&&"object"===Vx(e)&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,l=e.scrollTop,u=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=l+a:a+c>u&&(e.scrollTop=l+a-u+c)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(It){}}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var r=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"blockBodyScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"p-overflow-hidden";!!!document.body.style.getPropertyValue("--scrollbar-width")&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}},{key:"unblockBodyScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}},{key:"isVisible",value:function(e){return e&&(0!==e.clientHeight||0!==e.getClientRects().length||"none"!==getComputedStyle(e).display)}},{key:"isExist",value:function(e){return!(null===e||"undefined"===typeof e||!e.nodeName||!e.parentNode)}},{key:"getFocusableElements",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[],o=Yx(e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,',\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r,',\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(r)));try{for(o.s();!(n=o.n()).done;){var s=n.value;"none"!==getComputedStyle(s).display&&"hidden"!==getComputedStyle(s).visibility&&i.push(s)}}catch(a){o.e(a)}finally{o.f()}return i}},{key:"getFirstFocusableElement",value:function(t,n){var r=e.getFocusableElements(t,n);return r.length>0?r[0]:null}},{key:"getLastFocusableElement",value:function(t,n){var r=e.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null}},{key:"focus",value:function(e,t){var n=void 0===t||!t;e&&document.activeElement!==e&&e.focus({preventScroll:n})}},{key:"focusFirstElement",value:function(t,n){if(t){var r=e.getFirstFocusableElement(t);return r&&e.focus(r,n),r}}},{key:"getCursorOffset",value:function(e,t,n,r){if(e){var i=getComputedStyle(e),o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.visibility="hidden",o.style.pointerEvents="none",o.style.overflow=i.overflow,o.style.width=i.width,o.style.height=i.height,o.style.padding=i.padding,o.style.border=i.border,o.style.overflowWrap=i.overflowWrap,o.style.whiteSpace=i.whiteSpace,o.style.lineHeight=i.lineHeight,o.innerHTML=t.replace(/\r\n|\r|\n/g,"<br />");var s=document.createElement("span");s.textContent=r,o.appendChild(s);var a=document.createTextNode(n);o.appendChild(a),document.body.appendChild(o);var l=s.offsetLeft,u=s.offsetTop,c=s.clientHeight;return document.body.removeChild(o),{left:Math.abs(l-e.scrollLeft),top:Math.abs(u-e.scrollTop)+c}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"isClickable",value:function(e){var t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return"INPUT"===t||"TEXTAREA"===t||"BUTTON"===t||"A"===t||"INPUT"===n||"TEXTAREA"===n||"BUTTON"===n||"A"===n||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(e,t){if("string"===typeof t)e.style.cssText=this.style;else for(var n in this.style)e.style[n]=t[n]}},{key:"exportCSV",value:function(t,n){var r=new Blob([t],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(r,n+".csv"):e.saveAs({name:n+".csv",src:URL.createObjectURL(r)})||(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}},{key:"saveAs",value:function(e){if(e){var t=document.createElement("a");if(void 0!==t.download){var n=e.name,r=e.src;return t.setAttribute("href",r),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),!0}}return!1}},{key:"createInlineStyle",value:function(t,n){var r=document.createElement("style");return e.addNonce(r,t),n||(n=document.head),n.appendChild(r),r}},{key:"removeInlineStyle",value:function(e){if(this.isExist(e)){try{e.parentNode.removeChild(e)}catch(It){}e=null}return e}},{key:"addNonce",value:function(e,t){try{t||(t={NODE_ENV:"production",PUBLIC_URL:"/TaskProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_CSS_NONCE)}catch(It){}t&&e.setAttribute("nonce",t)}},{key:"getTargetElement",value:function(e){if(!e)return null;if("document"===e)return document;if("window"===e)return window;if("object"===Vx(e)&&e.hasOwnProperty("current"))return this.isExist(e.current)?e.current:null;var t,n=(t=e)&&t.constructor&&t.call&&t.apply?e():e;return n&&9===n.nodeType||this.isExist(n)?n:null}},{key:"getAttributeNames",value:function(e){var t,n,r;for(n=[],r=e.attributes,t=0;t<r.length;++t)n.push(r[t].nodeName);return n.sort(),n}},{key:"isEqualElement",value:function(t,n){var r,i,o,s,a;if(r=e.getAttributeNames(t),i=e.getAttributeNames(n),r.join(",")!==i.join(","))return!1;for(var l=0;l<r.length;++l)if("style"===(o=r[l]))for(var u=t.style,c=n.style,h=/^\d+$/,d=0,f=Object.keys(u);d<f.length;d++){var p=f[d];if(!h.test(p)&&u[p]!==c[p])return!1}else if(t.getAttribute(o)!==n.getAttribute(o))return!1;for(s=t.firstChild,a=n.firstChild;s&&a;s=s.nextSibling,a=a.nextSibling){if(s.nodeType!==a.nodeType)return!1;if(1===s.nodeType){if(!e.isEqualElement(s,a))return!1}else if(s.nodeValue!==a.nodeValue)return!1}return!s&&!a}}]),e}();function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(this,arguments)}function Zx(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return eT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function eT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Qx(Xx,"DATA_PROPS",["data-"]),Qx(Xx,"ARIA_PROPS",["aria","focus-target"]);var tT=function(){function e(){Wx(this,e)}return Gx(e,null,[{key:"equals",value:function(e,t,n){return n&&e&&"object"===Vx(e)&&t&&"object"===Vx(t)?this.deepEquals(this.resolveFieldData(e,n),this.resolveFieldData(t,n)):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==Vx(e)&&"object"==Vx(t)){var n,r,i,o=Array.isArray(e),s=Array.isArray(t);if(o&&s){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==s)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!==l)return!1;if(a&&l)return e.getTime()===t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!==c)return!1;if(u&&c)return e.toString()===t.toString();var h=Object.keys(e);if((r=h.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,h[n]))return!1;for(n=r;0!==n--;)if(i=h[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(e,t){if(!e||!t)return null;try{var n=e[t];if(this.isNotEmpty(n))return n}catch(a){}if(Object.keys(e).length){if(this.isFunction(t))return t(e);if(this.isNotEmpty(e[t]))return e[t];if(-1===t.indexOf("."))return e[t];for(var r=t.split("."),i=e,o=0,s=r.length;o<s;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getItemValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getPropCaseInsensitive",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.toFlatCase(t);for(var i in e)if(e.hasOwnProperty(i)&&this.toFlatCase(i)===r)return e[i];for(var o in n)if(n.hasOwnProperty(o)&&this.toFlatCase(o)===r)return n[o]}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r,i=this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0);!i&&null!==e&&void 0!==e&&null!==(r=e.type)&&void 0!==r&&null!==(r=r._payload)&&void 0!==r&&r.value&&(i=e.type._payload.value.find((function(e){return e===t})));var o=i===t;try{0}catch(It){}return o}return!1}},{key:"getRefElement",value:function(e){return e?"object"===Vx(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"toFlatCase",value:function(e){return this.isNotEmpty(e)&&this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"toCapitalCase",value:function(e){return this.isNotEmpty(e)&&this.isString(e)?e[0].toUpperCase()+e.slice(1):e}},{key:"trim",value:function(e){return this.isNotEmpty(e)&&this.isString(e)?e.trim():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===Vx(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isDate",value:function(e){return null!==e&&e instanceof Date&&e.constructor===Date}},{key:"isArray",value:function(e){return null!==e&&Array.isArray(e)}},{key:"isString",value:function(e){return null!==e&&"string"===typeof e}},{key:"isPrintableCharacter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}},{key:"isLetter",value:function(e){return/^[a-zA-Z\u00C0-\u017F]$/.test(e)}},{key:"findLast",value:function(e,t){var n;if(this.isNotEmpty(e))try{n=e.findLast(t)}catch(r){n=zx(e).reverse().find(t)}return n}},{key:"findLastIndex",value:function(e,t){var n=-1;if(this.isNotEmpty(e))try{n=e.findLastIndex(t)}catch(r){n=e.lastIndexOf(zx(e).reverse().find(t))}return n}},{key:"sort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=this.compare(e,t,r,n),s=n;return(this.isEmpty(e)||this.isEmpty(t))&&(s=1===i?n:i),s*o}},{key:"compare",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=this.isEmpty(e),o=this.isEmpty(t);return i&&o?0:i?r:o?-r:"string"===typeof e&&"string"===typeof t?n(e,t):e<t?-1:e>t?1:0}},{key:"localeComparator",value:function(e){return new Intl.Collator(e,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(e,t){var n,r=Zx(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.key===t)return i.children||[];if(i.children){var o=this.findChildrenByKey(i.children,t);if(o.length>0)return o}}}catch(s){r.e(s)}finally{r.f()}return[]}},{key:"mutateFieldData",value:function(e,t,n){if("object"===Vx(e)&&"string"===typeof t)for(var r=t.split("."),i=e,o=0,s=r.length;o<s;++o){if(o+1-s===0){i[r[o]]=n;break}i[r[o]]||(i[r[o]]={}),i=i[r[o]]}}}]),e}();function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var rT=function(){function e(){Wx(this,e)}return Gx(e,null,[{key:"getJSXIcon",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;if(null!==e){var o=Vx(e),s=qx(n.className,"string"===o&&e);if(i=t.createElement("span",Jx({},n,{className:s})),"string"!==o){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nT(Object(n),!0).forEach((function(t){Qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({iconProps:n,element:i},r);return tT.getJSXElement(e,a)}}return i}}]),e}();function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iT(Object(n),!0).forEach((function(t){Qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sT(e,t){var n,r,i,o,s,a,l,u,c,h,d,f;t=oT(oT({},{mask:null,slotChar:"_",autoClear:!0,unmask:!1,readOnly:!1,onComplete:null,onChange:null,onFocus:null,onBlur:null}),t);var p=function(t,n){var r,i,o;if(e.offsetParent&&e===document.activeElement)return"number"!==typeof t?(e.setSelectionRange?(i=e.selectionStart,o=e.selectionEnd):document.selection&&document.selection.createRange&&(o=(i=0-(r=document.selection.createRange()).duplicate().moveStart("character",-1e5))+r.text.length),{begin:i,end:o}):(i=t,o="number"===typeof n?n:i,void(e.setSelectionRange?e.setSelectionRange(i,o):e.createTextRange&&((r=e.createTextRange()).collapse(!0),r.moveEnd("character",o),r.moveStart("character",i),r.select())))},m=function(){for(var e=o;e<=l;e++)if(n[e]&&d[e]===g(e))return!1;return!0},g=function(e){return e<t.slotChar.length?t.slotChar.charAt(e):t.slotChar.charAt(0)},y=function(){return t.unmask?D():e&&e.value},v=function(e){for(;++e<i&&!n[e];);return e},b=function(e,t){var r,s;if(!(e<0)){for(r=e,s=v(t);r<i;r++)if(n[r]){if(!(s<i&&n[r].test(d[s])))break;d[r]=d[s],d[s]=g(s),s=v(s)}C(),p(Math.max(o,e))}},_=function(n){if(k(),t.onBlur&&t.onBlur(n),N(n),e.value!==c){var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!1),e.dispatchEvent(r)}},w=function(r){if(!t.readOnly){var i,o,s,a=r.which||r.keyCode;u=e.value,8===a||46===a||Xx.isIOS()&&127===a?(o=(i=p()).begin,(s=i.end)-o===0&&(o=46!==a?function(e){for(;--e>=0&&!n[e];);return e}(o):s=v(o-1),s=46===a?v(s):s),S(o,s),b(o,s-1),N(r),r.preventDefault()):13===a?(_(r),N(r)):27===a&&(e.value=c,p(0,k()),N(r),r.preventDefault())}},E=function(e){if(!t.readOnly){var r,o,s,a,u=e.which||e.keyCode,c=p();if(!(e.ctrlKey||e.altKey||e.metaKey||u<32)){if(u&&13!==u){if(c.end-c.begin!==0&&(S(c.begin,c.end),b(c.begin,c.end-1)),(r=v(c.begin-1))<i&&(o=String.fromCharCode(u),n[r].test(o))){if(function(e){var t,r,o,s;for(t=e,r=g(e);t<i;t++)if(n[t]){if(o=v(t),s=d[t],d[t]=r,!(o<i&&n[o].test(s)))break;r=s}}(r),d[r]=o,C(),s=v(r),Xx.isAndroid()){setTimeout((function(){p(s)}),0)}else p(s);c.begin<=l&&(a=m())}e.preventDefault()}N(e),t.onComplete&&a&&t.onComplete({originalEvent:e,value:y()})}}},S=function(e,t){var r;for(r=e;r<t&&r<i;r++)n[r]&&(d[r]=g(r))},C=function(){e.value=d.join("")},k=function(s){var a,l,u,c=e.value,h=-1;for(a=0,u=0;a<i;a++)if(n[a]){for(d[a]=g(a);u++<c.length;)if(l=c.charAt(u-1),n[a].test(l)){d[a]=l,h=a;break}if(u>c.length){S(a+1,i);break}}else d[a]===c.charAt(u)&&u++,a<r&&(h=a);return s?C():h+1<r?t.autoClear||d.join("")===f?(e.value&&(e.value=""),S(0,i)):C():(C(),e.value=e.value.substring(0,h+1)),r?a:o},x=function(n){var r;t.readOnly||(clearTimeout(h),c=e.value,r=k(),h=setTimeout((function(){e===document.activeElement&&(C(),r===t.mask.replace("?","").length?p(0,r):p(r))}),100),t.onFocus&&t.onFocus(n))},T=function(r){a?function(r){var s=e.value,a=p();if(u&&u.length&&u.length>s.length){for(k(!0);a.begin>0&&!n[a.begin-1];)a.begin--;if(0===a.begin)for(;a.begin<o&&!n[a.begin];)a.begin++;p(a.begin,a.begin)}else{for(k(!0);a.begin<i&&!n[a.begin];)a.begin++;p(a.begin,a.begin)}t.onComplete&&m()&&t.onComplete({originalEvent:r,value:y()})}(r):I(r)},I=function(e){if(!t.readOnly){var n=k(!0);p(n),N(e),t.onComplete&&m()&&t.onComplete({originalEvent:e,value:y()})}},D=function(){for(var e=[],t=0;t<d.length;t++){var r=d[t];n[t]&&r!==g(t)&&e.push(r)}return e.join("")},N=function(e){if(t.onChange){var n=y();t.onChange({originalEvent:e,value:f!==n?n:"",stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{value:f!==n?n:""}})}},O=function(){e.addEventListener("focus",x),e.addEventListener("blur",_),e.addEventListener("keydown",w),e.addEventListener("keypress",E),e.addEventListener("input",T),e.addEventListener("paste",I)},P=function(){n=[],r=t.mask.length,i=t.mask.length,o=null,s={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},a=Xx.isChrome()&&Xx.isAndroid();for(var e=t.mask.split(""),u=0;u<e.length;u++){var c=e[u];"?"===c?(i--,r=u):s[c]?(n.push(new RegExp(s[c])),null===o&&(o=n.length-1),u<r&&(l=n.length-1)):n.push(null)}d=[];for(var h=0;h<e.length;h++){var p=e[h];"?"!==p&&(s[p]?d.push(g(h)):d.push(p))}f=d.join("")};return e&&t.mask&&(P(),O()),{init:P,bindEvents:O,unbindEvents:function(){e.removeEventListener("focus",x),e.removeEventListener("blur",_),e.removeEventListener("keydown",w),e.removeEventListener("keypress",E),e.removeEventListener("input",T),e.removeEventListener("paste",I)},updateModel:N,getValue:y}}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aT(Object(n),!0).forEach((function(t){Qx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uT(e){if(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).classNameMergeFunction;return e.reduce((function(e,n){var r=function(){var r,o=n[i];if("style"===i)e.style=lT(lT({},e.style),n.style);else if("className"===i){var s="",a=null===(s=t&&t instanceof Function?t(e.className,n.className):[e.className,n.className].join(" ").trim())||void 0===s||""===s;e.className=a?void 0:s}else if((r=o)&&r.constructor&&r.call&&r.apply){var l=e[i];e[i]=l?function(){l.apply(void 0,arguments),o.apply(void 0,arguments)}:o}else e[i]=o};for(var i in n)r();return e}),{})}}var cT=0;function hT(){return cT++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(cT)}var dT=function(){var e=[],t=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return zx(e).reverse().find((function(e){return!!n||e.key===t}))||{key:t,value:r}};return{get:function(e){return e&&parseInt(e.style.zIndex,10)||0},set:function(n,r,i,o){r&&(r.style.zIndex=String(function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:999,o=t(n,r,i),s=o.value+(o.key===n?0:i)+1;return e.push({key:n,value:s}),s}(n,i,o)))},clear:function(t){var n;t&&(n=dT.get(t),e=e.filter((function(e){return e.value!==n})),t.style.zIndex="")},getCurrent:function(e,n){return function(e,n){return t(e,n).value}(e,n)}}}(),fT=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});Object.freeze({AND:"and",OR:"or"});function pT(e){return pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pT(e)}function mT(e){var t=function(e,t){if("object"!==pT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pT(t)?t:String(t)}function gT(e,t,n){return(t=mT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mT(r.key),r)}}function vT(e,t,n){return t&&yT(e.prototype,t),n&&yT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var bT=vT((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));gT(bT,"ripple",!1),gT(bT,"inputStyle","outlined"),gT(bT,"locale","en"),gT(bT,"appendTo",null),gT(bT,"cssTransition",!0),gT(bT,"autoZIndex",!0),gT(bT,"hideOverlaysOnDocumentScrolling",!1),gT(bT,"nonce",null),gT(bT,"nullSortOrder",1),gT(bT,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),gT(bT,"pt",void 0),gT(bT,"filterMatchModeOptions",{text:[fT.STARTS_WITH,fT.CONTAINS,fT.NOT_CONTAINS,fT.ENDS_WITH,fT.EQUALS,fT.NOT_EQUALS],numeric:[fT.EQUALS,fT.NOT_EQUALS,fT.LESS_THAN,fT.LESS_THAN_OR_EQUAL_TO,fT.GREATER_THAN,fT.GREATER_THAN_OR_EQUAL_TO],date:[fT.DATE_IS,fT.DATE_IS_NOT,fT.DATE_BEFORE,fT.DATE_AFTER]}),gT(bT,"changeTheme",(function(e,t,n,r){var i,o=document.getElementById(n),s=o.cloneNode(!0),a=o.getAttribute("href").replace(e,t);s.setAttribute("id",n+"-clone"),s.setAttribute("href",a),s.addEventListener("load",(function(){o.remove(),s.setAttribute("id",n),r&&r()})),null===(i=o.parentNode)||void 0===i||i.insertBefore(s,o.nextSibling)}));var _T={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",prevMilliSecond:"Previous Second",nextMilliSecond:"Next Second",am:"am",pm:"pm",today:"Today",now:"Now",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function wT(e,t){var n=t||bT.locale;try{return ET(n)[e]}catch(It){throw new Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}function ET(e){var t=e||bT.locale;return _T[t]}Object.freeze({SUCCESS:"success",INFO:"info",WARN:"warn",ERROR:"error"}),Object.freeze({ALIGN_CENTER:"pi pi-align-center",ALIGN_JUSTIFY:"pi pi-align-justify",ALIGN_LEFT:"pi pi-align-left",ALIGN_RIGHT:"pi pi-align-right",AMAZON:"pi pi-amazon",ANDROID:"pi pi-android",ANGLE_DOUBLE_DOWN:"pi pi-angle-double-down",ANGLE_DOUBLE_LEFT:"pi pi-angle-double-left",ANGLE_DOUBLE_RIGHT:"pi pi-angle-double-right",ANGLE_DOUBLE_UP:"pi pi-angle-double-up",ANGLE_DOWN:"pi pi-angle-down",ANGLE_LEFT:"pi pi-angle-left",ANGLE_RIGHT:"pi pi-angle-right",ANGLE_UP:"pi pi-angle-up",APPLE:"pi pi-apple",ARROW_CIRCLE_DOWN:"pi pi-arrow-circle-down",ARROW_CIRCLE_LEFT:"pi pi-arrow-circle-left",ARROW_CIRCLE_RIGHT:"pi pi-arrow-circle-right",ARROW_CIRCLE_UP:"pi pi-arrow-circle-up",ARROW_DOWN:"pi pi-arrow-down",ARROW_DOWN_LEFT:"pi pi-arrow-down-left",ARROW_DOWN_RIGHT:"pi pi-arrow-down-right",ARROW_LEFT:"pi pi-arrow-left",ARROW_RIGHT:"pi pi-arrow-right",ARROW_RIGHT_ARROW_LEFT:"pi pi-arrow-right-arrow-left",ARROW_UP:"pi pi-arrow-up",ARROW_UP_LEFT:"pi pi-arrow-up-left",ARROW_UP_RIGHT:"pi pi-arrow-up-right",ARROWS_ALT:"pi pi-arrows-alt",ARROWS_H:"pi pi-arrows-h",ARROWS_V:"pi pi-arrows-v",AT:"pi pi-at",BACKWARD:"pi pi-backward",BAN:"pi pi-ban",BARS:"pi pi-bars",BELL:"pi pi-bell",BITCOIN:"pi pi-bitcoin",BOLT:"pi pi-bolt",BOOK:"pi pi-book",BOOKMARK:"pi pi-bookmark",BOOKMARK_FILL:"pi pi-bookmark-fill",BOX:"pi pi-box",BRIEFCASE:"pi pi-briefcase",BUILDING:"pi pi-building",CALCULATOR:"pi pi-calculator",CALENDAR:"pi pi-calendar",CALENDAR_MINUS:"pi pi-calendar-minus",CALENDAR_PLUS:"pi pi-calendar-plus",CALENDAR_TIMES:"pi pi-calendar-times",CAMERA:"pi pi-camera",CAR:"pi pi-car",CARET_DOWN:"pi pi-caret-down",CARET_LEFT:"pi pi-caret-left",CARET_RIGHT:"pi pi-caret-right",CARET_UP:"pi pi-caret-up",CART_PLUS:"pi pi-cart-plus",CHART_BAR:"pi pi-chart-bar",CHART_LINE:"pi pi-chart-line",CHART_PIE:"pi pi-chart-pie",CHECK:"pi pi-check",CHECK_CIRCLE:"pi pi-check-circle",CHECK_SQUARE:"pi pi-check-square",CHEVRON_CIRCLE_DOWN:"pi pi-chevron-circle-down",CHEVRON_CIRCLE_LEFT:"pi pi-chevron-circle-left",CHEVRON_CIRCLE_RIGHT:"pi pi-chevron-circle-right",CHEVRON_CIRCLE_UP:"pi pi-chevron-circle-up",CHEVRON_DOWN:"pi pi-chevron-down",CHEVRON_LEFT:"pi pi-chevron-left",CHEVRON_RIGHT:"pi pi-chevron-right",CHEVRON_UP:"pi pi-chevron-up",CIRCLE:"pi pi-circle",CIRCLE_FILL:"pi pi-circle-fill",CIRCLE_OFF:"pi pi-circle-off",CIRCLE_ON:"pi pi-circle-on",CLOCK:"pi pi-clock",CLONE:"pi pi-clone",CLOUD:"pi pi-cloud",CLOUD_DOWNLOAD:"pi pi-cloud-download",CLOUD_UPLOAD:"pi pi-cloud-upload",CODE:"pi pi-code",COG:"pi pi-cog",COMMENT:"pi pi-comment",COMMENTS:"pi pi-comments",COMPASS:"pi pi-compass",COPY:"pi pi-copy",CREDIT_CARD:"pi pi-credit-card",DATABASE:"pi pi-database",DELETE_LEFT:"pi pi-delete-left",DESKTOP:"pi pi-desktop",DIRECTIONS:"pi pi-directions",DIRECTIONS_ALT:"pi pi-directions-alt",DISCORD:"pi pi-discord",DOLLAR:"pi pi-dollar",DOWNLOAD:"pi pi-download",EJECT:"pi pi-eject",ELLIPSIS_H:"pi pi-ellipsis-h",ELLIPSIS_V:"pi pi-ellipsis-v",ENVELOPE:"pi pi-envelope",ERASER:"pi pi-eraser",EURO:"pi pi-euro",EXCLAMATION_CIRCLE:"pi pi-exclamation-circle",EXCLAMATION_TRIANGLE:"pi pi-exclamation-triangle",EXTERNAL_LINK:"pi pi-external-link",EYE:"pi pi-eye",EYE_SLASH:"pi pi-eye-slash",FACEBOOK:"pi pi-facebook",FAST_BACKWARD:"pi pi-fast-backward",FAST_FORWARD:"pi pi-fast-forward",FILE:"pi pi-file",FILE_EDIT:"pi pi-file-edit",FILE_EXCEL:"pi pi-file-excel",FILE_EXPORT:"pi pi-file-export",FILE_IMPORT:"pi pi-file-import",FILE_O:"pi pi-file-o",FILE_PDF:"pi pi-file-pdf",FILE_WORD:"pi pi-file-word",FILTER:"pi pi-filter",FILTER_FILL:"pi pi-filter-fill",FILTER_SLASH:"pi pi-filter-slash",FLAG:"pi pi-flag",FLAG_FILL:"pi pi-flag-fill",FOLDER:"pi pi-folder",FOLDER_OPEN:"pi pi-folder-open",FORWARD:"pi pi-forward",GIFT:"pi pi-gift",GITHUB:"pi pi-github",GLOBE:"pi pi-globe",GOOGLE:"pi pi-google",HASHTAG:"pi pi-hashtag",HEART:"pi pi-heart",HEART_FILL:"pi pi-heart-fill",HISTORY:"pi pi-history",HOME:"pi pi-home",HOURGLASS:"pi pi-hourglass",ID_CARD:"pi pi-id-card",IMAGE:"pi pi-image",IMAGES:"pi pi-images",INBOX:"pi pi-inbox",INFO:"pi pi-info",INFO_CIRCLE:"pi pi-info-circle",INSTAGRAM:"pi pi-instagram",KEY:"pi pi-key",LANGUAGE:"pi pi-language",LINK:"pi pi-link",LINKEDIN:"pi pi-linkedin",LIST:"pi pi-list",LOCK:"pi pi-lock",LOCK_OPEN:"pi pi-lock-open",MAP:"pi pi-map",MAP_MARKER:"pi pi-map-marker",MEGAPHONE:"pi pi-megaphone",MICROPHONE:"pi pi-microphone",MICROSOFT:"pi pi-microsoft",MINUS:"pi pi-minus",MINUS_CIRCLE:"pi pi-minus-circle",MOBILE:"pi pi-mobile",MONEY_BILL:"pi pi-money-bill",MOON:"pi pi-moon",PALETTE:"pi pi-palette",PAPERCLIP:"pi pi-paperclip",PAUSE:"pi pi-pause",PAYPAL:"pi pi-paypal",PENCIL:"pi pi-pencil",PERCENTAGE:"pi pi-percentage",PHONE:"pi pi-phone",PLAY:"pi pi-play",PLUS:"pi pi-plus",PLUS_CIRCLE:"pi pi-plus-circle",POUND:"pi pi-pound",POWER_OFF:"pi pi-power-off",PRIME:"pi pi-prime",PRINT:"pi pi-print",QRCODE:"pi pi-qrcode",QUESTION:"pi pi-question",QUESTION_CIRCLE:"pi pi-question-circle",REDDIT:"pi pi-reddit",REFRESH:"pi pi-refresh",REPLAY:"pi pi-replay",REPLY:"pi pi-reply",SAVE:"pi pi-save",SEARCH:"pi pi-search",SEARCH_MINUS:"pi pi-search-minus",SEARCH_PLUS:"pi pi-search-plus",SEND:"pi pi-send",SERVER:"pi pi-server",SHARE_ALT:"pi pi-share-alt",SHIELD:"pi pi-shield",SHOPPING_BAG:"pi pi-shopping-bag",SHOPPING_CART:"pi pi-shopping-cart",SIGN_IN:"pi pi-sign-in",SIGN_OUT:"pi pi-sign-out",SITEMAP:"pi pi-sitemap",SLACK:"pi pi-slack",SLIDERS_H:"pi pi-sliders-h",SLIDERS_V:"pi pi-sliders-v",SORT:"pi pi-sort",SORT_ALPHA_DOWN:"pi pi-sort-alpha-down",SORT_ALPHA_DOWN_ALT:"pi pi-sort-alpha-down-alt",SORT_ALPHA_UP:"pi pi-sort-alpha-up",SORT_ALPHA_UP_ALT:"pi pi-sort-alpha-up-alt",SORT_ALT:"pi pi-sort-alt",SORT_ALT_SLASH:"pi pi-sort-alt-slash",SORT_AMOUNT_DOWN:"pi pi-sort-amount-down",SORT_AMOUNT_DOWN_ALT:"pi pi-sort-amount-down-alt",SORT_AMOUNT_UP:"pi pi-sort-amount-up",SORT_AMOUNT_UP_ALT:"pi pi-sort-amount-up-alt",SORT_DOWN:"pi pi-sort-down",SORT_NUMERIC_DOWN:"pi pi-sort-numeric-down",SORT_NUMERIC_DOWN_ALT:"pi pi-sort-numeric-down-alt",SORT_NUMERIC_UP:"pi pi-sort-numeric-up",SORT_NUMERIC_UP_ALT:"pi pi-sort-numeric-up-alt",SORT_UP:"pi pi-sort-up",SPINNER:"pi pi-spinner",STAR:"pi pi-star",STAR_FILL:"pi pi-star-fill",STEP_BACKWARD:"pi pi-step-backward",STEP_BACKWARD_ALT:"pi pi-step-backward-alt",STEP_FORWARD:"pi pi-step-forward",STEP_FORWARD_ALT:"pi pi-step-forward-alt",STOP:"pi pi-stop",STOP_CIRCLE:"pi pi-stop-circle",STOPWATCH:"pi pi-stopwatch",SUN:"pi pi-sun",SYNC:"pi pi-sync",TABLE:"pi pi-table",TABLET:"pi pi-tablet",TAG:"pi pi-tag",TAGS:"pi pi-tags",TELEGRAM:"pi pi-telegram",TH_LARGE:"pi pi-th-large",THUMBS_DOWN:"pi pi-thumbs-down",THUMBS_DOWN_FILL:"pi pi-thumbs-down-fill",THUMBS_UP:"pi pi-thumbs-up",THUMBS_UP_FILL:"pi pi-thumbs-up-fill",TICKET:"pi pi-ticket",TIMES:"pi pi-times",TIMES_CIRCLE:"pi pi-times-circle",TRASH:"pi pi-trash",TRUCK:"pi pi-truck",TWITTER:"pi pi-twitter",UNDO:"pi pi-undo",UNLOCK:"pi pi-unlock",UPLOAD:"pi pi-upload",USER:"pi pi-user",USER_EDIT:"pi pi-user-edit",USER_MINUS:"pi pi-user-minus",USER_PLUS:"pi pi-user-plus",USERS:"pi pi-users",VERIFIED:"pi pi-verified",VIDEO:"pi pi-video",VIMEO:"pi pi-vimeo",VOLUME_DOWN:"pi pi-volume-down",VOLUME_OFF:"pi pi-volume-off",VOLUME_UP:"pi pi-volume-up",WALLET:"pi pi-wallet",WHATSAPP:"pi pi-whatsapp",WIFI:"pi pi-wifi",WINDOW_MAXIMIZE:"pi pi-window-maximize",WINDOW_MINIMIZE:"pi pi-window-minimize",WRENCH:"pi pi-wrench",YOUTUBE:"pi pi-youtube"}),Object.freeze({DESC:-1,UNSORTED:0,ASC:1});var ST=t.createContext(),CT=bT;function kT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xT(e,t){if(e){if("string"===typeof e)return kT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kT(e,t):void 0}}function TT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||xT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var IT=function(e){var n=t.useRef(void 0);return t.useEffect((function(){n.current=e})),n.current},DT=function(e){return t.useEffect((function(){return e}),[])},NT=function(e){var n=e.target,r=void 0===n?"document":n,i=e.type,o=e.listener,s=e.options,a=e.when,l=void 0===a||a,u=t.useRef(null),c=t.useRef(null),h=IT(o),d=IT(s),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tT.isNotEmpty(e.target)&&(p(),(e.when||l)&&(u.current=Xx.getTargetElement(e.target))),!c.current&&u.current&&(c.current=function(e){return o&&o(e)},u.current.addEventListener(i,c.current,s))},p=function(){c.current&&(u.current.removeEventListener(i,c.current,s),c.current=null)};return t.useEffect((function(){l?u.current=Xx.getTargetElement(r):(p(),u.current=null)}),[r,l]),t.useEffect((function(){!c.current||""+h===""+o&&d===s||(p(),l&&f())}),[o,s,l]),DT((function(){p()})),[f,p]};function OT(e){return function(e){if(Array.isArray(e))return kT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var PT={escKeyListeners:new Map,onGlobalKeyDown:function(e){if("Escape"===e.code){var t=PT.escKeyListeners,n=Math.max.apply(Math,OT(t.keys())),r=t.get(n),i=Math.max.apply(Math,OT(r.keys()));r.get(i)(e)}},refreshGlobalKeyDownListener:function(){var e=Xx.getTargetElement("document");this.escKeyListeners.size>0?e.addEventListener("keydown",this.onGlobalKeyDown):e.removeEventListener("keydown",this.onGlobalKeyDown)},addListener:function(e,t){var n=this,r=TT(t,2),i=r[0],o=r[1],s=this.escKeyListeners;s.has(i)||s.set(i,new Map);var a=s.get(i);if(a.has(o))throw new Error("Unexpected: global esc key listener with priority [".concat(i,", ").concat(o,"] already exists."));return a.set(o,e),this.refreshGlobalKeyDownListener(),function(){a.delete(o),0===a.size&&s.delete(i),n.refreshGlobalKeyDownListener()}}};function AT(e){return AT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AT(e)}function RT(e){var t=function(e,t){if("object"!==AT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===AT(t)?t:String(t)}function MT(e,t,n){return(t=RT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var FT=function(){var e=(0,t.useContext)(ST);return function(){for(var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(n),!0).forEach((function(t){MT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(null===e||void 0===e||null===(t=e.ptOptions)||void 0===t?void 0:t.classNameMergeFunction)&&{classNameMergeFunction:e.classNameMergeFunction}),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return uT(i,n)}},jT=function(e){var n=t.useRef(!1);return t.useEffect((function(){if(!n.current)return n.current=!0,e&&e()}),[])};var UT=function(e){var n=e.target,r=e.listener,i=e.options,o=e.when,s=void 0===o||o,a=t.useRef(null),l=t.useRef(null),u=t.useRef([]),c=IT(i),h=t.useContext(ST),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(tT.isNotEmpty(e.target)&&(f(),(e.when||s)&&(a.current=Xx.getTargetElement(e.target))),!l.current&&a.current){var t=h?h.hideOverlaysOnDocumentScrolling:CT.hideOverlaysOnDocumentScrolling,n=u.current=Xx.getScrollableParents(a.current,t);l.current=function(e){return r&&r(e)},n.forEach((function(e){return e.addEventListener("scroll",l.current,i)}))}},f=function(){l.current&&(u.current.forEach((function(e){return e.removeEventListener("scroll",l.current,i)})),l.current=null)};return t.useEffect((function(){s?a.current=Xx.getTargetElement(n):(f(),a.current=null)}),[n,s]),t.useEffect((function(){!l.current||l.current===r&&c===i||(f(),s&&d())}),[r,i]),DT((function(){f()})),[d,f]},BT=function(e){var t=e.listener,n=e.when;return NT({target:"window",type:"resize",listener:t,when:void 0===n||n})},VT=0,qT=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=TT((0,t.useState)(!1),2),i=r[0],o=r[1],s=(0,t.useRef)(null),a=(0,t.useContext)(ST),l=Xx.isClient()?window.document:void 0,u=n.document,c=void 0===u?l:u,h=n.manual,d=void 0!==h&&h,f=n.name,p=void 0===f?"style_".concat(++VT):f,m=n.id,g=void 0===m?void 0:m,y=n.media,v=void 0===y?void 0:y,b=function(){if(c&&!i){var t=(null===a||void 0===a?void 0:a.styleContainer)||c.head;s.current=t.querySelector('style[data-primereact-style-id="'.concat(p,'"]'))||c.getElementById(g)||c.createElement("style"),s.current.isConnected||(s.current.type="text/css",g&&(s.current.id=g),v&&(s.current.media=v),Xx.addNonce(s.current,a&&a.nonce||CT.nonce),t.appendChild(s.current),p&&s.current.setAttribute("data-primereact-style-id",p)),s.current.textContent=e,o(!0)}};return(0,t.useEffect)((function(){d||b()}),[d]),{id:g,name:p,update:function(t){i&&e!==t&&(s.current.textContent=t)},unload:function(){c&&s.current&&(Xx.removeInlineStyle(s.current),o(!1))},load:b,isLoaded:i}},zT=function(e,n){var r=t.useRef(!1);return t.useEffect((function(){if(r.current)return e&&e();r.current=!0}),n)};function WT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HT(e){return function(e){if(Array.isArray(e))return WT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return WT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WT(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KT(e){return KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KT(e)}function GT(e){var t=function(e,t){if("object"!==KT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==KT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===KT(t)?t:String(t)}function QT(e,t,n){return(t=GT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YT(Object(n),!0).forEach((function(t){QT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var XT="\n@layer primereact {\n    .p-component, .p-component * {\n        box-sizing: border-box;\n    }\n\n    .p-hidden {\n        display: none;\n    }\n\n    .p-hidden-space {\n        visibility: hidden;\n    }\n\n    .p-reset {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        outline: 0;\n        text-decoration: none;\n        font-size: 100%;\n        list-style: none;\n    }\n\n    .p-disabled, .p-disabled * {\n        cursor: default;\n        pointer-events: none;\n        user-select: none;\n    }\n\n    .p-component-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    .p-unselectable-text {\n        user-select: none;\n    }\n\n    .p-scrollbar-measure {\n        width: 100px;\n        height: 100px;\n        overflow: scroll;\n        position: absolute;\n        top: -9999px;\n    }\n\n    @-webkit-keyframes p-fadein {\n      0%   { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    @keyframes p-fadein {\n      0%   { opacity: 0; }\n      100% { opacity: 1; }\n    }\n\n    .p-link {\n        text-align: left;\n        background-color: transparent;\n        margin: 0;\n        padding: 0;\n        border: none;\n        cursor: pointer;\n        user-select: none;\n    }\n\n    .p-link:disabled {\n        cursor: default;\n    }\n\n    /* Non react overlay animations */\n    .p-connected-overlay {\n        opacity: 0;\n        transform: scaleY(0.8);\n        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);\n    }\n\n    .p-connected-overlay-visible {\n        opacity: 1;\n        transform: scaleY(1);\n    }\n\n    .p-connected-overlay-hidden {\n        opacity: 0;\n        transform: scaleY(1);\n        transition: opacity .1s linear;\n    }\n\n    /* React based overlay animations */\n    .p-connected-overlay-enter {\n        opacity: 0;\n        transform: scaleY(0.8);\n    }\n\n    .p-connected-overlay-enter-active {\n        opacity: 1;\n        transform: scaleY(1);\n        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);\n    }\n\n    .p-connected-overlay-enter-done {\n        transform: none;\n    }\n\n    .p-connected-overlay-exit {\n        opacity: 1;\n    }\n\n    .p-connected-overlay-exit-active {\n        opacity: 0;\n        transition: opacity .1s linear;\n    }\n\n    /* Toggleable Content */\n    .p-toggleable-content-enter {\n        max-height: 0;\n    }\n\n    .p-toggleable-content-enter-active {\n        overflow: hidden;\n        max-height: 1000px;\n        transition: max-height 1s ease-in-out;\n    }\n\n    .p-toggleable-content-enter-done {\n        transform: none;\n    }\n\n    .p-toggleable-content-exit {\n        max-height: 1000px;\n    }\n\n    .p-toggleable-content-exit-active {\n        overflow: hidden;\n        max-height: 0;\n        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);\n    }\n\n    .p-sr-only {\n        border: 0;\n        clip: rect(1px, 1px, 1px, 1px);\n        clip-path: inset(50%);\n        height: 1px;\n        margin: -1px;\n        overflow: hidden;\n        padding: 0;\n        position: absolute;\n        width: 1px;\n        word-wrap: normal;\n    }\n\n    /* @todo Refactor */\n    .p-menu .p-menuitem-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n    }\n\n    ".concat("\n.p-button {\n    margin: 0;\n    display: inline-flex;\n    cursor: pointer;\n    user-select: none;\n    align-items: center;\n    vertical-align: bottom;\n    text-align: center;\n    overflow: hidden;\n    position: relative;\n}\n\n.p-button-label {\n    flex: 1 1 auto;\n}\n\n.p-button-icon-right {\n    order: 1;\n}\n\n.p-button:disabled {\n    cursor: default;\n}\n\n.p-button-icon-only {\n    justify-content: center;\n}\n\n.p-button-icon-only .p-button-label {\n    visibility: hidden;\n    width: 0;\n    flex: 0 0 auto;\n}\n\n.p-button-vertical {\n    flex-direction: column;\n}\n\n.p-button-icon-bottom {\n    order: 2;\n}\n\n.p-buttonset .p-button {\n    margin: 0;\n}\n\n.p-buttonset .p-button:not(:last-child) {\n    border-right: 0 none;\n}\n\n.p-buttonset .p-button:not(:first-of-type):not(:last-of-type) {\n    border-radius: 0;\n}\n\n.p-buttonset .p-button:first-of-type {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.p-buttonset .p-button:last-of-type {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n.p-buttonset .p-button:focus {\n    position: relative;\n    z-index: 1;\n}\n","\n    ").concat("\n.p-checkbox {\n    display: inline-flex;\n    cursor: pointer;\n    user-select: none;\n    vertical-align: bottom;\n    position: relative;\n}\n\n.p-checkbox.p-checkbox-disabled {\n    cursor: auto;\n}\n\n.p-checkbox-box {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n","\n    ").concat("\n.p-inputtext {\n    margin: 0;\n}\n\n.p-fluid .p-inputtext {\n    width: 100%;\n}\n\n/* InputGroup */\n.p-inputgroup {\n    display: flex;\n    align-items: stretch;\n    width: 100%;\n}\n\n.p-inputgroup-addon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.p-inputgroup .p-float-label {\n    display: flex;\n    align-items: stretch;\n    width: 100%;\n}\n\n.p-inputgroup .p-inputtext,\n.p-fluid .p-inputgroup .p-inputtext,\n.p-inputgroup .p-inputwrapper,\n.p-fluid .p-inputgroup .p-input {\n    flex: 1 1 auto;\n    width: 1%;\n}\n\n/* Floating Label */\n.p-float-label {\n    display: block;\n    position: relative;\n}\n\n.p-float-label label {\n    position: absolute;\n    pointer-events: none;\n    top: 50%;\n    margin-top: -0.5rem;\n    transition-property: all;\n    transition-timing-function: ease;\n    line-height: 1;\n}\n\n.p-float-label textarea ~ label,\n.p-float-label .p-mention ~ label {\n    top: 1rem;\n}\n\n.p-float-label input:focus ~ label,\n.p-float-label input:-webkit-autofill ~ label,\n.p-float-label input.p-filled ~ label,\n.p-float-label textarea:focus ~ label,\n.p-float-label textarea.p-filled ~ label,\n.p-float-label .p-inputwrapper-focus ~ label,\n.p-float-label .p-inputwrapper-filled ~ label,\n.p-float-label .p-tooltip-target-wrapper ~ label {\n    top: -0.75rem;\n    font-size: 12px;\n}\n\n.p-float-label .p-placeholder,\n.p-float-label input::placeholder,\n.p-float-label .p-inputtext::placeholder {\n    opacity: 0;\n    transition-property: all;\n    transition-timing-function: ease;\n}\n\n.p-float-label .p-focus .p-placeholder,\n.p-float-label input:focus::placeholder,\n.p-float-label .p-inputtext:focus::placeholder {\n    opacity: 1;\n    transition-property: all;\n    transition-timing-function: ease;\n}\n\n.p-input-icon-left,\n.p-input-icon-right {\n    position: relative;\n    display: inline-block;\n}\n\n.p-input-icon-left > i,\n.p-input-icon-right > i,\n.p-input-icon-left > svg,\n.p-input-icon-right > svg,\n.p-input-icon-left > .p-input-prefix,\n.p-input-icon-right > .p-input-suffix {\n    position: absolute;\n    top: 50%;\n    margin-top: -0.5rem;\n}\n\n.p-fluid .p-input-icon-left,\n.p-fluid .p-input-icon-right {\n    display: block;\n    width: 100%;\n}\n","\n    ").concat("\n.p-radiobutton {\n    display: inline-flex;\n    cursor: pointer;\n    user-select: none;\n    vertical-align: bottom;\n}\n\n.p-radiobutton-box {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.p-radiobutton-icon {\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    transform: translateZ(0) scale(.1);\n    border-radius: 50%;\n    visibility: hidden;\n}\n\n.p-radiobutton-box.p-highlight .p-radiobutton-icon {\n    transform: translateZ(0) scale(1.0, 1.0);\n    visibility: visible;\n}\n\n","\n    ").concat("\n.p-icon {\n    display: inline-block;\n}\n\n.p-icon-spin {\n    -webkit-animation: p-icon-spin 2s infinite linear;\n    animation: p-icon-spin 2s infinite linear;\n}\n\nsvg.p-icon {\n    pointer-events: auto;\n}\n\nsvg.p-icon g,\n.p-disabled svg.p-icon {\n    pointer-events: none;\n}\n\n@-webkit-keyframes p-icon-spin {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(359deg);\n        transform: rotate(359deg);\n    }\n}\n\n@keyframes p-icon-spin {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(359deg);\n        transform: rotate(359deg);\n    }\n}\n","\n}\n"),JT={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.css,n=$T($T({},e.defaultProps),JT.defaultProps),r={},i=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.hasOwnProperty("pt")&&void 0!==t.pt&&(t=t.pt);var o=n,s=/./g.test(o)&&!!r[o.split(".")[0]],a=s?tT.toFlatCase(o.split(".")[1]):tT.toFlatCase(o),l=r.hostName&&tT.toFlatCase(r.hostName)||r.props&&r.props.__TYPE&&tT.toFlatCase(r.props.__TYPE)||"",u="transition"===a,c="data-pc-",h=function e(t){return null!==t&&void 0!==t&&t.props?t.hostName?t.props.__TYPE===t.hostName?t.props:e(t.parent):t.parent:void 0};JT.cParams=r,JT.cName=l;var d=function(e){var t,n;return(null===(t=r.props)||void 0===t?void 0:t[e])||(null===(n=h(r))||void 0===n?void 0:n[e])}("ptOptions")||JT.context.ptOptions||{},f=d.mergeSections,p=void 0===f||f,m=d.mergeProps,g=void 0!==m&&m,y=function(){var e=ZT.apply(void 0,arguments);return Array.isArray(e)?{className:qx.apply(void 0,HT(e))}:tT.isString(e)?{className:e}:null!==e&&void 0!==e&&e.hasOwnProperty("className")&&Array.isArray(e.className)?{className:qx.apply(void 0,HT(e.className))}:e},v=i?s?nI(y,o,r):rI(y,o,r):void 0,b=s?void 0:tI(eI(t,l),y,o,r),_=!u&&$T($T({},"root"===a&&QT({},"".concat(c,"name"),r.props&&r.props.__parentMetadata?tT.toFlatCase(r.props.__TYPE):l)),{},QT({},"".concat(c,"section"),a));return p||!p&&b?g?uT([v,b,Object.keys(_).length?_:{}],{classNameMergeFunction:null===(e=JT.context.ptOptions)||void 0===e?void 0:e.classNameMergeFunction}):$T($T($T({},v),b),Object.keys(_).length?_:{}):$T($T({},b),Object.keys(_).length?_:{})};return $T($T({getProps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JT.context=t,JT.cProps=e,tT.getMergedProps(e,n)},getOtherProps:function(e){return tT.getDiffProps(e,n)},setMetaData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,o=e.state,s=function(){return JT.context.unstyled||CT.unstyled||n.unstyled};return{ptm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((n||{}).pt,t,$T($T({},e),r))},ptmo:function(){return i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},!1)},sx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var s,a=ZT(t&&t.inlineStyles,e,$T({props:n,state:o},i));return uT([ZT(r,e,$T({props:n,state:o},i)),a],{classNameMergeFunction:null===(s=JT.context.ptOptions)||void 0===s?void 0:s.classNameMergeFunction})}},cx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s()?void 0:ZT(t&&t.classes,e,$T({props:n,state:o},r))},isUnstyled:s}}},e),{},{defaultProps:n})}},ZT=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=String(tT.toFlatCase(n)).split("."),o=i.shift(),s=tT.isNotEmpty(t)?Object.keys(t).find((function(e){return tT.toFlatCase(e)===o})):"";return o?tT.isObject(t)?e(tT.getItemValue(t[s],r),i.join("."),r):void 0:tT.getItemValue(t,r)},eI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=null===e||void 0===e?void 0:e._usept,i=function(e){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n?n(e):e,s=tT.toFlatCase(t);return null!==(r=i?s!==JT.cName?null===o||void 0===o?void 0:o[s]:void 0:null===o||void 0===o?void 0:o[s])&&void 0!==r?r:o};return tT.isNotEmpty(r)?{_usept:r,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},tI=function(e,t,n,r){var i=function(e){return t(e,n,r)};if(null!==e&&void 0!==e&&e.hasOwnProperty("_usept")){var o=e._usept||JT.context.ptOptions||{},s=o.mergeSections,a=void 0===s||s,l=o.mergeProps,u=void 0!==l&&l,c=o.classNameMergeFunction,h=i(e.originalValue),d=i(e.value);if(void 0===h&&void 0===d)return;return tT.isString(d)?d:tT.isString(h)?h:a||!a&&d?u?uT([h,d],{classNameMergeFunction:c}):$T($T({},h),d):d}return i(e)},nI=function(e,t,n){return tI(eI(JT.context.pt||CT.pt,void 0,(function(e){return tT.getItemValue(e,JT.cParams)})),e,t,n)},rI=function(e,t,n){return tI(eI(JT.context.pt||CT.pt,void 0,(function(e){return ZT(e,JT.cName,JT.cParams)||tT.getItemValue(e,JT.cParams)})),e,t,n)},iI=function(e){var t=arguments.length>2?arguments[2]:void 0,n=t.name,r=t.styled,i=void 0!==r&&r,o=t.hostName,s=void 0===o?"":o,a=nI(ZT,"global.css",JT.cParams),l=tT.toFlatCase(n),u=qT("\n.p-hidden-accessible {\n    border: 0;\n    clip: rect(0 0 0 0);\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    width: 1px;\n}\n\n.p-hidden-accessible input,\n.p-hidden-accessible select {\n    transform: scale(0);\n}\n\n.p-overflow-hidden {\n    overflow: hidden;\n    padding-right: var(--scrollbar-width);\n}\n",{name:"base",manual:!0}).load,c=qT(XT,{name:"common",manual:!0}).load,h=qT(a,{name:"global",manual:!0}).load,d=qT(e,{name:n,manual:!0}).load,f=function(e){if(!s){var t=tI(eI((JT.cProps||{}).pt,l),ZT,"hooks.".concat(e)),n=rI(ZT,"hooks.".concat(e));null===t||void 0===t||t(),null===n||void 0===n||n()}};f("useMountEffect"),jT((function(){u(),h(),c(),i||d()})),zT((function(){f("useUpdateEffect")})),DT((function(){f("useUnmountEffect")}))},oI={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return tT.getMergedProps(e,oI.defaultProps)},getOtherProps:function(e){return tT.getDiffProps(e,oI.defaultProps)},getPTI:function(e){var t=tT.isEmpty(e.label),n=oI.getOtherProps(e),r={className:qx("p-icon",{"p-icon-spin":e.spin},e.className),role:t?void 0:"img","aria-label":t?void 0:e.label,"aria-hidden":t};return tT.getMergedProps(n,r)}};function sI(){return sI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sI.apply(this,arguments)}function aI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lI(e,t){if(e){if("string"===typeof e)return aI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aI(e,t):void 0}}function uI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||lI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cI(e){return cI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cI(e)}function hI(e){return function(e){if(Array.isArray(e))return aI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dI(e){var t=function(e,t){if("object"!==cI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cI(t)?t:String(t)}function fI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dI(r.key),r)}}function pI(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return mI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function mI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gI=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"equals",value:function(e,t,n){return n&&e&&"object"===cI(e)&&t&&"object"===cI(t)?this.deepEquals(this.resolveFieldData(e,n),this.resolveFieldData(t,n)):this.deepEquals(e,t)}},{key:"deepEquals",value:function(e,t){if(e===t)return!0;if(e&&t&&"object"==cI(e)&&"object"==cI(t)){var n,r,i,o=Array.isArray(e),s=Array.isArray(t);if(o&&s){if((r=e.length)!==t.length)return!1;for(n=r;0!==n--;)if(!this.deepEquals(e[n],t[n]))return!1;return!0}if(o!==s)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!==l)return!1;if(a&&l)return e.getTime()===t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!==c)return!1;if(u&&c)return e.toString()===t.toString();var h=Object.keys(e);if((r=h.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,h[n]))return!1;for(n=r;0!==n--;)if(i=h[n],!this.deepEquals(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}},{key:"resolveFieldData",value:function(e,t){if(!e||!t)return null;try{var n=e[t];if(this.isNotEmpty(n))return n}catch(a){}if(Object.keys(e).length){if(this.isFunction(t))return t(e);if(this.isNotEmpty(e[t]))return e[t];if(-1===t.indexOf("."))return e[t];for(var r=t.split("."),i=e,o=0,s=r.length;o<s;++o){if(null==i)return null;i=i[r[o]]}return i}return null}},{key:"findDiffKeys",value:function(e,t){return e&&t?Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)})).reduce((function(t,n){return t[n]=e[n],t}),{}):{}}},{key:"reduceKeys",value:function(e,t){var n={};return e&&t&&0!==t.length?(Object.keys(e).filter((function(e){return t.some((function(t){return e.startsWith(t)}))})).forEach((function(t){n[t]=e[t],delete e[t]})),n):n}},{key:"reorderArray",value:function(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))}},{key:"findIndexInList",value:function(e,t,n){var r=this;return t?n?t.findIndex((function(t){return r.equals(t,e,n)})):t.findIndex((function(t){return t===e})):-1}},{key:"getJSXElement",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getItemValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e?e[t]:void 0;return void 0===r?n[t]:r}},{key:"getPropCaseInsensitive",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.toFlatCase(t);for(var i in e)if(e.hasOwnProperty(i)&&this.toFlatCase(i)===r)return e[i];for(var o in n)if(n.hasOwnProperty(o)&&this.toFlatCase(o)===r)return n[o]}},{key:"getMergedProps",value:function(e,t){return Object.assign({},t,e)}},{key:"getDiffProps",value:function(e,t){return this.findDiffKeys(e,t)}},{key:"getPropValue",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.isFunction(e)?e.apply(void 0,n):e}},{key:"getComponentProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(e)?this.getProp(e.props,t,n):void 0}},{key:"getComponentProps",value:function(e,t){return this.isNotEmpty(e)?this.getMergedProps(e.props,t):void 0}},{key:"getComponentDiffProps",value:function(e,t){return this.isNotEmpty(e)?this.getDiffProps(e.props,t):void 0}},{key:"isValidChild",value:function(e,t,n){if(e){var r,i=this.getComponentProp(e,"__TYPE")||(e.type?e.type.displayName:void 0);!i&&null!==e&&void 0!==e&&null!==(r=e.type)&&void 0!==r&&null!==(r=r._payload)&&void 0!==r&&r.value&&(i=e.type._payload.value.find((function(e){return e===t})));var o=i===t;return o}return!1}},{key:"getRefElement",value:function(e){return e?"object"===cI(e)&&e.hasOwnProperty("current")?e.current:e:null}},{key:"combinedRefs",value:function(e,t){e&&t&&("function"===typeof t?t(e.current):t.current=e.current)}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"toFlatCase",value:function(e){return this.isNotEmpty(e)&&this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e}},{key:"toCapitalCase",value:function(e){return this.isNotEmpty(e)&&this.isString(e)?e[0].toUpperCase()+e.slice(1):e}},{key:"trim",value:function(e){return this.isNotEmpty(e)&&this.isString(e)?e.trim():e}},{key:"isEmpty",value:function(e){return null===e||void 0===e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"===cI(e)&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isObject",value:function(e){return null!==e&&e instanceof Object&&e.constructor===Object}},{key:"isDate",value:function(e){return null!==e&&e instanceof Date&&e.constructor===Date}},{key:"isArray",value:function(e){return null!==e&&Array.isArray(e)}},{key:"isString",value:function(e){return null!==e&&"string"===typeof e}},{key:"isPrintableCharacter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}},{key:"isLetter",value:function(e){return/^[a-zA-Z\u00C0-\u017F]$/.test(e)}},{key:"findLast",value:function(e,t){var n;if(this.isNotEmpty(e))try{n=e.findLast(t)}catch(r){n=hI(e).reverse().find(t)}return n}},{key:"findLastIndex",value:function(e,t){var n=-1;if(this.isNotEmpty(e))try{n=e.findLastIndex(t)}catch(r){n=e.lastIndexOf(hI(e).reverse().find(t))}return n}},{key:"sort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=this.compare(e,t,r,n),s=n;return(this.isEmpty(e)||this.isEmpty(t))&&(s=1===i?n:i),s*o}},{key:"compare",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=this.isEmpty(e),o=this.isEmpty(t);return i&&o?0:i?r:o?-r:"string"===typeof e&&"string"===typeof t?n(e,t):e<t?-1:e>t?1:0}},{key:"localeComparator",value:function(e){return new Intl.Collator(e,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(e,t){var n,r=pI(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.key===t)return i.children||[];if(i.children){var o=this.findChildrenByKey(i.children,t);if(o.length>0)return o}}}catch(s){r.e(s)}finally{r.f()}return[]}},{key:"mutateFieldData",value:function(e,t,n){if("object"===cI(e)&&"string"===typeof t)for(var r=t.split("."),i=e,o=0,s=r.length;o<s;++o){if(o+1-s===0){i[r[o]]=n;break}i[r[o]]||(i[r[o]]={}),i=i[r[o]]}}}],(n=null)&&fI(t.prototype,n),r&&fI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yI=0;var vI=t.memo(t.forwardRef((function(e,n){var r=oI.getPTI(e),i=uI(t.useState(e.id),2),o=i[0],s=i[1];return t.useEffect((function(){gI.isEmpty(o)&&s(function(){return yI++,"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pr_id_").concat(yI)}("pr_icon_clip_"))}),[o]),t.createElement("svg",sI({ref:n,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t.createElement("g",{clipPath:"url(#".concat(o,")")},t.createElement("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"})),t.createElement("defs",null,t.createElement("clipPath",{id:o},t.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));function bI(){return bI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bI.apply(this,arguments)}function _I(e){return _I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_I(e)}function wI(e){var t=function(e,t){if("object"!==_I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_I(t)?t:String(t)}function EI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return EI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}vI.displayName="SpinnerIcon";var CI=JT.extend({defaultProps:{__TYPE:"Ripple",children:void 0},css:{styles:"\n@layer primereact {\n    .p-ripple {\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-ink {\n        display: block;\n        position: absolute;\n        background: rgba(255, 255, 255, 0.5);\n        border-radius: 100%;\n        transform: scale(0);\n    }\n    \n    .p-ink-active {\n        animation: ripple 0.4s linear;\n    }\n    \n    .p-ripple-disabled .p-ink {\n        display: none;\n    }\n}\n\n@keyframes ripple {\n    100% {\n        opacity: 0;\n        transform: scale(2.5);\n    }\n}\n\n",classes:{root:"p-ink"}},getProps:function(e){return tT.getMergedProps(e,CI.defaultProps)},getOtherProps:function(e){return tT.getDiffProps(e,CI.defaultProps)}});function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xI=t.memo(t.forwardRef((function(e,n){var r=SI(t.useState(!1),2),i=r[0],o=r[1],s=t.useRef(null),a=t.useRef(null),l=FT(),u=t.useContext(ST),c=CI.getProps(e,u),h=u&&u.ripple||CT.ripple,d={props:c};qT(CI.css.styles,{name:"ripple",manual:!h});var f=CI.setMetaData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kI(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=wI(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d)),p=f.ptm,m=f.cx,g=function(){return s.current&&s.current.parentElement},y=function(){a.current&&a.current.addEventListener("pointerdown",v)},v=function(e){var t=Xx.getOffset(a.current),n=e.pageX-t.left+document.body.scrollTop-Xx.getWidth(s.current)/2,r=e.pageY-t.top+document.body.scrollLeft-Xx.getHeight(s.current)/2;b(n,r)},b=function(e,t){s.current&&"none"!==getComputedStyle(s.current,null).display&&(Xx.removeClass(s.current,"p-ink-active"),_(),s.current.style.top=t+"px",s.current.style.left=e+"px",Xx.addClass(s.current,"p-ink-active"))},_=function(){if(s.current&&!Xx.getHeight(s.current)&&!Xx.getWidth(s.current)){var e=Math.max(Xx.getOuterWidth(a.current),Xx.getOuterHeight(a.current));s.current.style.height=e+"px",s.current.style.width=e+"px"}};if(t.useImperativeHandle(n,(function(){return{props:c,getInk:function(){return s.current},getTarget:function(){return a.current}}})),jT((function(){o(!0)})),zT((function(){i&&s.current&&(a.current=g(),_(),y())}),[i]),zT((function(){s.current&&!a.current&&(a.current=g(),_(),y())})),DT((function(){s.current&&(a.current=null,a.current&&a.current.removeEventListener("pointerdown",v))})),!h)return null;var w=l({"aria-hidden":!0,className:qx(m("root"))},CI.getOtherProps(c),p("root"));return t.createElement("span",bI({role:"presentation",ref:s},w,{onAnimationEnd:function(e){Xx.removeClass(e.currentTarget,"p-ink-active")}}))})));function TI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function II(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return TI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}xI.displayName="Ripple";var DI={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return tT.getMergedProps(e,DI.defaultProps)},getOtherProps:function(e){return tT.getDiffProps(e,DI.defaultProps)}},NI=t.memo((function(e){var n=DI.getProps(e),r=t.useContext(ST),i=II(t.useState(n.visible&&Xx.isClient()),2),o=i[0],s=i[1];jT((function(){Xx.isClient()&&!o&&(s(!0),n.onMounted&&n.onMounted())})),zT((function(){n.onMounted&&n.onMounted()}),[o]),DT((function(){n.onUnmounted&&n.onUnmounted()}));var a=n.element||n.children;if(a&&o){var l=n.appendTo||r&&r.appendTo||CT.appendTo;return tT.isFunction(l)&&(l=l()),l||(l=document.body),"self"===l?a:Ka.createPortal(a,l)}return null}));function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OI.apply(this,arguments)}function PI(e){return PI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PI(e)}function AI(e){var t=function(e,t){if("object"!==PI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==PI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===PI(t)?t:String(t)}function RI(e,t,n){return(t=AI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LI(e,t){if(e){if("string"===typeof e)return MI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MI(e,t):void 0}}function FI(e){return function(e){if(Array.isArray(e))return MI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||LI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||LI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}NI.displayName="Portal";var UI={root:function(e){var t=e.positionState,n=e.classNameState;return qx("p-tooltip p-component",RI({},"p-tooltip-".concat(t),!0),n)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},BI=JT.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:UI,styles:"\n@layer primereact {\n    .p-tooltip {\n        position: absolute;\n        padding: .25em .5rem;\n        /* #3687: Tooltip prevent scrollbar flickering */\n        top: -9999px;\n        left: -9999px;\n    }\n    \n    .p-tooltip.p-tooltip-right,\n    .p-tooltip.p-tooltip-left {\n        padding: 0 .25rem;\n    }\n    \n    .p-tooltip.p-tooltip-top,\n    .p-tooltip.p-tooltip-bottom {\n        padding:.25em 0;\n    }\n    \n    .p-tooltip .p-tooltip-text {\n       white-space: pre-line;\n       word-break: break-word;\n    }\n    \n    .p-tooltip-arrow {\n        position: absolute;\n        width: 0;\n        height: 0;\n        border-color: transparent;\n        border-style: solid;\n    }\n    \n    .p-tooltip-right .p-tooltip-arrow {\n        top: 50%;\n        left: 0;\n        margin-top: -.25rem;\n        border-width: .25em .25em .25em 0;\n    }\n    \n    .p-tooltip-left .p-tooltip-arrow {\n        top: 50%;\n        right: 0;\n        margin-top: -.25rem;\n        border-width: .25em 0 .25em .25rem;\n    }\n    \n    .p-tooltip.p-tooltip-top {\n        padding: .25em 0;\n    }\n    \n    .p-tooltip-top .p-tooltip-arrow {\n        bottom: 0;\n        left: 50%;\n        margin-left: -.25rem;\n        border-width: .25em .25em 0;\n    }\n    \n    .p-tooltip-bottom .p-tooltip-arrow {\n        top: 0;\n        left: 50%;\n        margin-left: -.25rem;\n        border-width: 0 .25em .25rem;\n    }\n\n    .p-tooltip-target-wrapper {\n        display: inline-flex;\n    }\n}\n",inlineStyles:{arrow:function(e){var t=e.context;return{top:t.bottom?"0":t.right||t.left||!t.right&&!t.left&&!t.top&&!t.bottom?"50%":null,bottom:t.top?"0":null,left:!t.right&&(t.right||t.left||t.top||t.bottom)?t.top||t.bottom?"50%":null:"0",right:t.left?"0":null}}}}});function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VI(Object(n),!0).forEach((function(t){RI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zI=t.memo(t.forwardRef((function(e,n){var r=FT(),i=t.useContext(ST),o=BI.getProps(e,i),s=jI(t.useState(!1),2),a=s[0],l=s[1],u=jI(t.useState(o.position),2),c=u[0],h=u[1],d=jI(t.useState(""),2),f=d[0],p=d[1],m={props:o,state:{visible:a,position:c,className:f},context:{right:"right"===c,left:"left"===c,top:"top"===c,bottom:"bottom"===c}},g=BI.setMetaData(m),y=g.ptm,v=g.cx,b=g.sx,_=g.isUnstyled;iI(BI.css.styles,_,{name:"tooltip"});var w=t.useRef(null),E=t.useRef(null),S=t.useRef(null),C=t.useRef(null),k=t.useRef(!0),x=t.useRef({}),T=t.useRef(null),I=jI(BT({listener:function(e){!Xx.isTouchDevice()&&W(e)}}),2),D=I[0],N=I[1],O=jI(UT({target:S.current,listener:function(e){W(e)},when:a}),2),P=O[0],A=O[1],R=function(e){return j(e,"mousetrack")||o.mouseTrack},M=function(e){return"true"===j(e,"disabled")||U(e,"disabled")||o.disabled},L=function(e){return j(e,"showondisabled")||o.showOnDisabled},F=function(){return j(S.current,"autohide")||o.autoHide},j=function(e,t){return U(e,"data-pr-".concat(t))?e.getAttribute("data-pr-".concat(t)):null},U=function(e,t){return e&&e.hasAttribute(t)},B=function(e){var t=[j(e,"showevent")||o.showEvent],n=[j(e,"hideevent")||o.hideEvent];if(R(e))t=["mousemove"],n=["mouseleave"];else{var r=j(e,"event")||o.event;"focus"===r&&(t=["focus"],n=["blur"]),"both"===r&&(t=["focus","mouseenter"],n=["blur","mouseleave"])}return{showEvents:t,hideEvents:n}},V=function(e,t){if(E.current){var n=j(e,"tooltip")||o.content;n?(E.current.innerHTML="",E.current.appendChild(document.createTextNode(n)),t()):o.children&&t()}},q=function(e){V(S.current,(function(){var t=T.current,n=t.pageX,r=t.pageY;o.autoZIndex&&!dT.get(w.current)&&dT.set("tooltip",w.current,i&&i.autoZIndex||CT.autoZIndex,o.baseZIndex||i&&i.zIndex.tooltip||CT.zIndex.tooltip),w.current.style.left="",w.current.style.top="",F()&&(w.current.style.pointerEvents="none");var s=R(S.current)||"mouse"===e;(s&&!C.current||s)&&(C.current={width:Xx.getOuterWidth(w.current),height:Xx.getOuterHeight(w.current)}),H(S.current,{x:n,y:r},e)}))},z=function(e){S.current=e.currentTarget;var t,n=M(S.current);(t=L(S.current)&&n?S.current.firstChild:S.current,!(o.content||j(t,"tooltip")||o.children))||n||(T.current=e,a?Y("updateDelay",q):$(o.onBeforeShow,{originalEvent:e,target:S.current})&&Y("showDelay",(function(){l(!0),$(o.onShow,{originalEvent:e,target:S.current})})))},W=function(e){(X(),a)&&($(o.onBeforeHide,{originalEvent:e,target:S.current})&&Y("hideDelay",(function(){(F()||!1!==k.current)&&(dT.clear(w.current),Xx.removeClass(w.current,"p-tooltip-active"),l(!1),$(o.onHide,{originalEvent:e,target:S.current}))})))},H=function(e,t,n){var r=0,i=0,s=n||c;if((R(e)||"mouse"==s)&&t){var a={width:Xx.getOuterWidth(w.current),height:Xx.getOuterHeight(w.current)};r=t.x,i=t.y;var l=function(e){return{top:j(e,"mousetracktop")||o.mouseTrackTop,left:j(e,"mousetrackleft")||o.mouseTrackLeft}}(e),u=l.top,d=l.left;switch(s){case"left":r-=a.width+d,i-=a.height/2-u;break;case"right":case"mouse":r+=d,i-=a.height/2-u;break;case"top":r-=a.width/2-d,i-=a.height+u;break;case"bottom":r-=a.width/2-d,i+=u}r<=0||C.current.width>a.width?(w.current.style.left="0px",w.current.style.right=window.innerWidth-a.width-r+"px"):(w.current.style.right="",w.current.style.left=r+"px"),w.current.style.top=i+"px",Xx.addClass(w.current,"p-tooltip-active")}else{var f=Xx.findCollisionPosition(s),p=j(e,"my")||o.my||f.my,m=j(e,"at")||o.at||f.at;w.current.style.padding="0px",Xx.flipfitCollision(w.current,e,p,m,(function(e){var t=e.at,n=t.x,r=t.y,i=e.my.x,s=o.at?"center"!==n&&n!==i?n:r:e.at["".concat(f.axis)];w.current.style.padding="",h(s),K(s),Xx.addClass(w.current,"p-tooltip-active")}))}},K=function(e){if(w.current){var t=getComputedStyle(w.current);"left"===e?w.current.style.left=parseFloat(t.left)-2*parseFloat(t.paddingLeft)+"px":"top"===e&&(w.current.style.top=parseFloat(t.top)-2*parseFloat(t.paddingTop)+"px")}},G=function(e){if(e){var t=B(e),n=t.showEvents,r=t.hideEvents,i=J(e);n.forEach((function(e){return null===i||void 0===i?void 0:i.addEventListener(e,z)})),r.forEach((function(e){return null===i||void 0===i?void 0:i.addEventListener(e,W)}))}},Q=function(e){if(e){var t=B(e),n=t.showEvents,r=t.hideEvents,i=J(e);n.forEach((function(e){return null===i||void 0===i?void 0:i.removeEventListener(e,z)})),r.forEach((function(e){return null===i||void 0===i?void 0:i.removeEventListener(e,W)}))}},Y=function(e,t){X();var n=j(S.current,e.toLowerCase())||o[e];n?x.current["".concat(e)]=setTimeout((function(){return t()}),n):t()},$=function(e){if(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=e.apply(void 0,n);return void 0===i&&(i=!0),i}return!0},X=function(){Object.values(x.current).forEach((function(e){return clearTimeout(e)}))},J=function(e){if(e){if(L(e)){if(e.hasWrapper)return e.parentElement;var t=document.createElement("div");return"INPUT"===e.nodeName?Xx.addMultipleClasses(t,"p-tooltip-target-wrapper p-inputwrapper"):Xx.addClass(t,"p-tooltip-target-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e),e.hasWrapper=!0,t}var n;return e.hasWrapper&&((n=e.parentElement).replaceWith.apply(n,FI(e.parentElement.childNodes)),delete e.hasWrapper),e}return null},Z=function(e){te(e),ee(e)},ee=function(e){ne(e||o.target,G)},te=function(e){ne(e||o.target,Q)},ne=function(e,t){if(e=tT.getRefElement(e))if(Xx.isElement(e))t(e);else{var n=function(e){Xx.find(document,e).forEach((function(e){t(e)}))};e instanceof Array?e.forEach((function(e){n(e)})):n(e)}};jT((function(){a&&S.current&&M(S.current)&&W()})),zT((function(){return ee(),function(){te()}}),[z,W,o.target]),zT((function(){if(a){var e=(n=S.current,j(n,"position")||c),t=j(S.current,"classname");h(e),p(t),q(e),D(),P()}else h(o.position),p(""),S.current=null,C.current=null,k.current=!0;var n;return function(){N(),A()}}),[a]),zT((function(){a&&Y("updateDelay",(function(){V(S.current,(function(){H(S.current)}))}))}),[o.content]),DT((function(){W(),dT.clear(w.current)})),t.useImperativeHandle(n,(function(){return{props:o,updateTargetEvents:Z,loadTargetEvents:ee,unloadTargetEvents:te,show:z,hide:W,getElement:function(){return w.current},getTarget:function(){return S.current}}}));if(a){var re=function(){var e,n=(e=S.current,!(o.content||j(e,"tooltip"))),i=r({id:o.id,className:qx(o.className,v("root",{positionState:c,classNameState:f})),style:o.style,role:"tooltip","aria-hidden":a,onMouseEnter:function(e){F()||(k.current=!1)},onMouseLeave:function(e){return function(e){F()||(k.current=!0,W(e))}(e)}},BI.getOtherProps(o),y("root")),s=r({className:v("arrow"),style:b("arrow",qI({},m))},y("arrow")),l=r({className:v("text")},y("text"));return t.createElement("div",OI({ref:w},i),t.createElement("div",s),t.createElement("div",OI({ref:E},l),n&&o.children))}();return t.createElement(NI,{element:re,appendTo:o.appendTo,visible:!0})}return null})));function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WI.apply(this,arguments)}function HI(e){return HI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HI(e)}function KI(e){var t=function(e,t){if("object"!==HI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==HI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===HI(t)?t:String(t)}function GI(e,t,n){return(t=KI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zI.displayName="Tooltip";var QI={root:function(e){var t=e.props;return qx("p-badge p-component",GI({"p-badge-no-gutter":tT.isNotEmpty(t.value)&&1===String(t.value).length,"p-badge-dot":tT.isEmpty(t.value),"p-badge-lg":"large"===t.size,"p-badge-xl":"xlarge"===t.size},"p-badge-".concat(t.severity),null!==t.severity))}},YI=JT.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:QI,styles:"\n@layer primereact {\n    .p-badge {\n        display: inline-block;\n        border-radius: 10px;\n        text-align: center;\n        padding: 0 .5rem;\n    }\n    \n    .p-overlay-badge {\n        position: relative;\n    }\n    \n    .p-overlay-badge .p-badge {\n        position: absolute;\n        top: 0;\n        right: 0;\n        transform: translate(50%,-50%);\n        transform-origin: 100% 0;\n        margin: 0;\n    }\n    \n    .p-badge-dot {\n        width: .5rem;\n        min-width: .5rem;\n        height: .5rem;\n        border-radius: 50%;\n        padding: 0;\n    }\n    \n    .p-badge-no-gutter {\n        padding: 0;\n        border-radius: 50%;\n    }\n}\n"}});function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var XI=t.memo(t.forwardRef((function(e,n){var r=FT(),i=t.useContext(ST),o=YI.getProps(e,i),s=YI.setMetaData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$I(Object(n),!0).forEach((function(t){GI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({props:o},o.__parentMetadata)),a=s.ptm,l=s.cx,u=s.isUnstyled;iI(YI.css.styles,u,{name:"badge"});var c=t.useRef(null);t.useImperativeHandle(n,(function(){return{props:o,getElement:function(){return c.current}}}));var h=r({ref:c,style:o.style,className:qx(o.className,l("root"))},YI.getOtherProps(o),a("root"));return t.createElement("span",h,o.value)})));XI.displayName="Badge";var JI={icon:function(e){var t=e.props;return qx("p-button-icon p-c",GI({},"p-button-icon-".concat(t.iconPos),t.label))},loadingIcon:function(e){var t=e.props;return qx(e.className,{"p-button-loading-icon":t.loading})},label:"p-button-label p-c",root:function(e){var t=e.props,n=e.size,r=e.disabled;return qx("p-button p-component",GI(GI(GI(GI({"p-button-icon-only":(t.icon||t.loading)&&!t.label&&!t.children,"p-button-vertical":("top"===t.iconPos||"bottom"===t.iconPos)&&t.label,"p-disabled":r,"p-button-loading":t.loading,"p-button-outlined":t.outlined,"p-button-raised":t.raised,"p-button-link":t.link,"p-button-text":t.text,"p-button-rounded":t.rounded,"p-button-loading-label-only":t.loading&&!t.icon&&t.label},"p-button-loading-".concat(t.iconPos),t.loading&&t.label),"p-button-".concat(n),n),"p-button-".concat(t.severity),t.severity),"p-button-plain",t.plain))}},ZI=JT.extend({defaultProps:{__TYPE:"Button",__parentMetadata:null,badge:null,badgeClassName:null,className:null,children:void 0,disabled:!1,icon:null,iconPos:"left",label:null,link:!1,loading:!1,loadingIcon:null,outlined:!1,plain:!1,raised:!1,rounded:!1,severity:null,size:null,text:!1,tooltip:null,tooltipOptions:null,visible:!0},css:{classes:JI}});function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach((function(t){GI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nD=t.memo(t.forwardRef((function(e,n){var r=FT(),i=t.useContext(ST),o=ZI.getProps(e,i),s=o.disabled||o.loading,a=tD(tD({props:o},o.__parentMetadata),{},{context:{disabled:s}}),l=ZI.setMetaData(a),u=l.ptm,c=l.cx,h=l.isUnstyled;iI(ZI.css.styles,h,{name:"button",styled:!0});var d=t.useRef(n);if(t.useEffect((function(){tT.combinedRefs(d,n)}),[d,n]),!1===o.visible)return null;var f=!s||o.tooltipOptions&&o.tooltipOptions.showOnDisabled,p=tT.isNotEmpty(o.tooltip)&&f,m={large:"lg",small:"sm"}[o.size],g=function(){var e=qx("p-button-icon p-c",GI({},"p-button-icon-".concat(o.iconPos),o.label)),n=r({className:c("icon")},u("icon"));e=qx(e,{"p-button-loading-icon":o.loading});var i=r({className:c("loadingIcon",{className:e})},u("loadingIcon")),s=o.loading?o.loadingIcon||t.createElement(vI,WI({},i,{spin:!0})):o.icon;return rT.getJSXIcon(s,tD({},n),{props:o})}(),y=function(){var e=r({className:c("label")},u("label"));return o.label?t.createElement("span",e,o.label):!o.children&&!o.label&&t.createElement("span",WI({},e,{dangerouslySetInnerHTML:{__html:"&nbsp;"}}))}(),v=function(){if(o.badge){var e=r({className:qx(o.badgeClassName),value:o.badge,unstyled:o.unstyled,__parentMetadata:{parent:a}},u("badge"));return t.createElement(XI,e,o.badge)}return null}(),b=o.label?o.label+(o.badge?" "+o.badge:""):o["aria-label"],_=r({ref:d,"aria-label":b,className:qx(o.className,c("root",{size:m,disabled:s})),disabled:s},ZI.getOtherProps(o),u("root"));return t.createElement(t.Fragment,null,t.createElement("button",_,g,y,o.children,v,t.createElement(xI,null)),p&&t.createElement(zI,WI({target:d,content:o.tooltip},o.tooltipOptions,{pt:u("tooltip")})))})));function rD(){return rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rD.apply(this,arguments)}nD.displayName="Button";var iD=t.memo(t.forwardRef((function(e,n){var r=oI.getPTI(e);return t.createElement("svg",rD({ref:n,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t.createElement("path",{d:"M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z",fill:"currentColor"}))})));function oD(){return oD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oD.apply(this,arguments)}iD.displayName="CalendarIcon";var sD=t.memo(t.forwardRef((function(e,n){var r=oI.getPTI(e);return t.createElement("svg",oD({ref:n,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))})));function aD(){return aD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aD.apply(this,arguments)}sD.displayName="ChevronDownIcon";var lD=t.memo(t.forwardRef((function(e,n){var r=oI.getPTI(e);return t.createElement("svg",aD({ref:n,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t.createElement("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"}))})));function uD(){return uD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uD.apply(this,arguments)}lD.displayName="ChevronLeftIcon";var cD=t.memo(t.forwardRef((function(e,n){var r=oI.getPTI(e);return t.createElement("svg",uD({ref:n,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))})));function hD(){return hD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hD.apply(this,arguments)}cD.displayName="ChevronRightIcon";var dD=t.memo(t.forwardRef((function(e,n){var r=oI.getPTI(e);return t.createElement("svg",hD({ref:n,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t.createElement("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"}))})));function fD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pD(e){return function(e){if(Array.isArray(e))return fD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return fD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fD(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}dD.displayName="ChevronUpIcon";var mD={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return mD.DEFAULT_MASKS[e]?mD.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,t,n){!n&&Xx.isAndroid()&&this.validateKey(e,e.data,t)},onKeyPress:function(e,t,n){n||Xx.isAndroid()||e.ctrlKey||e.altKey||this.validateKey(e,e.key,t)},onPaste:function(e,t,n){if(!n){var r=this.getRegex(t);pD(e.clipboardData.getData("text")).forEach((function(t){if(!r.test(t))return e.preventDefault(),!1}))}},validateKey:function(e,t,n){null!==t&&void 0!==t&&(1===t.length&&(this.getRegex(n).test(t)||e.preventDefault()))},validate:function(e,t){var n=e.target.value,r=!0,i=this.getRegex(t);return n&&!i.test(n)&&(r=!1),r}};function gD(){return gD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gD.apply(this,arguments)}function yD(e){return yD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yD(e)}function vD(e){var t=function(e,t){if("object"!==yD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yD(t)?t:String(t)}var bD={root:function(e){var t=e.props,n=e.isFilled;return qx("p-inputtext p-component",{"p-disabled":t.disabled,"p-filled":n},t.className)}},_D=JT.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1},css:{classes:bD}});function wD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ED(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=vD(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SD=t.memo(t.forwardRef((function(e,n){var r=FT(),i=t.useContext(ST),o=_D.getProps(e,i),s=_D.setMetaData(ED(ED({props:o},o.__parentMetadata),{},{context:{disabled:o.disabled}})),a=s.ptm,l=s.cx,u=s.isUnstyled;iI(_D.css.styles,u,{name:"inputtext",styled:!0});var c=t.useRef(n);t.useEffect((function(){tT.combinedRefs(c,n)}),[c,n]);var h=t.useMemo((function(){return tT.isNotEmpty(o.value)||tT.isNotEmpty(o.defaultValue)}),[o.value,o.defaultValue]),d=tT.isNotEmpty(o.tooltip),f=r({className:qx(o.className,l("root",{isFilled:h})),onBeforeInput:function(e){o.onBeforeInput&&o.onBeforeInput(e),o.keyfilter&&mD.onBeforeInput(e,o.keyfilter,o.validateOnly)},onInput:function(e){var t=e.target,n=!0;o.keyfilter&&o.validateOnly&&(n=mD.validate(e,o.keyfilter)),o.onInput&&o.onInput(e,n),tT.isNotEmpty(t.value)?Xx.addClass(t,"p-filled"):Xx.removeClass(t,"p-filled")},onKeyDown:function(e){o.onKeyDown&&o.onKeyDown(e),o.keyfilter&&mD.onKeyPress(e,o.keyfilter,o.validateOnly)},onPaste:function(e){o.onPaste&&o.onPaste(e),o.keyfilter&&mD.onPaste(e,o.keyfilter,o.validateOnly)}},_D.getOtherProps(o),a("root"));return t.createElement(t.Fragment,null,t.createElement("input",gD({ref:c},f)),d&&t.createElement(zI,gD({target:c,content:o.tooltip},o.tooltipOptions,{pt:a("tooltip")})))})));SD.displayName="InputText";var CD=function(){var e=new Map;return{on:function(t,n){var r=e.get(t);r?r.push(n):r=[n],e.set(t,r)},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){var r=e.get(t);r&&r.slice().forEach((function(e){return e(n)}))}}}();function kD(){return kD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kD.apply(this,arguments)}function xD(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function TD(e,t){return TD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TD(e,t)}function ID(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,TD(e,t)}function DD(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const ND=!1,OD=t.createContext(null);var PD=function(e){return e.scrollTop},AD="unmounted",RD="exited",MD="entering",LD="entered",FD="exiting",jD=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=RD,r.appearStatus=MD):i=LD:i=t.unmountOnExit||t.mountOnEnter?AD:RD,r.state={status:i},r.nextCallback=null,r}ID(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===AD?{status:RD}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==MD&&n!==LD&&(t=MD):n!==MD&&n!==LD||(t=FD)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===MD){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ka.findDOMNode(this);n&&PD(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===RD&&this.setState({status:AD})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ka.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||ND?this.safeSetState({status:LD},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:MD},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:LD},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ka.findDOMNode(this);t&&!ND?(this.props.onExit(r),this.safeSetState({status:FD},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:RD},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:RD},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ka.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===AD)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,xD(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(OD.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function UD(){}jD.contextType=OD,jD.propTypes={},jD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:UD,onEntering:UD,onEntered:UD,onExit:UD,onExiting:UD,onExited:UD},jD.UNMOUNTED=AD,jD.EXITED=RD,jD.ENTERING=MD,jD.ENTERED=LD,jD.EXITING=FD;const BD=jD;var VD=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=DD(n.className,r):n.setAttribute("class",DD(n.className&&n.className.baseVal||"",r)));var n,r}))},qD=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}ID(n,e);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&PD(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&VD(e,r),i&&VD(e,i),o&&VD(e,o)},r.render=function(){var e=this.props,n=(e.classNames,xD(e,["classNames"]));return t.createElement(BD,kD({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(t.Component);qD.defaultProps={classNames:""},qD.propTypes={};const zD=qD;function WD(e){return WD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WD(e)}function HD(e){var t=function(e,t){if("object"!==WD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==WD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===WD(t)?t:String(t)}var KD={defaultProps:{__TYPE:"CSSTransition",children:void 0},getProps:function(e){return tT.getMergedProps(e,KD.defaultProps)},getOtherProps:function(e){return tT.getDiffProps(e,KD.defaultProps)}};function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GD(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=HD(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YD=t.forwardRef((function(e,n){var r=KD.getProps(e),i=t.useContext(ST),o=r.disabled||r.options&&r.options.disabled||i&&!i.cssTransition||!CT.cssTransition,s=function(e,t){r.onEnter&&r.onEnter(e,t),r.options&&r.options.onEnter&&r.options.onEnter(e,t)},a=function(e,t){r.onEntering&&r.onEntering(e,t),r.options&&r.options.onEntering&&r.options.onEntering(e,t)},l=function(e,t){r.onEntered&&r.onEntered(e,t),r.options&&r.options.onEntered&&r.options.onEntered(e,t)},u=function(e){r.onExit&&r.onExit(e),r.options&&r.options.onExit&&r.options.onExit(e)},c=function(e){r.onExiting&&r.onExiting(e),r.options&&r.options.onExiting&&r.options.onExiting(e)},h=function(e){r.onExited&&r.onExited(e),r.options&&r.options.onExited&&r.options.onExited(e)};if(zT((function(){if(o){var e=tT.getRefElement(r.nodeRef);r.in?(s(e,!0),a(e,!0),l(e,!0)):(u(e),c(e),h(e))}}),[r.in]),o)return r.in?r.children:null;var d={nodeRef:r.nodeRef,in:r.in,onEnter:s,onEntering:a,onEntered:l,onExit:u,onExiting:c,onExited:h},f=QD(QD(QD({},{classNames:r.classNames,timeout:r.timeout,unmountOnExit:r.unmountOnExit}),r.options||{}),d);return t.createElement(zD,f,r.children)}));function $D(){return $D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$D.apply(this,arguments)}function XD(e){return XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XD(e)}function JD(e){var t=function(e,t){if("object"!==XD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==XD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===XD(t)?t:String(t)}function ZD(e,t,n){return(t=JD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tN(e,t){if(e){if("string"===typeof e)return eN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eN(e,t):void 0}}function nN(e){return function(e){if(Array.isArray(e))return eN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||tN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}YD.displayName="CSSTransition";var iN={root:function(e){var t=e.props,n=e.focusedState,r=e.isFilled,i=e.panelVisible;return qx("p-calendar p-component p-inputwrapper",ZD(ZD(ZD(ZD(ZD(ZD({},"p-calendar-w-btn p-calendar-w-btn-".concat(t.iconPos),t.showIcon),"p-calendar-disabled",t.disabled),"p-calendar-timeonly",t.timeOnly),"p-inputwrapper-filled",t.value||r),"p-inputwrapper-focus",n),"p-focus",n||i))},dropdownButton:"p-datepicker-trigger",buttonbar:"p-datepicker-buttonbar",todayButton:"p-button-text",clearButton:"p-button-text",footer:"p-datepicker-footer",yearPicker:"p-yearpicker",year:function(e){var t=e.isYearSelected,n=e.y,r=e.isMonthYearDisabled;return qx("p-yearpicker-year",{"p-highlight":t(n),"p-disabled":r(-1,n)})},monthPicker:"p-monthpicker",month:function(e){var t=e.isMonthSelected,n=e.isMonthYearDisabled,r=e.i,i=e.currentYear;return qx("p-monthpicker-month",{"p-highlight":t(r),"p-disabled":n(r,i)})},hourPicker:"p-hour-picker",secondPicker:"p-second-picker",minutePicker:"p-minute-picker",millisecondPicker:"p-millisecond-picker",ampmPicker:"p-ampm-picker",separatorContainer:"p-separator",dayLabel:function(e){return e.className},day:function(e){var t=e.date;return qx({"p-datepicker-other-month":t.otherMonth,"p-datepicker-today":t.today})},panel:function(e){return e.panelClassName},previousIcon:"p-datepicker-prev-icon",previousButton:"p-datepicker-prev",nextIcon:"p-datepicker-next-icon",nextButton:"p-datepicker-next",incrementButton:"p-link",decrementButton:"p-link",title:"p-datepicker-title",timePicker:"p-timepicker",monthTitle:"p-datepicker-month p-link",yearTitle:"p-datepicker-year p-link",decadeTitle:"p-datepicker-decade",header:"p-datepicker-header",groupContainer:"p-datepicker-group-container",group:"p-datepicker-group",select:function(e){var t=e.props;return t.monthNavigator&&"month"!==t.view?"p-datepicker-month":t.yearNavigator?"p-datepicker-year":void 0},weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-disabled",container:"p-datepicker-calendar-container",table:"p-datepicker-calendar",transition:"p-connected-overlay"},oN=JT.extend({defaultProps:{__TYPE:"Calendar",appendTo:null,ariaLabelledBy:null,ariaLabel:null,autoZIndex:!0,autoFocus:!1,baseZIndex:0,className:null,clearButtonClassName:"p-button-secondary",dateFormat:null,dateTemplate:null,decadeTemplate:null,decrementIcon:null,disabled:!1,disabledDates:null,disabledDays:null,enabledDates:null,footerTemplate:null,formatDateTime:null,headerTemplate:null,hideOnDateTimeSelect:!1,hourFormat:"24",icon:null,iconPos:"right",id:null,incrementIcon:null,inline:!1,inputClassName:null,inputId:null,inputMode:"none",inputRef:null,inputStyle:null,keepInvalid:!1,locale:null,mask:null,maskSlotChar:"_",maxDate:null,maxDateCount:null,minDate:null,monthNavigator:!1,monthNavigatorTemplate:null,name:null,nextIcon:null,numberOfMonths:1,onBlur:null,onChange:null,onClearButtonClick:null,onFocus:null,onHide:null,onInput:null,onMonthChange:null,onSelect:null,onShow:null,onTodayButtonClick:null,onViewDateChange:null,onVisibleChange:null,panelClassName:null,panelStyle:null,parseDateTime:null,placeholder:null,prevIcon:null,readOnlyInput:!1,required:!1,selectOtherMonths:!1,selectionMode:"single",shortYearCutoff:"+10",showButtonBar:!1,showIcon:!1,showMillisec:!1,showMinMaxRange:!1,showOnFocus:!0,showOtherMonths:!0,showSeconds:!1,showTime:!1,showWeek:!1,stepHour:1,stepMillisec:1,stepMinute:1,stepSecond:1,style:null,tabIndex:null,timeOnly:!1,todayButtonClassName:"p-button-secondary",tooltip:null,tooltipOptions:null,touchUI:!1,transitionOptions:null,value:null,view:"date",viewDate:null,visible:!1,yearNavigator:!1,yearNavigatorTemplate:null,yearRange:null,children:void 0},css:{classes:iN,styles:"\n@layer primereact {\n    .p-calendar {\n        position: relative;\n        display: inline-flex;\n        max-width: 100%;\n    }\n\n    .p-calendar .p-inputtext {\n        flex: 1 1 auto;\n        width: 1%;\n    }\n\n    .p-calendar-w-btn-right .p-inputtext {\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n\n    .p-calendar-w-btn-right .p-datepicker-trigger {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n\n    .p-calendar-w-btn-left .p-inputtext {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n\n    .p-calendar-w-btn-left .p-datepicker-trigger {\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n\n    /* Fluid */\n    .p-fluid .p-calendar {\n        display: flex;\n    }\n\n    .p-fluid .p-calendar .p-inputtext {\n        width: 1%;\n    }\n\n    /* Datepicker */\n    .p-calendar .p-datepicker {\n        min-width: 100%;\n    }\n\n    .p-datepicker {\n        width: auto;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n    .p-datepicker-inline {\n        display: inline-block;\n        position: static;\n        overflow-x: auto;\n    }\n\n    /* Header */\n    .p-datepicker-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    .p-datepicker-header .p-datepicker-title {\n        margin: 0 auto;\n    }\n\n    .p-datepicker-prev,\n    .p-datepicker-next {\n        cursor: pointer;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        position: relative;\n    }\n\n    /* Multiple Month DatePicker */\n    .p-datepicker-multiple-month .p-datepicker-group-container {\n        display: flex;\n    }\n\n    .p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group {\n        flex: 1 1 auto;\n    }\n\n    /* Multiple Month DatePicker */\n    .p-datepicker-multiple-month .p-datepicker-group-container {\n        display: flex;\n    }\n\n    /* DatePicker Table */\n    .p-datepicker table {\n        width: 100%;\n        border-collapse: collapse;\n    }\n\n    .p-datepicker td > span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        margin: 0 auto;\n        overflow: hidden;\n        position: relative;\n    }\n\n    /* Month Picker */\n    .p-monthpicker-month {\n        width: 33.3%;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        overflow: hidden;\n        position: relative;\n    }\n\n    /*  Button Bar */\n    .p-datepicker-buttonbar {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    /* Time Picker */\n    .p-timepicker {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .p-timepicker button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        overflow: hidden;\n        position: relative;\n    }\n\n    .p-timepicker > div {\n        display: flex;\n        align-items: center;\n        flex-direction: column;\n    }\n\n    /* Touch UI */\n    .p-datepicker-touch-ui,\n    .p-calendar .p-datepicker-touch-ui {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        min-width: 80vw;\n        transform: translate(-50%, -50%);\n    }\n\n    /* Year Picker */\n    .p-yearpicker-year {\n        width: 50%;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        overflow: hidden;\n        position: relative;\n    }\n}\n"}}),sN=t.forwardRef((function(e,n){var r=e.cx,i=FT(),o=function(){var o=i({className:r("panel",{panelClassName:e.className}),style:e.style,role:e.inline?null:"dialog",id:e.id,"aria-label":wT("chooseDate",e.locale),"aria-modal":e.inline?null:"true",onClick:e.onClick,onMouseUp:e.onMouseUp},e.ptm("panel",{hostName:e.hostName})),s=i({classNames:r("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},e.ptm("transition",{hostName:e.hostName}));return t.createElement(YD,$D({nodeRef:n},s),t.createElement("div",$D({ref:n},o),e.children))}();return e.inline?o:t.createElement(NI,{element:o,appendTo:e.appendTo})}));function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aN(Object(n),!0).forEach((function(t){ZD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uN(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return cN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function cN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}sN.displayName="CalendarPanel";var hN=t.memo(t.forwardRef((function(e,n){var r=FT(),i=t.useContext(ST),o=oN.getProps(e,i),s=rN(t.useState(!1),2),a=s[0],l=s[1],u=rN(t.useState(!1),2),c=u[0],h=u[1],d=rN(t.useState(null),2),f=d[0],p=d[1],m=rN(t.useState(o.id),2),g=m[0],y=m[1],v={props:o,state:{focused:a,overlayVisible:c,viewDate:f}},b=oN.setMetaData(v),_=b.ptm,w=b.cx,E=b.isUnstyled;iI(oN.css.styles,E,{name:"calendar"});var S=t.useRef(null),C=t.useRef(null),k=t.useRef(o.inputRef),x=t.useRef(null),T=t.useRef(!1),I=t.useRef(null),D=t.useRef(!1),N=t.useRef(null),O=t.useRef(null),P=t.useRef(null),A=t.useRef(!1),R=t.useRef(!1),M=t.useRef(!1),L=t.useRef(!1),F=t.useRef(null),j=t.useRef(!1),U=rN(t.useState("date"),2),B=U[0],V=U[1],q=rN(t.useState(null),2),z=q[0],W=q[1],H=rN(t.useState(null),2),K=H[0],G=H[1],Q=rN(t.useState([]),2),Y=Q[0],$=Q[1],X=IT(o.value),J=o.inline||(o.onVisibleChange?o.visible:c),Z=hT(),ee=g+"_panel",te=function(e){var n=e.target,r=e.overlay,i=e.listener,o=e.when,s=void 0===o||o,a=t.useRef(null),l=t.useRef(null),u=TT(NT({target:"window",type:"click",listener:function(e){i&&i(e,{type:"outside",valid:3!==e.which&&w(e)})}}),2),c=u[0],h=u[1],d=TT(BT({target:"window",listener:function(e){i&&i(e,{type:"resize",valid:!Xx.isTouchDevice()})}}),2),f=d[0],p=d[1],m=TT(NT({target:"window",type:"orientationchange",listener:function(e){i&&i(e,{type:"orientationchange",valid:!0})}}),2),g=m[0],y=m[1],v=TT(UT({target:n,listener:function(e){i&&i(e,{type:"scroll",valid:!0})}}),2),b=v[0],_=v[1],w=function(e){return a.current&&!(a.current.isSameNode(e.target)||a.current.contains(e.target)||l.current&&l.current.contains(e.target))},E=function(){h(),p(),y(),_()};return t.useEffect((function(){s?(a.current=Xx.getTargetElement(n),l.current=Xx.getTargetElement(r)):(E(),a.current=l.current=null)}),[n,r,s]),t.useEffect((function(){E()}),[s]),DT((function(){E()})),[function(){c(),f(),g(),b()},E]}({target:S,overlay:C,listener:function(e,t){var n=t.type;t.valid&&("outside"===n?!A.current&&!Et(e.target)&&mt("outside"):mt()),A.current=!1},when:!(o.touchUI||o.inline)&&J}),ne=rN(te,2),re=ne[0],ie=ne[1],oe=function(){return o.dateFormat||wT("dateFormat",o.locale)},se=function(e){T.current?(l(!0),T.current=!1):(o.showOnFocus&&!J&&pt(),l(!0),o.onFocus&&o.onFocus(e))},ae=function(e){!o.keepInvalid&&Kt(o.value),o.onBlur&&o.onBlur(e),l(!1)},le=function(e){switch(e.code){case"ArrowDown":c?(we(),e.preventDefault()):pt();break;case"Escape":mt(),o.touchUI&&bt();break;case"Tab":C&&C.current&&(Xx.getFocusableElements(C.current).forEach((function(e){return e.tabIndex="-1"})),mt(),o.touchUI&&bt())}},ue=function(e){ce(e,e.target.value),o.onInput&&o.onInput(e)},ce=function(e,t,n){try{var r=$t(t);de(r)&&(ft(e,r),it(e,r.length?r[0]:r))}catch(s){if(n)n();else{var i=o.keepInvalid?t:null;ft(e,i)}}},he=function(){!o.inline&&k.current&&(T.current=!0,Xx.focus(k.current))},de=function(e){var t=!0;return Bt()?Ot(e.getDate(),e.getMonth(),e.getFullYear(),!1)&&Pt(e)||(t=!1):e.every((function(e){return Ot(e.getDate(),e.getMonth(),e.getFullYear(),!1)&&Pt(e)}))&&Vt()&&(t=e.length>1&&e[1]>e[0]),t},fe=function(){J?mt():pt()},pe=function(e){x.current={backward:!0,button:!0},Ee(e)},me=function(e){x.current={backward:!1,button:!0},Se(e)},ge=function(e){switch(e.code){case"Tab":!o.inline&&be(e);break;case"Escape":mt(null,he),e.preventDefault()}},ye=function(e,t,n){if("Enter"===e.code||"Space"===e.code)return Pe(e,t,n),void e.preventDefault();ge(e)},ve=function(e){if("Enter"===e.code||"Space"===e.code)return Ae(),void e.preventDefault()},be=function(e){null===e||void 0===e||e.preventDefault();var t=Xx.getFocusableElements(C.current);if(t&&t.length>0)if(document.activeElement){var n=t.indexOf(document.activeElement);null!==e&&void 0!==e&&e.shiftKey?-1===n||0===n?t[t.length-1].focus():t[n-1].focus():-1===n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()},_e=function(){var e;if("month"===B){var t=Xx.find(C.current,'[data-pc-section="monthpicker"] [data-pc-section="month"]'),n=Xx.findSingle(C.current,'[data-pc-section="monthpicker"] [data-pc-section="month"][data-p-highlight="true"]');t.forEach((function(e){return e.tabIndex=-1})),e=n||t[0]}else{if(!(e=Xx.findSingle(C.current,'span[data-p-highlight="true"]')))e=Xx.findSingle(C.current,"td.p-datepicker-today span:not(.p-disabled)")||Xx.findSingle(C.current,'table td span:not([data-p-disabled="true"])')}e&&(e.tabIndex="0")},we=function(){if(B){var e;if("date"===B){if(!(e=Xx.findSingle(C.current,'span[data-p-highlight="true"]')))e=Xx.findSingle(C.current,"td.p-datepicker-today span:not(.p-disabled)")||Xx.findSingle(C.current,'table td span:not([data-p-disabled="true"])')}else"month"!==B&&"year"!==B||(e=Xx.findSingle(C.current,'span[data-p-highlight="true"]'))||(e=Xx.findSingle(C.current,'[data-pc-section="'.concat(B,'picker"] [data-pc-section="').concat(B,'"]:not([data-p-disabled="true"])')));e&&(e.tabIndex="0",e&&e.focus())}},Ee=function(e){if(o.disabled)e.preventDefault();else{var t=Ye(Ge());if(t.setDate(1),"date"===B)0===t.getMonth()?(t.setMonth(11),t.setFullYear(ke()),W(11)):(t.setMonth(t.getMonth()-1),W((function(e){return e-1})));else if("month"===B){var n=t.getFullYear()-1;if(o.yearNavigator){var r=parseInt(o.yearRange.split(":")[0],10);n<r&&(n=r)}t.setFullYear(n)}"month"===B?t.setFullYear(ke()):"year"===B&&t.setFullYear(lt()),it(e,t),e.preventDefault()}},Se=function(e){if(o.disabled)e.preventDefault();else{var t=Ye(Ge());if(t.setDate(1),"date"===B)11===t.getMonth()?(t.setMonth(0),t.setFullYear(xe()),W(0)):(t.setMonth(t.getMonth()+1),W((function(e){return e+1})));else if("month"===B){var n=t.getFullYear()+1;if(o.yearNavigator){var r=parseInt(o.yearRange.split(":")[1],10);n>r&&(n=r)}t.setFullYear(n)}"month"===B?t.setFullYear(xe()):"year"===B&&t.setFullYear(ut()),it(e,t),e.preventDefault()}},Ce=function(e,t){for(var n=e;n<=t;n++)Y.push(n);$([])},ke=function(){var e=K-1;if(G(e),o.yearNavigator&&e<Y[0]){var t=Y[Y.length-1]-Y[0];Ce(Y[0]-t,Y[Y.length-1]-t)}return e},xe=function(){var e=K+1;if(G(e),o.yearNavigator&&e.current>Y[Y.length-1]){var t=Y[Y.length-1]-Y[0];Ce(Y[0]+t,Y[Y.length-1]+t)}return e},Te=function(e,t){var n=Ge(),r=Ye(n);r.setMonth(parseInt(t,10)),it(e,r)},Ie=function(e,t){var n=Ge(),r=Ye(n);r.setFullYear(parseInt(t,10)),it(e,r)},De=function(e){var t=new Date,n={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),today:!0,selectable:!0},r={hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()};it(e,t),st(e,n,r),o.onTodayButtonClick&&o.onTodayButtonClick(e)},Ne=function(e){j.current=!0,ft(e,null),Kt(null),mt(),o.onClearButtonClick&&o.onClearButtonClick(e)},Oe=function(e){o.inline||CD.emit("overlay-click",{originalEvent:e,target:S.current})},Pe=function(e,t,n){o.disabled||(Me(e,null,t,n),e.preventDefault())},Ae=function(){o.disabled||Le()},Re=function(){o.disabled||Le()},Me=function e(t,n,r,i){switch(Le(),I.current=setTimeout((function(){e(t,100,r,i)}),n||500),r){case 0:1===i?Fe(t):je(t);break;case 1:1===i?Be(t):Ve(t);break;case 2:1===i?qe(t):ze(t);break;case 3:1===i?We(t):He(t)}},Le=function(){I.current&&clearTimeout(I.current)},Fe=function(e){var t=Qe(),n=t.getHours()+o.stepHour;Je(n=n>=24?n-24:n,t)&&(o.maxDate&&o.maxDate.toDateString()===t.toDateString()&&o.maxDate.getHours()===n&&(o.maxDate.getMinutes()<t.getMinutes()||o.maxDate.getMinutes()===t.getMinutes())?o.maxDate.getSeconds()<t.getSeconds()?o.maxDate.getMilliseconds()<t.getMilliseconds()?rt(e,n,o.maxDate.getMinutes(),o.maxDate.getSeconds(),o.maxDate.getMilliseconds()):rt(e,n,o.maxDate.getMinutes(),o.maxDate.getSeconds(),t.getMilliseconds()):rt(e,n,o.maxDate.getMinutes(),t.getSeconds(),t.getMilliseconds()):rt(e,n,t.getMinutes(),t.getSeconds(),t.getMilliseconds())),e.preventDefault()},je=function(e){var t=Qe(),n=t.getHours()-o.stepHour;Je(n=n<0?n+24:n,t)&&(o.minDate&&o.minDate.toDateString()===t.toDateString()&&o.minDate.getHours()===n&&(o.minDate.getMinutes()>t.getMinutes()||o.minDate.getMinutes()===t.getMinutes())?o.minDate.getSeconds()>t.getSeconds()?o.minDate.getMilliseconds()>t.getMilliseconds()?rt(e,n,o.minDate.getMinutes(),o.minDate.getSeconds(),o.minDate.getMilliseconds()):rt(e,n,o.minDate.getMinutes(),o.minDate.getSeconds(),t.getMilliseconds()):rt(e,n,o.minDate.getMinutes(),t.getSeconds(),t.getMilliseconds()):rt(e,n,t.getMinutes(),t.getSeconds(),t.getMilliseconds())),e.preventDefault()},Ue=function(e,t){return o.stepMinute<=1?t?e+t:e:t||e%(t=o.stepMinute)!==0?Math.floor((e+t)/t)*t:e},Be=function(e){var t=Qe(),n=t.getMinutes(),r=Ue(n,o.stepMinute);Ze(r=r>59?r-60:r,t)&&(o.maxDate&&o.maxDate.toDateString()===t.toDateString()&&o.maxDate.getMinutes()===r&&o.maxDate.getSeconds()<t.getSeconds()?o.maxDate.getMilliseconds()<t.getMilliseconds()?rt(e,t.getHours(),r,o.maxDate.getSeconds(),o.maxDate.getMilliseconds()):rt(e,t.getHours(),r,o.maxDate.getSeconds(),t.getMilliseconds()):rt(e,t.getHours(),r,t.getSeconds(),t.getMilliseconds())),e.preventDefault()},Ve=function(e){var t=Qe(),n=t.getMinutes(),r=Ue(n,-o.stepMinute);Ze(r=r<0?r+60:r,t)&&(o.minDate&&o.minDate.toDateString()===t.toDateString()&&o.minDate.getMinutes()===r&&o.minDate.getSeconds()>t.getSeconds()?o.minDate.getMilliseconds()>t.getMilliseconds()?rt(e,t.getHours(),r,o.minDate.getSeconds(),o.minDate.getMilliseconds()):rt(e,t.getHours(),r,o.minDate.getSeconds(),t.getMilliseconds()):rt(e,t.getHours(),r,t.getSeconds(),t.getMilliseconds())),e.preventDefault()},qe=function(e){var t=Qe(),n=t.getSeconds()+o.stepSecond;et(n=n>59?n-60:n,t)&&(o.maxDate&&o.maxDate.toDateString()===t.toDateString()&&o.maxDate.getSeconds()===n&&o.maxDate.getMilliseconds()<t.getMilliseconds()?rt(e,t.getHours(),t.getMinutes(),n,o.maxDate.getMilliseconds()):rt(e,t.getHours(),t.getMinutes(),n,t.getMilliseconds())),e.preventDefault()},ze=function(e){var t=Qe(),n=t.getSeconds()-o.stepSecond;et(n=n<0?n+60:n,t)&&(o.minDate&&o.minDate.toDateString()===t.toDateString()&&o.minDate.getSeconds()===n&&o.minDate.getMilliseconds()>t.getMilliseconds()?rt(e,t.getHours(),t.getMinutes(),n,o.minDate.getMilliseconds()):rt(e,t.getHours(),t.getMinutes(),n,t.getMilliseconds())),e.preventDefault()},We=function(e){var t=Qe(),n=t.getMilliseconds()+o.stepMillisec;tt(n=n>999?n-1e3:n,t)&&rt(e,t.getHours(),t.getMinutes(),t.getSeconds(),n),e.preventDefault()},He=function(e){var t=Qe(),n=t.getMilliseconds()-o.stepMillisec;tt(n=n<0?n+999:n,t)&&rt(e,t.getHours(),t.getMinutes(),t.getSeconds(),n),e.preventDefault()},Ke=function(e){var t=Qe(),n=t.getHours(),r=n>=12?n-12:n+12;Je(Xe(r,!(n>11)),t)&&rt(e,r,t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.preventDefault()},Ge=function(e){var t=o.value,n=e||(o.onViewDateChange?o.viewDate:f);return Array.isArray(t)&&(t=t[0]),n&&$e(n)?n:t&&$e(t)?t:new Date},Qe=function(){if(Bt())return o.value&&o.value instanceof Date?Ye(o.value):Ge();if(qt()){if(o.value&&o.value.length)return Ye(o.value[o.value.length-1])}else if(Vt()&&o.value&&o.value.length){var e=Ye(o.value[0]);return Ye(o.value[1])||e}return new Date},Ye=function(e){return $e(e)?new Date(e.valueOf()):e},$e=function(e){return e instanceof Date&&!isNaN(e)},Xe=function(e,t){return"12"==o.hourFormat?12===e?t?12:0:t?e+12:e:e},Je=function(e,t){var n=!0,r=t?t.toDateString():null;return o.minDate&&r&&o.minDate.toDateString()===r&&o.minDate.getHours()>e&&(n=!1),o.maxDate&&r&&o.maxDate.toDateString()===r&&o.maxDate.getHours()<e&&(n=!1),n},Ze=function(e,t){var n=!0,r=t?t.toDateString():null;return o.minDate&&r&&o.minDate.toDateString()===r&&t.getHours()===o.minDate.getHours()&&o.minDate.getMinutes()>e&&(n=!1),o.maxDate&&r&&o.maxDate.toDateString()===r&&t.getHours()===o.maxDate.getHours()&&o.maxDate.getMinutes()<e&&(n=!1),n},et=function(e,t){var n=!0,r=t?t.toDateString():null;return o.minDate&&r&&o.minDate.toDateString()===r&&t.getHours()===o.minDate.getHours()&&t.getMinutes()===o.minDate.getMinutes()&&o.minDate.getSeconds()>e&&(n=!1),o.maxDate&&r&&o.maxDate.toDateString()===r&&t.getHours()===o.maxDate.getHours()&&t.getMinutes()===o.maxDate.getMinutes()&&o.maxDate.getSeconds()<e&&(n=!1),n},tt=function(e,t){var n=!0,r=t?t.toDateString():null;return o.minDate&&r&&o.minDate.toDateString()===r&&t.getHours()===o.minDate.getHours()&&t.getSeconds()===o.minDate.getSeconds()&&t.getMinutes()===o.minDate.getMinutes()&&o.minDate.getMilliseconds()>e&&(n=!1),o.maxDate&&r&&o.maxDate.toDateString()===r&&t.getHours()===o.maxDate.getHours()&&t.getSeconds()===o.maxDate.getSeconds()&&t.getMinutes()===o.maxDate.getMinutes()&&o.maxDate.getMilliseconds()<e&&(n=!1),n},nt=function(e){if(o.yearNavigator){var t=e.getFullYear(),n=o.yearRange?parseInt(o.yearRange.split(":")[0],10):null,r=o.yearRange?parseInt(o.yearRange.split(":")[1],10):null,i=o.minDate&&null!=n?Math.max(o.minDate.getFullYear(),n):o.minDate||n,s=o.maxDate&&null!=r?Math.min(o.maxDate.getFullYear(),r):o.maxDate||r;i&&i>t&&(t=i),s&&s<t&&(t=s),e.setFullYear(t)}if(an(0)){var a=e.getMonth(),l=parseInt(tn(e)&&Math.max(o.minDate.getMonth(),a).toString()||nn(e)&&Math.min(o.maxDate.getMonth(),a).toString()||a);e.setMonth(l)}},rt=function(e,t,n,r,i){var s=Qe();if(s.setHours(t),s.setMinutes(n),s.setSeconds(r),s.setMilliseconds(i),qt())if(o.value&&o.value.length){var a=nN(o.value);a[a.length-1]=s,s=a}else s=[s];else if(Vt())if(o.value&&o.value.length){var l=o.value[0];s=o.value[1]?[l,s]:[s,null]}else s=[s,null];ft(e,s),o.onSelect&&o.onSelect({originalEvent:e,value:s}),Kt(s)},it=function(e,t){nt(t),o.onViewDateChange&&e?o.onViewDateChange({originalEvent:e,value:t}):(D.current=!0,p(t)),W(t.getMonth()),G(t.getFullYear())},ot=function(e,t,n){if(e)if(1===o.numberOfMonths||0===t)x.current={backward:!0},Ee(n);else{var r=C.current.children[t-1],i=Xx.find(r,'table td span:not([data-p-disabled="true"])'),s=i[i.length-1];s.tabIndex="0",s.focus()}else if(1===o.numberOfMonths||t===o.numberOfMonths-1)x.current={backward:!1},Se(n);else{var a=C.current.children[t+1],l=Xx.findSingle(a,'table td span:not([data-p-disabled="true"])');l.tabIndex="0",l.focus()}},st=function(e,t,n){if(!o.disabled&&t.selectable){if(Xx.find(C.current,'table td span:not([data-p-disabled="true"])').forEach((function(e){return e.tabIndex=-1})),e.currentTarget.focus(),qt())if(At(t)){var r=o.value.filter((function(e,n){return!jt(e,t)}));ft(e,r),Kt(r)}else(!o.maxDateCount||!o.value||o.maxDateCount>o.value.length)&&at(e,t,n);else at(e,t,n);o.inline||!Bt()||o.showTime&&!o.hideOnDateTimeSelect||(setTimeout((function(){mt("dateselect")}),100),N.current&&bt()),e.preventDefault()}else e.preventDefault()},at=function(e,t,n){var r=new Date(t.year,t.month,t.day);!function(e,t){if(o.showTime){var n,r,i,s;if(t)n=t.hours,r=t.minutes,i=t.seconds,s=t.milliseconds;else{var a=Qe(),l=[a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()];n=l[0],r=l[1],i=l[2],s=l[3]}e.setHours(n),e.setMinutes(Ue(r)),e.setSeconds(i),e.setMilliseconds(s)}}(r,n),o.minDate&&o.minDate>r&&(r=o.minDate),o.maxDate&&o.maxDate<r&&(r=o.maxDate);var i=r;if(Bt())ft(e,r);else if(qt())i=o.value?[].concat(nN(o.value),[r]):[r],ft(e,i);else if(Vt())if(o.value&&o.value.length){var s=o.value[0],a=o.value[1];a?(s=r,a=null):r.getTime()>=s.getTime()?a=r:(a=s,s=r),ft(e,i=[s,a])}else ft(e,i=[r,null]);o.onSelect&&o.onSelect({originalEvent:e,value:r}),Kt(i)},lt=function(){var e=K-10;return G(e),e},ut=function(){var e=K+10;return G(e),e},ct=function(e){e&&e.code&&("Enter"===e.code||"Space"===e.code)&&(L.current=!0),V("month"),e.preventDefault()},ht=function(e,t){if("month"===o.view)st(e,{year:K,month:t,day:1,selectable:!0}),e.preventDefault();else{W(t),It(t,K);var n=Ye(Qe());n.setDate(1),n.setMonth(t),n.setYear(K),p(n),V("date"),o.onMonthChange&&o.onMonthChange({month:t+1,year:K}),it(e,n)}},dt=function(e,t){"year"===o.view?st(e,{year:t,month:0,day:1,selectable:!0}):(G(t),V("month"),o.onMonthChange&&o.onMonthChange({month:z+1,year:t}))},ft=function(e,t){if(o.onChange){var n=Ye(t);D.current=!0,F.current({originalEvent:e,value:n,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:o.name,id:o.id,value:n}})}},pt=function(e){o.onVisibleChange?o.onVisibleChange({visible:!0,type:e}):(h(!0),O.current=function(e){wt(e)||(A.current=!0)},CD.on("overlay-click",O.current))},mt=function(e,t){var n=function(){D.current=!1,T.current=!1,A.current=!1,t&&t(),CD.off("overlay-click",O.current),O.current=null};o.touchUI&&bt(),o.onVisibleChange?o.onVisibleChange({visible:"dateselect"!==e,type:e,callback:n}):(h(!1),n())},gt=function(){return"self"===(o.appendTo||i&&i.appendTo||CT.appendTo)||o.inline},yt=function(){o.touchUI?vt():C&&C.current&&k&&k.current&&(Xx.alignOverlay(C.current,k.current,o.appendTo||i&&i.appendTo||CT.appendTo),gt()?Xx.relativePosition(C.current,k.current):Xx.absolutePosition(C.current,k.current))},vt=function(){N.current||(N.current=document.createElement("div"),N.current.style.zIndex=String(dT.get(C.current)-1),!E()&&Xx.addMultipleClasses(N.current,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay-enter"),P.current=function(){bt(),mt()},N.current.addEventListener("click",P.current),document.body.appendChild(N.current),Xx.blockBodyScroll())},bt=function(){N.current&&(E?_t():(!E()&&Xx.addClass(N.current,"p-component-overlay-leave"),N.current.addEventListener("animationend",(function(){_t()}))))},_t=function(){N.current&&(N.current.removeEventListener("click",P.current),P.current=null,document.body.removeChild(N.current),N.current=null);for(var e,t=document.body.children,n=0;n<t.length;n++){var r=t[n];if(Xx.hasClass(r,"p-datepicker-mask-scrollblocker")){e=!0;break}}e||Xx.unblockBodyScroll()},wt=function(e){return S.current&&!(S.current.isSameNode(e.target)||Et(e.target)||S.current.contains(e.target)||C.current&&C.current.contains(e.target))},Et=function(e){return R.current&&(R.current.isSameNode(e)||R.current.contains(e))||M.current&&(M.current.isSameNode(e)||M.current.contains(e))},St=function(e,t){return 32-Ct(new Date(t,e,32)).getDate()},Ct=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},kt=function(e,t){var n,r;return 0===e?(n=11,r=t-1):(n=e-1,r=t),{month:n,year:r}},xt=function(e,t){var n,r;return 11===e?(n=0,r=t+1):(n=e+1,r=t),{month:n,year:r}},Tt=function(){var e=wT("firstDayOfWeek",o.locale);return e>0?7-e:0},It=function(e,t){for(var n=[],r=0;r<o.numberOfMonths;r++){var i=e+r,s=t;i>11&&(i=i%11-1,s=t+1),n.push(Dt(i,s))}return n},Dt=function(e,t){for(var n=[],r=function(e,t){var n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(t);var r=n.getDay()+Tt();return r>=7?r-7:r}(e,t),i=St(e,t),s=function(e,t){var n=kt(e,t);return St(n.month,n.year)}(e,t),a=1,l=new Date,u=[],c=Math.ceil((i+r)/7),h=0;h<c;h++){var d=[];if(0===h){for(var f=s-r+1;f<=s;f++){var p=kt(e,t);d.push({day:f,month:p.month,year:p.year,otherMonth:!0,today:zt(l,f,p.month,p.year),selectable:Ot(f,p.month,p.year,!0)})}for(var m=7-d.length,g=0;g<m;g++)d.push({day:a,month:e,year:t,today:zt(l,a,e,t),selectable:Ot(a,e,t,!1)}),a++}else for(var y=0;y<7;y++){if(a>i){var v=xt(e,t);d.push({day:a-i,month:v.month,year:v.year,otherMonth:!0,today:zt(l,a-i,v.month,v.year),selectable:Ot(a-i,v.month,v.year,!0)})}else d.push({day:a,month:e,year:t,today:zt(l,a,e,t),selectable:Ot(a,e,t,!1)});a++}o.showWeek&&u.push(Nt(new Date(d[0].year,d[0].month,d[0].day))),n.push(d)}return{month:e,year:t,dates:n,weekNumbers:u}},Nt=function(e){var t=Ye(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1},Ot=function(e,t,n,r){var i=!0,s=!0,a=!0,l=!0;return o.minDate&&(o.minDate.getFullYear()>n||o.minDate.getFullYear()===n&&(t>-1&&o.minDate.getMonth()>t||t>-1&&o.minDate.getMonth()===t&&e>0&&o.minDate.getDate()>e))&&(i=!1),o.maxDate&&(o.maxDate.getFullYear()<n||o.maxDate.getFullYear()===n&&(t>-1&&o.maxDate.getMonth()<t||t>-1&&o.maxDate.getMonth()===t&&e>0&&o.maxDate.getDate()<e))&&(s=!1),(o.disabledDates||o.enabledDates||o.disabledDays)&&(a=!Wt(e,t,n)),!1===o.selectOtherMonths&&r&&(l=!1),i&&s&&a&&l},Pt=function(e){var t=!0,n=!0;return o.minDate&&o.minDate.toDateString()===e.toDateString()&&(o.minDate.getHours()>e.getHours()||o.minDate.getHours()===e.getHours()&&(o.minDate.getMinutes()>e.getMinutes()||o.minDate.getMinutes()===e.getMinutes()&&(o.minDate.getSeconds()>e.getSeconds()||o.minDate.getSeconds()===e.getSeconds()&&o.minDate.getMilliseconds()>e.getMilliseconds())))&&(t=!1),o.maxDate&&o.maxDate.toDateString()===e.toDateString()&&(o.maxDate.getHours()<e.getHours()||o.maxDate.getHours()===e.getHours()&&(o.maxDate.getMinutes()<e.getMinutes()||o.maxDate.getMinutes()===e.getMinutes()&&(o.maxDate.getSeconds()<e.getSeconds()||o.maxDate.getSeconds()===e.getSeconds()&&o.maxDate.getMilliseconds()<e.getMilliseconds())))&&(n=!1),t&&n},At=function(e){if(!o.value)return!1;if(Bt())return jt(o.value,e);if(qt()){var t,n=!1,r=uN(o.value);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(n=jt(i,e))break}}catch(s){r.e(s)}finally{r.f()}return n}return Vt()?o.value[1]?jt(o.value[0],e)||jt(o.value[1],e)||Ut(o.value[0],o.value[1],e):jt(o.value[0],e):void 0},Rt=function(){return null!=o.value&&"string"!==typeof o.value},Mt=function(e){if(Rt()){var t=Vt()?o.value[0]:o.value;return qt()?t.some((function(t){return t.getMonth()===e&&t.getFullYear()===K})):t.getMonth()===e&&t.getFullYear()===K}return!1},Lt=function(e){if(Rt()){var t=Vt()?o.value[0]:o.value;return qt()?t.some((function(t){return t.getFullYear()===e})):t.getFullYear()===e}return!1},Ft=function(){return o.numberOfMonths>1||o.disabled},jt=function(e,t){return!!(e&&e instanceof Date)&&(e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year)},Ut=function(e,t,n){if(e&&t){var r=new Date(n.year,n.month,n.day);return e.getTime()<=r.getTime()&&t.getTime()>=r.getTime()}return!1},Bt=function(){return"single"===o.selectionMode},Vt=function(){return"range"===o.selectionMode},qt=function(){return"multiple"===o.selectionMode},zt=function(e,t,n,r){return e.getDate()===t&&e.getMonth()===n&&e.getFullYear()===r},Wt=function(e,t,n){var r=!1;if(o.disabledDates&&o.disabledDates.some((function(r){return r.getFullYear()===n&&r.getMonth()===t&&r.getDate()===e}))&&(r=!0),!r&&o.disabledDays&&"date"===B){var i=new Date(n,t,e).getDay();-1!==o.disabledDays.indexOf(i)&&(r=!0)}o.enabledDates&&(o.enabledDates.some((function(r){return r.getFullYear()===n&&r.getMonth()===t&&r.getDate()===e}))?r=!1:o.disabledDays||o.disabledDates||(r=!0));return r},Ht=function(e,t){for(var n=-1===e?new Array(12).fill(0).map((function(e,n){return St(n,t)})):[St(e,t)],r=0;r<n.length;r++)for(var i=n[r],o=-1===e?r:e,s=1;s<=i;s++){if(Ot(s,o,t))return!1}return!0},Kt=function(e){if(k.current){var t="";if(e)try{if(Bt())t=$e(e)?Gt(e):o.keepInvalid?e:"";else if(qt())for(var n=0;n<e.length;n++){var r=e[n];t+=$e(r)?Gt(r):"",n!==e.length-1&&(t+=", ")}else if(Vt()&&e&&e.length){var i=e[0],s=e[1];t=$e(i)?Gt(i):"",s&&(t+=$e(s)?" - "+Gt(s):"")}}catch(a){t=e}k.current.value=t}},Gt=function(e){if(o.formatDateTime)return o.formatDateTime(e);var t=null;return e&&(o.timeOnly?t=Yt(e):(t=Qt(e,oe()),o.showTime&&(t+=" "+Yt(e)))),t},Qt=function(e,t){if(!e)return"";var n,r=function(e){var r=n+1<t.length&&t.charAt(n+1)===e;return r&&n++,r},i=function(e,t,n){var i=""+t;if(r(e))for(;i.length<n;)i="0"+i;return i},s=function(e,t,n,i){return r(e)?i[t]:n[t]},a="",l=!1,u=ET(o.locale),c=u.dayNamesShort,h=u.dayNames,d=u.monthNamesShort,f=u.monthNames;if(e)for(n=0;n<t.length;n++)if(l)"'"!==t.charAt(n)||r("'")?a+=t.charAt(n):l=!1;else switch(t.charAt(n)){case"d":a+=i("d",e.getDate(),2);break;case"D":a+=s("D",e.getDay(),c,h);break;case"o":a+=i("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":a+=i("m",e.getMonth()+1,2);break;case"M":a+=s("M",e.getMonth(),d,f);break;case"y":a+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":a+=e.getTime();break;case"!":a+=1e4*e.getTime()+ticksTo1970;break;case"'":r("'")?a+="'":l=!0;break;default:a+=t.charAt(n)}return a},Yt=function(e){if(!e)return"";var t="",n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds();return"12"===o.hourFormat&&n>11&&12!==n&&(n-=12),"12"===o.hourFormat?t+=0===n?12:n<10?"0"+n:n:t+=n<10?"0"+n:n,t+=":",t+=r<10?"0"+r:r,o.showSeconds&&(t+=":",t+=i<10?"0"+i:i),o.showMillisec&&(t+=".",t+=s<100?(s<10?"00":"0")+s:s),"12"===o.hourFormat&&(t+=e.getHours()>11?" PM":" AM"),t},$t=function(e){if(!e||0===e.trim().length)return null;var t;if(Bt())t=Xt(e);else if(qt()){t=[];var n,r=uN(e.split(","));try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(Xt(i.trim()))}}catch(a){r.e(a)}finally{r.f()}}else if(Vt()){var o=e.split(" - ");t=[];for(var s=0;s<o.length;s++)t[s]=Xt(o[s].trim())}return t},Xt=function(e){if(o.parseDateTime)return o.parseDateTime(e);var t,n=e.split(" ");return o.timeOnly?(t=new Date,Jt(t,n[0],n[1])):o.showTime?(t=en(n[0],oe()),Jt(t,n[1],n[2])):t=en(e,oe()),t},Jt=function(e,t,n){if("12"===o.hourFormat&&"PM"!==n&&"AM"!==n)throw new Error("Invalid Time");var r=Zt(t,n);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second),e.setMilliseconds(r.millisecond)},Zt=function(e,t){var n=(e=o.showMillisec?e.replace(".",":"):e).split(":"),r=o.showSeconds?3:2;if(r=o.showMillisec?r+1:r,n.length!==r||2!==n[0].length||2!==n[1].length||o.showSeconds&&2!==n[2].length||o.showMillisec&&3!==n[3].length)throw new Error("Invalid time");var i=parseInt(n[0],10),s=parseInt(n[1],10),a=o.showSeconds?parseInt(n[2],10):null,l=o.showMillisec?parseInt(n[3],10):null;if(isNaN(i)||isNaN(s)||i>23||s>59||"12"===o.hourFormat&&i>12||o.showSeconds&&(isNaN(a)||a>59)||o.showMillisec&&(isNaN(a)||a>1e3))throw new Error("Invalid time");return"12"===o.hourFormat&&(12!==i&&"PM"===t&&(i+=12),12===i&&"AM"===t&&(i-=12)),{hour:i,minute:s,second:a,millisecond:l}},en=function(e,t){if(null==t||null==e)throw new Error("Invalid arguments");if(""===(e="object"===XD(e)?e.toString():e+""))return null;var n,r,i,s,a=0,l="string"!==typeof o.shortYearCutoff?o.shortYearCutoff:(new Date).getFullYear()%100+parseInt(o.shortYearCutoff,10),u=-1,c=-1,h=-1,d=-1,f=!1,p=function(e){var r=n+1<t.length&&t.charAt(n+1)===e;return r&&n++,r},m=function(t){var n=p(t),r="@"===t?14:"!"===t?20:"y"===t&&n?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?r:1)+","+r+"}"),o=e.substring(a).match(i);if(!o)throw new Error("Missing number at position "+a);return a+=o[0].length,parseInt(o[0],10)},g=function(t,n,r){for(var i=-1,o=p(t)?r:n,s=[],l=0;l<o.length;l++)s.push([l,o[l]]);s.sort((function(e,t){return-(e[1].length-t[1].length)}));for(var u=0;u<s.length;u++){var c=s[u][1];if(e.substr(a,c.length).toLowerCase()===c.toLowerCase()){i=s[u][0],a+=c.length;break}}if(-1!==i)return i+1;throw new Error("Unknown name at position "+a)},y=function(){if(e.charAt(a)!==t.charAt(n))throw new Error("Unexpected literal at position "+a);a++};"month"===o.view&&(h=1),"year"===o.view&&(h=1,c=1);var v=ET(o.locale),b=v.dayNamesShort,_=v.dayNames,w=v.monthNamesShort,E=v.monthNames;for(n=0;n<t.length;n++)if(f)"'"!==t.charAt(n)||p("'")?y():f=!1;else switch(t.charAt(n)){case"d":h=m("d");break;case"D":g("D",b,_);break;case"o":d=m("o");break;case"m":c=m("m");break;case"M":c=g("M",w,E);break;case"y":u=m("y");break;case"@":u=(s=new Date(m("@"))).getFullYear(),c=s.getMonth()+1,h=s.getDate();break;case"!":u=(s=new Date((m("!")-ticksTo1970)/1e4)).getFullYear(),c=s.getMonth()+1,h=s.getDate();break;case"'":p("'")?y():f=!0;break;default:y()}if(a<e.length&&(i=e.substr(a),!/^\s+/.test(i)))throw new Error("Extra/unparsed characters found in date: "+i);if(-1===u?u=(new Date).getFullYear():u<100&&(u+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u<=l?0:-100)),d>-1)for(c=1,h=d;;){if(h<=(r=St(u,c-1)))break;c++,h-=r}if((s=Ct(new Date(u,c-1,h))).getFullYear()!==u||s.getMonth()+1!==c||s.getDate()!==h)throw new Error("Invalid date");return s},tn=function(e){return o.minDate&&o.minDate.getFullYear()===e.getFullYear()},nn=function(e){return o.maxDate&&o.maxDate.getFullYear()===e.getFullYear()};t.useEffect((function(){tT.combinedRefs(k,o.inputRef)}),[k,o.inputRef]),jT((function(){var e=Ge(o.viewDate);if(nt(e),p(e),W(e.getMonth()),G(e.getFullYear()),V(o.view),!g){var t=hT();!g&&y(t)}o.inline&&(C&&C.current.setAttribute(Z,""),o.disabled||(_e(),1===o.numberOfMonths&&(C.current.style.width=Xx.getOuterWidth(C.current)+"px"))),o.value&&(Kt(o.value),rn(o.value)),o.autoFocus&&setTimeout((function(){return Xx.focus(k.current,o.autoFocus)}),200)})),t.useEffect((function(){F.current=o.onChange}),[o.onChange]),t.useEffect((function(){var e=null;return o.mask&&(e=sT(k.current,{mask:o.mask,slotChar:o.maskSlotChar,readOnly:o.readOnlyInput||o.disabled,onChange:function(e){ce(e.originalEvent,e.value,(function(){return!1}))},onBlur:function(e){ce(e,e.target.value)}}).unbindEvents),function(){o.mask&&e&&e()}}),[o.disabled,o.mask,o.readOnlyInput]),zT((function(){L.current&&V(o.view),L.current=!1}),[o.view]),zT((function(){we()}),[B]),zT((function(){o.onViewDateChange||D.current||rn(o.value),o.viewDate&&it(null,Ge(o.viewDate))}),[o.onViewDateChange,o.value,o.viewDate]),zT((function(){(c||o.visible)&&setTimeout((function(){yt()}))}),[B,c,o.visible]),zT((function(){var e=o.value;if(X!==e&&(Kt(e),!J&&e)){var t=e;if(qt())e.length&&(t=e[e.length-1]);else if(Vt()&&e.length){var n=e[0];t=e[1]||n}t instanceof Date&&(nt(t),p(t),W(t.getMonth()),G(t.getFullYear()))}}),[o.value,J]),zT((function(){Kt(o.value)}),[o.dateFormat,o.hourFormat,o.timeOnly,o.showSeconds,o.showMillisec,o.showTime,o.locale]),zT((function(){C.current&&(function(e){if(e&&o.showMinMaxRange&&"date"===o.view&&C.current){var t=Xx.findSingle(C.current,'[data-pc-section="previousbutton"]'),n=Xx.findSingle(C.current,'[data-pc-section="nextbutton"]');if(o.disabled)return!E()&&Xx.addClass(t,"p-disabled"),t.setAttribute("data-p-disabled",!0),!E()&&Xx.addClass(n,"p-disabled"),void n.setAttribute("data-p-disabled",!0);if(o.minDate){var r=Ye(e);0===r.getMonth()?(r.setMonth(11,1),r.setFullYear(r.getFullYear()-1)):r.setMonth(r.getMonth(),1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),o.minDate>r?Xx.addClass(t,"p-disabled"):Xx.removeClass(t,"p-disabled")}if(o.maxDate){var i=Ye(e);11===i.getMonth()?(i.setMonth(0,1),i.setFullYear(i.getFullYear()+1)):i.setMonth(i.getMonth()+1,1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setSeconds(-1),o.maxDate<i?Xx.addClass(n,"p-disabled"):Xx.removeClass(n,"p-disabled")}}}(f),function(){if(x.current){if(x.current.button)_e(),x.current.backward?R.current.focus():M.current.focus();else{var e;if(x.current.backward){var t=Xx.find(C.current,'table td span:not([data-p-disabled="true"])');e=t[t.length-1]}else e=Xx.findSingle(C.current,'table td span:not([data-p-disabled="true"])');e&&(e.tabIndex="0",e.focus())}x.current=null}else _e()}())})),DT((function(){N.current&&(bt(),N.current=null),dT.clear(C.current)})),t.useImperativeHandle(n,(function(){return{props:o,show:pt,hide:mt,getCurrentDateTime:Qe,getViewDate:Ge,updateViewDate:it,focus:function(){return Xx.focus(k.current)},getElement:function(){return S.current},getOverlay:function(){return C.current},getInput:function(){return k.current}}}));var rn=function(e){Array.isArray(e)&&(e=e[0]);var t=X;Array.isArray(t)&&(t=t[0]);var n=o.viewDate&&$e(o.viewDate)?o.viewDate:e&&$e(e)?e:new Date;j.current&&o.showTime&&(n.setHours(0,0,0),j.current=!1),(!t&&e||e&&e instanceof Date&&e.getTime()!==t.getTime())&&nt(n),p(n),D.current=!0},on=function(e){var n=e?{onClick:pe,onKeyDown:function(e){return ge(e)}}:{style:{visibility:"hidden"}},i=r({className:w("previousIcon")},_("previousIcon")),s=o.prevIcon||t.createElement(lD,i),a=rT.getJSXIcon(s,lN({},i),{props:o}),l=ET(o.locale),u=l.prevDecade,c=l.prevYear,h=l.prevMonth,d="year"===B?u:"month"===B?c:h,f=r(lN({type:"button",className:w("previousButton"),"aria-label":d},n),_("previousButton"));return t.createElement("button",$D({ref:R},f),a,t.createElement(xI,null))},sn=function(e){var n=e?{onClick:me,onKeyDown:function(e){return ge(e)}}:{style:{visibility:"hidden"}},i=r({className:w("nextIcon")},_("nextIcon")),s=o.nextIcon||t.createElement(cD,i),a=rT.getJSXIcon(s,lN({},i),{props:o}),l=ET(o.locale),u=l.nextDecade,c=l.nextYear,h=l.nextMonth,d="year"===B?u:"month"===B?c:h,f=r(lN({type:"button",className:w("nextButton"),"aria-label":d},n),_("nextButton"));return t.createElement("button",$D({ref:M},f),a,t.createElement(xI,null))},an=function(e){return o.monthNavigator&&"month"!==o.view&&(1===o.numberOfMonths||0===e)},ln=function(e){if(o.yearNavigator){for(var n=[],i=o.yearRange.split(":"),s=parseInt(i[0],10),a=parseInt(i[1],10),l=s;l<=a;l++)n.push(l);var u=Ge().getFullYear(),c=n.filter((function(e){return!(o.minDate&&o.minDate.getFullYear()>e)&&!(o.maxDate&&o.maxDate.getFullYear()<e)})),h=r({className:w("select"),onChange:function(e){return Ie(e,e.target.value)},value:u},_("select")),d=t.createElement("select",h,c.map((function(e){var n=r({value:e},_("option"));return t.createElement("option",$D({},n,{key:e}),e)})));if(o.yearNavigatorTemplate){var f=c.map((function(e,t){return{label:e,value:e,index:t}})),p={onChange:Ie,className:"p-datepicker-year",value:u,names:c,options:f,element:d,props:o};return tT.getJSXElement(o.yearNavigatorTemplate,p)}return d}var m=o.numberOfMonths>1?e:K,g=r({className:w("yearTitle"),"aria-label":wT("chooseYear",o.locale),onClick:function(e){return(t=e)&&t.code&&("Enter"===t.code||"Space"===t.code)&&(L.current=!0),V("year"),void t.preventDefault();var t},disabled:Ft()},_("yearTitle"));return"year"!==B&&t.createElement("button",g,m)},un=function(){var e=gn(),n=r({className:w("decadeTitle")},_("decadeTitle"));if("year"===B){var i=r(_("decadeTitleText"));return t.createElement("span",n,o.decadeTemplate?o.decadeTemplate(e):t.createElement("span",i,"".concat(gn()[0]," - ").concat(gn()[gn().length-1])))}return null},cn=function(e,n){var i=function(e,n){var i=wT("monthNames",o.locale);if(an(n)){var s=Ge(),a=s.getMonth(),l=i.map((function(e,t){return(!tn(s)||t>=o.minDate.getMonth())&&(!nn(s)||t<=o.maxDate.getMonth())?{label:e,value:t,index:t}:null})).filter((function(e){return!!e})),u=l.map((function(e){return e.label})),c=r({className:w("select"),onChange:function(e){return Te(e,e.target.value)},value:a},_("select")),h=t.createElement("select",c,l.map((function(e){var n=r({value:e.value},_("option"));return t.createElement("option",$D({},n,{key:e.label}),e.label)})));if(o.monthNavigatorTemplate){var d={onChange:Te,className:"p-datepicker-month",value:a,names:u,options:l,element:h,props:o};return tT.getJSXElement(o.monthNavigatorTemplate,d)}return h}var f=r({className:w("monthTitle"),onKeyDown:ge,"aria-label":wT("chooseMonth",o.locale),onClick:ct,disabled:Ft()},_("monthTitle"));return"date"===B&&t.createElement("button",f,i[e])}(e.month,n),s=ln(e.year),a=un(),l=r({className:w("title")},_("title")),u=wT("showMonthAfterYear",o.locale);return t.createElement("div",l,u?s:i,u?i:s,a)},hn=function(e,n,i){var s=o.dateTemplate?o.dateTemplate(e):e.day,a=At(e),l=r({className:w("dayLabel",{className:n}),"aria-selected":a,"aria-disabled":!e.selectable,onClick:function(t){return st(t,e)},onKeyDown:function(t){return function(e,t,n){var r=e.currentTarget,i=r.parentElement,s=Xx.index(i);switch(e.code){case"ArrowDown":if(r.tabIndex="-1",i.parentElement.nextElementSibling){var a=Xx.index(i.parentElement),l=Array.from(i.parentElement.parentElement.children).slice(a+1).find((function(e){var t=e.children[s].children[0];return!Xx.getAttribute(t,"data-p-disabled")}));if(l){var u=l.children[s].children[0];u.tabIndex="0",u.focus()}else x.current={backward:!1},Se(e)}else x.current={backward:!1},Se(e);e.preventDefault();break;case"ArrowUp":if(r.tabIndex="-1",e.altKey)mt(null,he);else if(i.parentElement.previousElementSibling){var c=Xx.index(i.parentElement),h=Array.from(i.parentElement.parentElement.children).slice(0,c).reverse().find((function(e){var t=e.children[s].children[0];return!Xx.getAttribute(t,"data-p-disabled")}));if(h){var d=h.children[s].children[0];d.tabIndex="0",d.focus()}else x.current={backward:!0},Ee(e)}else x.current={backward:!0},Ee(e);e.preventDefault();break;case"ArrowLeft":if(r.tabIndex="-1",i.previousElementSibling){var f=Array.from(i.parentElement.children).slice(0,s).reverse().find((function(e){var t=e.children[0];return!Xx.getAttribute(t,"data-p-disabled")}));if(f){var p=f.children[0];p.tabIndex="0",p.focus()}else ot(!0,n,e)}else ot(!0,n,e);e.preventDefault();break;case"ArrowRight":if(r.tabIndex="-1",i.nextElementSibling){var m=Array.from(i.parentElement.children).slice(s+1).find((function(e){var t=e.children[0];return!Xx.getAttribute(t,"data-p-disabled")}));if(m){var g=m.children[0];g.tabIndex="0",g.focus()}else ot(!1,n,e)}else ot(!1,n,e);e.preventDefault();break;case"Enter":case"NumpadEnter":case"Space":st(e,t),e.preventDefault();break;case"Escape":mt(null,he),e.preventDefault();break;case"Tab":o.inline||be(e);break;case"Home":r.tabIndex="-1";var y=i.parentElement.children[0].children[0];Xx.getAttribute(y,"data-p-disabled")?ot(n,!0,e):(y.tabIndex="0",y.focus()),e.preventDefault();break;case"End":r.tabIndex="-1";var v=i.parentElement,b=v.children[v.children.length-1].children[0];Xx.getAttribute(b,"data-p-disabled")?ot(n,!1,e):(b.tabIndex="0",b.focus()),e.preventDefault();break;case"PageUp":r.tabIndex="-1",e.shiftKey?(x.current={backward:!0},Ee(e)):ot(n,!0,e),e.preventDefault();break;case"PageDown":r.tabIndex="-1",e.shiftKey?(x.current={backward:!1},Se(e)):ot(n,!1,e),e.preventDefault()}}(t,e,i)},"data-p-highlight":a,"data-p-disabled":!e.selectable},_("dayLabel",{context:{selected:a,disabled:!e.selectable}}));return t.createElement("span",l,s,a&&t.createElement("div",{"aria-live":"polite",className:"p-hidden-accessible","data-p-hidden-accessible":!0,pt:_("hiddenSelectedDay")}))},dn=function(e,n){var i=r(_("tableBodyRowProps"));return e.dates.map((function(s,a){return t.createElement("tr",$D({},i,{key:a}),function(e,n,i){var s=e.map((function(e){var n=qx({"p-highlight":At(e),"p-disabled":!e.selectable}),s=e.otherMonth&&!o.showOtherMonths?null:hn(e,n,i),a=r({className:w("day",{date:e}),"aria-label":e.day,"data-p-today":e.today,"data-p-other-month":e.otherMonth},_("day",{context:{date:e,today:e.today,otherMonth:e.otherMonth}}));return t.createElement("td",$D({},a,{key:e.day}),s)}));if(o.showWeek){var a=r({className:w("weekNumber")},_("weekNumber")),l=r({className:w("weekLabelContainer"),"data-p-disabled":o.showWeek},_("weekLabelContainer",{context:{disabled:o.showWeek}}));return[t.createElement("td",$D({},a,{key:"wn"+n}),t.createElement("span",l,n))].concat(nN(s))}return s}(s,e.weekNumbers[a],n))}))},fn=function(e,n,i){var s=function(e){var n=r(_("weekDay")),i=r({scope:"col"},_("tableHeaderCell")),s=e.map((function(e,r){return t.createElement("th",$D({},i,{key:"".concat(e,"-").concat(r)}),t.createElement("span",n,e))}));if(o.showWeek){var a=r({scope:"col",className:w("weekHeader"),"data-p-disabled":o.showWeek},_("weekHeader",{context:{disabled:o.showWeek}})),l=r(_("weekLabel"));return[t.createElement("th",$D({},a,{key:"wn"}),t.createElement("span",l,wT("weekHeader",o.locale)))].concat(nN(s))}return s}(n),a=dn(e,i),l=r({className:w("container"),key:hT("calendar_container_")},_("container")),u=r({role:"grid",className:w("table")},_("table")),c=r(_("tableHeader")),h=r(_("tableHeaderRow")),d=r(_("tableBody"));return"date"===B&&t.createElement("div",l,t.createElement("table",u,t.createElement("thead",c,t.createElement("tr",h,s)),t.createElement("tbody",d,a)))},pn=function(e,n){var i=function(){for(var e=[],t=ET(o.locale),n=t.firstDayOfWeek,r=t.dayNamesMin,i=0;i<7;i++)e.push(r[n]),n=6===n?0:++n;return e}(),s=on(0===n),a=sn(1===o.numberOfMonths||n===o.numberOfMonths-1),l=cn(e,n),u=fn(e,i,n),c=o.headerTemplate?o.headerTemplate():null,h=e.month+"-"+e.year,d=r({className:w("group")},_("group")),f=r({className:w("header"),key:n},_("header"));return t.createElement("div",$D({},d,{key:h}),t.createElement("div",f,c,s,l,a),u)},mn=function(){var e=Ge(),n=function(e){var n=e.map(pn),i=r({className:w("groupContainer")},_("groupContainer"));return t.createElement("div",i,n)}(It(e.getMonth(),e.getFullYear()));return n},gn=function(){for(var e=[],t=K-K%10,n=0;n<10;n++)e.push(t+n);return e},yn=r(_("incrementIcon")),vn=r(_("decrementIcon")),bn=rT.getJSXIcon(o.incrementIcon||t.createElement(dD,yn),lN({},yn),{props:o}),_n=rT.getJSXIcon(o.decrementIcon||t.createElement(sD,vn),lN({},vn),{props:o}),wn=function(e){var n=r({className:w("separatorContainer")},_("separatorContainer")),i=r(_("separator"));return t.createElement("div",n,t.createElement("span",i,e))},En=qx("p-datepicker p-component",o.panelClassName,{"p-datepicker-inline":o.inline,"p-disabled":o.disabled,"p-datepicker-timeonly":o.timeOnly,"p-datepicker-multiple-month":o.numberOfMonths>1,"p-datepicker-monthpicker":"month"===B,"p-datepicker-touch-ui":o.touchUI,"p-input-filled":i&&"filled"===i.inputStyle||"filled"===CT.inputStyle,"p-ripple-disabled":i&&!1===i.ripple||!1===CT.ripple}),Sn=function(){var e=o.inline?null:t.createElement(SD,{ref:k,id:o.inputId,name:o.name,type:"text",role:"combobox",className:o.inputClassName,style:o.inputStyle,readOnly:o.readOnlyInput,disabled:o.disabled,required:o.required,autoComplete:"off",placeholder:o.placeholder,tabIndex:o.tabIndex,onInput:ue,onFocus:se,onBlur:ae,onKeyDown:le,"aria-expanded":c,"aria-autocomplete":"none","aria-haspopup":"dialog","aria-controls":ee,"aria-labelledby":o.ariaLabelledBy,"aria-label":o.ariaLabel,inputMode:o.inputMode,tooltip:o.tooltip,tooltipOptions:o.tooltipOptions,pt:_("input"),__parentMetadata:{parent:v}}),n=o.showIcon?t.createElement(nD,{type:"button",icon:o.icon||t.createElement(iD,null),onClick:fe,tabIndex:"-1",disabled:o.disabled,"aria-haspopup":"dialog","aria-label":wT("chooseDate",o.locale),"aria-expanded":c,"aria-controls":ee,className:w("dropdownButton"),pt:_("dropdownButton"),__parentMetadata:{parent:v}}):null;return"left"===o.iconPos?t.createElement(t.Fragment,null,n,e):t.createElement(t.Fragment,null,e,n)}(),Cn=o.timeOnly?null:"date"===o.view?mn():function(){var e=on(!0),n=sn(!0),i=ln(Ge().getFullYear()),o=un(),s=r({className:w("groupContainer")},_("groupContainer")),a=r({className:w("group")},_("group")),l=r({className:w("header")},_("header")),u=r({className:w("title")},_("title"));return t.createElement(t.Fragment,null,t.createElement("div",s,t.createElement("div",a,t.createElement("div",l,e,t.createElement("div",u,i,o),n))))}(),kn=function(){if((o.showTime||o.timeOnly)&&"date"===B){var e=r({className:w("timePicker")},_("timePicker"));return t.createElement("div",e,function(){var e=Qe(),n=Ue(e.getMinutes()),i=e.getHours();i=n>59?i+1:i,"12"===o.hourFormat&&(0===i?i=12:i>11&&12!==i&&(i-=12));var s=r(_("hour")),a=ET(o.locale),l=a.nextHour,u=a.prevHour,c=i<10?"0"+i:i,h=r({className:w("hourPicker")},_("hourPicker")),d=r({type:"button",className:w("incrementButton"),"aria-label":l,onMouseDown:function(e){return Pe(e,0,1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,0,1)},onKeyUp:ve},_("incrementButton")),f=r({type:"button",className:w("decrementButton"),"aria-label":u,onMouseDown:function(e){return Pe(e,0,-1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,0,-1)},onKeyUp:ve},_("decrementButton"));return t.createElement("div",h,t.createElement("button",d,bn,t.createElement(xI,null)),t.createElement("span",s,c),t.createElement("button",f,_n,t.createElement(xI,null)))}(),wn(":"),function(){var e=Qe(),n=Ue(e.getMinutes());n=n>59?n-60:n;var i=r(_("minute")),s=ET(o.locale),a=s.nextMinute,l=s.prevMinute,u=n<10?"0"+n:n,c=r({className:w("minutePicker")},_("minutePicker")),h=r({type:"button",className:w("incrementButton"),"aria-label":a,onMouseDown:function(e){return Pe(e,1,1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,1,1)},onKeyUp:ve},_("incrementButton")),d=r({type:"button",className:w("decrementButton"),"aria-label":l,onMouseDown:function(e){return Pe(e,1,-1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,1,-1)},onKeyUp:ve},_("decrementButton"));return t.createElement("div",c,t.createElement("button",h,bn,t.createElement(xI,null)),t.createElement("span",i,u),t.createElement("button",d,_n,t.createElement(xI,null)))}(),o.showSeconds&&wn(":"),function(){if(o.showSeconds){var e=Qe(),n=ET(o.locale),i=n.nextSecond,s=n.prevSecond,a=r(_("second")),l=e.getSeconds(),u=l<10?"0"+l:l,c=r({className:w("secondPicker")},_("secondPicker")),h=r({type:"button",className:w("incrementButton"),"aria-label":i,onMouseDown:function(e){return Pe(e,2,1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,2,1)},onKeyUp:ve},_("incrementButton")),d=r({type:"button",className:w("decrementButton"),"aria-label":s,onMouseDown:function(e){return Pe(e,2,-1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,2,-1)},onKeyUp:ve},_("decrementButton"));return t.createElement("div",c,t.createElement("button",h,bn,t.createElement(xI,null)),t.createElement("span",a,u),t.createElement("button",d,_n,t.createElement(xI,null)))}return null}(),o.showMillisec&&wn("."),function(){if(o.showMillisec){var e=Qe(),n=ET(o.locale),i=n.nextMilliSecond,s=n.prevMilliSecond,a=r(_("millisecond")),l=e.getMilliseconds(),u=l<100?(l<10?"00":"0")+l:l,c=r({className:w("millisecondPicker")},_("millisecondPicker")),h=r({type:"button",className:w("incrementButton"),"aria-label":i,onMouseDown:function(e){return Pe(e,3,1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,3,1)},onKeyUp:ve},_("incrementButton")),d=r({type:"button",className:w("decrementButton"),"aria-label":s,onMouseDown:function(e){return Pe(e,3,-1)},onMouseUp:Ae,onMouseLeave:Re,onKeyDown:function(e){return ye(e,3,-1)},onKeyUp:ve},_("decrementButton"));return t.createElement("div",c,t.createElement("button",h,bn,t.createElement(xI,null)),t.createElement("span",a,u),t.createElement("button",d,_n,t.createElement(xI,null)))}return null}(),"12"===o.hourFormat&&wn(":"),function(){if("12"===o.hourFormat){var e=Qe(),n=ET(o.locale),i=n.am,s=n.pm,a=e.getHours()>11?"PM":"AM",l=r(_("ampm")),u=r({className:w("ampmPicker")},_("ampmPicker")),c=r({type:"button",className:w("incrementButton"),"aria-label":i,onClick:function(e){return Ke(e)}},_("incrementButton")),h=r({type:"button",className:w("decrementButton"),"aria-label":s,onClick:function(e){return Ke(e)}},_("decrementButton"));return t.createElement("div",u,t.createElement("button",c,bn,t.createElement(xI,null)),t.createElement("span",l,a),t.createElement("button",h,_n,t.createElement(xI,null)))}return null}())}return null}(),xn=function(){if(o.showButtonBar){var e=ET(o.locale),n=e.today,i=e.clear,s=e.now,a=new Date,l=o.minDate&&o.minDate>a||o.maxDate&&o.maxDate<a,u=r({className:w("buttonbar")},_("buttonbar"));return t.createElement("div",u,t.createElement(nD,{type:"button",label:o.showTime?s:n,onClick:De,onKeyDown:function(e){return ge(e)},className:qx(o.todayButtonClassName,w("todayButton")),pt:_("todayButton"),style:l?{visibility:"hidden"}:void 0}),t.createElement(nD,{type:"button",label:i,onClick:Ne,onKeyDown:function(e){return ge(e)},className:qx(o.clearButtonClassName,w("clearButton")),pt:_("clearButton")}))}return null}(),Tn=function(){if(o.footerTemplate){var e=o.footerTemplate(),n=r({className:w("footer")},_("footer"));return t.createElement("div",n,e)}return null}(),In=function(){if("month"===B){var e=r({className:w("monthPicker")},_("monthPicker"));return t.createElement("div",e,function(){for(var e=[],t=wT("monthNamesShort",o.locale),n=0;n<=11;n++)e.push(t[n]);return e}().map((function(e,n){var i=Mt(n),s=r({className:w("month",{isMonthSelected:Mt,isMonthYearDisabled:Ht,i:n,currentYear:K}),onClick:function(e){return ht(e,n)},onKeyDown:function(e){return function(e,t){var n=e.currentTarget;switch(e.code){case"ArrowUp":case"ArrowDown":n.tabIndex="-1";var r=n.parentElement.children,i=Xx.index(n),s=r[40===e.which?i+3:i-3];s&&(s.tabIndex="0",s.focus()),e.preventDefault();break;case"ArrowLeft":n.tabIndex="-1";var a=n.previousElementSibling;a?(a.tabIndex="0",a.focus()):(x.current={backward:!0},Ee(e)),e.preventDefault();break;case"ArrowRight":n.tabIndex="-1";var l=n.nextElementSibling;l?(l.tabIndex="0",l.focus()):(x.current={backward:!1},Se(e)),e.preventDefault();break;case"PageUp":if(e.shiftKey)return;x.current={backward:!0},Ee(e);break;case"PageDown":if(e.shiftKey)return;x.current={backward:!1},Se(e);break;case"Enter":case"NumpadEnter":case"Space":"month"!==o.view&&(L.current=!0),ht(e,t),e.preventDefault();break;case"Escape":mt(null,he),e.preventDefault();break;case"Tab":be(e)}}(e,n)},"data-p-disabled":Ht(n,K),"data-p-highlight":i},_("month",{context:{month:e,monthIndex:n,selected:i,disabled:Ht(n,K)}}));return t.createElement("span",$D({},s,{key:"month".concat(n+1)}),e,i&&t.createElement("div",{"aria-live":"polite",className:"p-hidden-accessible","data-p-hidden-accessible":!0,pt:_("hiddenMonth")},e))})))}return null}(),Dn=function(){if("year"===B){var e=r({className:w("yearPicker")},_("yearPicker"));return t.createElement("div",e,gn().map((function(e,n){var i=Lt(e),s=r({className:w("year",{isYearSelected:Lt,isMonthYearDisabled:Ht,y:e}),onClick:function(t){return dt(t,e)},onKeyDown:function(t){return function(e,t){var n=e.currentTarget;switch(e.code){case"ArrowUp":case"ArrowDown":n.tabIndex="-1";var r=n.parentElement.children,i=Xx.index(n),s=r["ArrowDown"===e.code?i+2:i-2];s&&(s.tabIndex="0",s.focus()),e.preventDefault();break;case"ArrowLeft":n.tabIndex="-1";var a=n.previousElementSibling;a?(a.tabIndex="0",a.focus()):(x.current={backward:!0},Ee(e)),e.preventDefault();break;case"ArrowRight":n.tabIndex="-1";var l=n.nextElementSibling;l?(l.tabIndex="0",l.focus()):(x.current={backward:!1},Se(e)),e.preventDefault();break;case"PageUp":if(e.shiftKey)return;x.current={backward:!0},Ee(e);break;case"PageDown":if(e.shiftKey)return;x.current={backward:!1},Se(e);break;case"Enter":case"NumpadEnter":case"Space":"year"!==o.view&&(L.current=!0),dt(e,t),e.preventDefault();break;case"Escape":mt(null,he),e.preventDefault();break;case"Tab":be(e)}}(t,e)},"data-p-highlight":Lt(e),"data-p-disabled":Ht(-1,e)},_("year",{context:{year:e,yearIndex:n,selected:i,disabled:Ht(-1,e)}}));return t.createElement("span",$D({},s,{key:"year".concat(n+1)}),e,i&&t.createElement("div",{"aria-live":"polite",className:"p-hidden-accessible","data-p-hidden-accessible":!0,pt:_("hiddenYear")},e))})))}return null}(),Nn=Xx.hasClass(k.current,"p-filled")&&""!==k.current.value,On=r({id:o.id,className:qx(o.className,w("root",{focusedState:a,isFilled:Nn,panelVisible:J})),style:o.style},oN.getOtherProps(o),_("root"));return t.createElement("span",$D({ref:S},On),Sn,t.createElement(sN,{hostName:"Calendar",id:ee,locale:o.locale,ref:C,className:En,style:o.panelStyle,appendTo:o.appendTo,inline:o.inline,onClick:Oe,onMouseUp:function(e){Oe(e)},in:J,onEnter:function(){var e=o.touchUI?{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}:o.inline?void 0:{position:"absolute",top:"0",left:"0"};if(Xx.addStyles(C.current,e),o.autoZIndex){var t=o.touchUI?"modal":"overlay";dT.set(t,C.current,i&&i.autoZIndex||CT.autoZIndex,o.baseZIndex||i&&i.zIndex[t]||CT.zIndex[t])}if(!o.touchUI&&C&&C.current&&k&&k.current&&!gt()){var n=Xx.getOuterWidth(k.current);n<220&&(n=220),"date"===o.view?C.current.style.width=Xx.getOuterWidth(C.current)+"px":C.current.style.width=n+"px",E()||(C.current.style.minWidth=n+"px")}yt()},onEntered:function(){re(),o.onShow&&o.onShow(),l(!1)},onExit:function(){ie()},onExited:function(){dT.clear(C.current),o.onHide&&o.onHide()},transitionOptions:o.transitionOptions,ptm:_,cx:w},Cn,kn,In,Dn,xn,Tn))})));hN.displayName="Calendar";const dN={container:"TaskForm_container__V78YL",date_container:"TaskForm_date_container__vSqbv",input_calendar:"TaskForm_input_calendar__cqXFf",select_container:"TaskForm_select_container__HezYQ"},fN=e=>{let{taskData:n,handleSubmit:r,btnText:i}=e;const[o,s]=(0,t.useState)(n||{}),[a,l]=(0,t.useState)([]),[u,c]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{const e=ut.firestore().collection("categories"),t=(await e.get()).docs.map((e=>({id:e.id,...e.data()})));l(t)})()}),[]),(0,t.useEffect)((()=>{(async()=>{const e=ut.firestore().collection("priorities"),t=(await e.get()).docs.map((e=>({id:e.id,...e.data()})));c(t)})()}),[]);return(0,mu.jsx)("div",{className:dN.container,children:(0,mu.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(o)},children:[(0,mu.jsx)(Ox,{type:"text",text:"Title",name:"title",handleOnChange:function(e){s({...o,[e.target.name]:e.target.value})},value:o.title?o.title:""}),(0,mu.jsxs)("div",{className:dN.date_container,children:[(0,mu.jsx)("label",{htmlFor:"date",children:"Date"}),(0,mu.jsx)(hN,{inputId:"date",value:o.date?new Date(o.date):null,onChange:e=>{const t=e.value?e.value.toISOString():null;s({...o,date:t})},dateFormat:"dd/mm/yy",inputClassName:dN.input_calendar,className:dN.react_calendar})]}),(0,mu.jsxs)("div",{className:dN.select_container,children:[(0,mu.jsx)(Fx,{labelText:"Category",name:"category_id",options:a,handleOnChange:function(e){s({...o,category:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}})},value:o.category?o.category.id:""}),(0,mu.jsx)(Fx,{labelText:"Priority",name:"priority_id",options:u,handleOnChange:function(e){s({...o,priority:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}})},value:o.priority?o.priority.id:""})]}),(0,mu.jsx)(Ax,{text:i})]})})},pN="NewTask_top_container__Q5gWC",mN="NewTask_newTask_container__BTz5F",gN=()=>{const e=Bl(),[n,r]=(0,t.useState)(!0);return(0,mu.jsxs)("div",{className:mN,children:[(0,mu.jsxs)("div",{className:pN,children:[(0,mu.jsx)(hu,{to:"/",children:(0,mu.jsx)(Iu,{})}),(0,mu.jsx)("h1",{children:"Create Task"})]}),(0,mu.jsx)(fN,{handleSubmit:t=>{ut.firestore().collection("tasks").add({...t,completed:!n}).then((()=>{e("/",{state:{message:"Task created successfully!"}})})).catch((e=>{console.error("Error creating task:",e)}))},btnText:"Create"})]})},yN=(e,t)=>"SET_TASK"===t.type?t.payload:e,vN=()=>{const[e,n]=(0,t.useReducer)(yN,null),{id:r}=function(){let{matches:e}=t.useContext(Ml),n=e[e.length-1];return n?n.params:{}}(),i=Bl();(0,t.useEffect)((()=>{(async()=>{const e=ut.firestore(),t=await e.collection("tasks").doc(r).get();t.exists?n({type:"SET_TASK",payload:{id:t.id,...t.data()}}):console.log("Task not found")})()}),[r]);return(0,mu.jsxs)("div",{children:[(0,mu.jsxs)("div",{className:pN,children:[(0,mu.jsx)(hu,{to:"/",children:(0,mu.jsx)(Iu,{})}),(0,mu.jsx)("h1",{children:"Update Task"})]}),e&&(0,mu.jsx)(fN,{btnText:"Update",taskData:e,handleSubmit:e=>{ut.firestore().collection("tasks").doc(r).set(e).then((()=>{console.log("Task updated successfully!"),i("/",{state:{message:"Task updated successfully!"}})})).catch((e=>{console.error("Error updating task:",e)}))}})]})};const bN=function(){return(0,t.useEffect)((()=>{(async()=>{const e=ut.firestore();(await e.collection("suaColecao").get()).forEach((e=>{console.log("Dados:",e.data())}))})()}),[]),(0,mu.jsx)("div",{children:(0,mu.jsx)(lu,{children:(0,mu.jsxs)(nu,{children:[(0,mu.jsx)(eu,{path:"/",element:(0,mu.jsx)(Dx,{})}),(0,mu.jsx)(eu,{path:"/newtask",element:(0,mu.jsx)(gN,{})}),(0,mu.jsx)(eu,{path:"/updatetask/:id",element:(0,mu.jsx)(vN,{})})]})})})};ut.initializeApp({apiKey:"AIzaSyBlVTWAw_uclhBEJ7Ej7Z778n4XcKbDadc",authDomain:"task-ffee3.firebaseapp.com",databaseURL:"https://SEU_PROJETO.firebaseio.com",projectId:"task-ffee3",storageBucket:"task-ffee3.appspot.com",messagingSenderId:"498647412613",appId:"1:498647412613:web:b74de9e2007cc62f629eec"}),(0,i.C)(document.getElementById("root")).render((0,mu.jsx)(t.StrictMode,{children:(0,mu.jsx)(bN,{})}))})()})();
//# sourceMappingURL=main.416dc9e6.js.map